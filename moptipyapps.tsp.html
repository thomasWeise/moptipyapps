<!doctype html><html data-content_root=./ lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1.0"name=viewport><meta content="width=device-width,initial-scale=1"name=viewport><title>moptipyapps.tsp package — moptipyapps 0.8.68 documentation</title><link href="/moptipyapps/_static/pygments.css?v=b86133f3"rel=stylesheet><link href="/moptipyapps/_static/bizstyle.css?v=5283bb3d"rel=stylesheet><script src="/moptipyapps/_static/documentation_options.js?v=f8800668"></script><script src="/moptipyapps/_static/doctools.js?v=9bcbadda"></script><script src="/moptipyapps/_static/sphinx_highlight.js?v=dc90522c"></script><script src=_static/bizstyle.js></script><link href=https://thomasweise.github.io/moptipyapps/moptipyapps.tsp.html rel=canonical><link href=genindex.html rel=index title=Index><link href=search.html rel=search title=Search><link title="moptipyapps.tsp.tsplib package"href=moptipyapps.tsp.tsplib.html rel=next><link title="moptipyapps.tests package"href=moptipyapps.tests.html rel=prev><meta content="width=device-width,initial-scale=1.0"name=viewport><body><div aria-label=Related class=related role=navigation><h3>Navigation</h3><ul><li class=right style=margin-right:10px><a title="General Index"accesskey=I href=genindex.html>index</a><li class=right><a title="Python Module Index"href=py-modindex.html>modules</a> |<li class=right><a title="moptipyapps.tsp.tsplib package"accesskey=N href=moptipyapps.tsp.tsplib.html>next</a> |<li class=right><a title="moptipyapps.tests package"accesskey=P href=moptipyapps.tests.html>previous</a> |<li class="nav-item nav-item-0"><a href=index.html>moptipyapps 0.8.68 documentation</a> »<li class="nav-item nav-item-1"><a href=modules.html>moptipyapps</a> »<li class="nav-item nav-item-2"><a accesskey=U href=moptipyapps.html>moptipyapps package</a> »<li class="nav-item nav-item-this"><a href>moptipyapps.tsp package</a></ul></div><div class=document><div class=documentwrapper><div class=bodywrapper><div class=body role=main><section id=module-moptipyapps.tsp><span id=moptipyapps-tsp-package></span><h1>moptipyapps.tsp package<a title="Link to this heading"class=headerlink href=#module-moptipyapps.tsp>¶</a></h1><p>Experiments with the Traveling Salesperson Problem (TSP).<p>A Traveling Salesperson Problem (TSP) is defined as a fully-connected graph with <a class="reference internal"href=#moptipyapps.tsp.instance.Instance.n_cities title=moptipyapps.tsp.instance.Instance.n_cities><code class="xref py py-attr docutils literal notranslate"><span class=pre>n_cities</span></code></a> nodes. Each edge in the graph has a weight, which identifies the distance between the nodes. The goal is to find the <em>shortest</em> tour that visits every single node in the graph exactly once and then returns back to its starting node. Then nodes are usually called cities. In this file, we present methods for loading instances of the TSP as distance matrices <cite>A</cite>. In other words, the value at <cite>A[i, j]</cite> identifies the travel distance from <cite>i</cite> to <cite>j</cite>. Such instance data can be loaded via class <a class="reference internal"href=#module-moptipyapps.tsp.instance title=moptipyapps.tsp.instance><code class="xref py py-mod docutils literal notranslate"><span class=pre>instance</span></code></a>.<p>In this package, we provide the following tools:<ul class=simple><li><p><a class="reference internal"href=#module-moptipyapps.tsp.instance title=moptipyapps.tsp.instance><code class="xref py py-mod docutils literal notranslate"><span class=pre>instance</span></code></a> allows you to load instance data in the TSPLib format and it provides several instances from TSPLib as resources.<li><p><a class="reference internal"href=#module-moptipyapps.tsp.known_optima title=moptipyapps.tsp.known_optima><code class="xref py py-mod docutils literal notranslate"><span class=pre>known_optima</span></code></a> provides known optimal solutions for some of the TSPLib instances. These should mainly be used for testing purposes.<li><p><a class="reference internal"href=#module-moptipyapps.tsp.tour_length title=moptipyapps.tsp.tour_length><code class="xref py py-mod docutils literal notranslate"><span class=pre>tour_length</span></code></a> is an objective function that can efficiently computed the length of a tour in path representation.<li><p><a class="reference internal"href=moptipyapps.tsp.tsplib.html#module-moptipyapps.tsp.tsplib title=moptipyapps.tsp.tsplib><code class="xref py py-mod docutils literal notranslate"><span class=pre>tsplib</span></code></a> is just a dummy package holding the actual TSPLib data resources.</ul><p>Important initial work on this code has been contributed by Mr. Tianyu LIANG (梁天宇), <<a class="reference external"href=mailto:liangty%40stu.hfuu.edu.cn>liangty<span>@</span>stu<span>.</span>hfuu<span>.</span>edu<span>.</span>cn</a>> a Master’s student at the Institute of Applied Optimization (应用优化研究所) of the School of Artificial Intelligence and Big Data (人工智能与大数据学院) at Hefei University (合肥大学) in Hefei, Anhui, China (中国安徽省合肥市) under the supervision of Prof. Dr. Thomas Weise (汤卫思教授).<section id=subpackages><h2>Subpackages<a title="Link to this heading"class=headerlink href=#subpackages>¶</a></h2><div class="toctree-wrapper compound"><ul><li class=toctree-l1><a class="reference internal"href=moptipyapps.tsp.tsplib.html>moptipyapps.tsp.tsplib package</a><ul><li class=toctree-l2><a class="reference internal"href=moptipyapps.tsp.tsplib.html#moptipyapps.tsp.tsplib.open_resource_stream><code class="docutils literal notranslate"><span class=pre>open_resource_stream()</span></code></a></ul></ul></div></section><section id=submodules><h2>Submodules<a title="Link to this heading"class=headerlink href=#submodules>¶</a></h2></section><section id=module-moptipyapps.tsp.ea1p1_revn><span id=moptipyapps-tsp-ea1p1-revn-module></span><h2>moptipyapps.tsp.ea1p1_revn module<a title="Link to this heading"class=headerlink href=#module-moptipyapps.tsp.ea1p1_revn>¶</a></h2><p>A (1+1) EA for the TSP using the reversal move.<p>A (1+1) EA is basically a local search <a class="reference external"title="(in moptipy v0.9.148)"href=https://thomasweise.github.io/moptipy/moptipy.algorithms.so.html#module-moptipy.algorithms.so.rls><code class="xref py py-mod docutils literal notranslate"><span class=pre>rls</span></code></a> algorithm that starts with a random solution as the current solution <cite>x</cite>. In each iteration, it samples one new solution from the neighborhood of <cite>x</cite> and accepts it (as the new <cite>x</cite>), if it is better or equally good. The algorithm here applies the reversal move, i.e., a two-opt move, as the unary search operator used for sampling the neighborhood of <cite>x</cite>. The interesting thing about this operator, when applied to the TSP, is that we can compute the tour length of the new solution in <cite>O(1)</cite> from the tour length of the current solution. This means we can very quickly decide whether the move would be acceptable - and only apply it (in <cite>O(n)</cite>) if its.<p>The algorithm implemented here is the same as the basic (1+1) EA with <cite>rev</cite> operator in the paper [1].<p>The original version of this code has been contributed by Mr. Tianyu LIANG (梁天宇), <<a class="reference external"href=mailto:liangty%40stu.hfuu.edu.cn>liangty<span>@</span>stu<span>.</span>hfuu<span>.</span>edu<span>.</span>cn</a>> a Master’s student at the Institute of Applied Optimization (应用优化研究所) of the School of Artificial Intelligence and Big Data (人工智能与大数据学院) at Hefei University (合肥大学) in Hefei, Anhui, China (中国安徽省合肥市) under the supervision of Prof. Dr. Thomas Weise (汤卫思教授).<ol class="arabic simple"><li><p>Tianyu Liang, Zhize Wu, Jörg Lässig, Daan van den Berg, and Thomas Weise. Solving the Traveling Salesperson Problem using Frequency Fitness Assignment. In Hisao Ishibuchi, Chee-Keong Kwoh, Ah-Hwee Tan, Dipti Srinivasan, Chunyan Miao, Anupam Trivedi, and Keeley A. Crockett, editors, <em>Proceedings of the IEEE Symposium on Foundations of Computational Intelligence (IEEE FOCI’22)</em>, part of the <em>IEEE Symposium Series on Computational Intelligence (SSCI 2022)</em>. December 4-7, 2022, Singapore, pages 360-367. IEEE. <a class="reference external"href=https://doi.org/10.1109/SSCI51031.2022.10022296>https://doi.org/10.1109/SSCI51031.2022.10022296</a>.<li><p>Pedro Larrañaga, Cindy M. H. Kuijpers, Roberto H. Murga, Iñaki Inza, and S. Dizdarevic. Genetic Algorithms for the Travelling Salesman Problem: A Review of Representations and Operators. <em>Artificial Intelligence Review,</em> 13(2):129-170, April 1999. Kluwer Academic Publishers, The Netherlands. <a class="reference external"href=https://doi.org/10.1023/A:1006529012972>https://doi.org/10.1023/A:1006529012972</a>.</ol><dl class="py class"><dt class="sig sig-object py"id=moptipyapps.tsp.ea1p1_revn.TSPEA1p1revn><em class=property><span class=k><span class=pre>class</span></span><span class=w> </span></em><span class="sig-prename descclassname"><span class=pre>moptipyapps.tsp.ea1p1_revn.</span></span><span class="sig-name descname"><span class=pre>TSPEA1p1revn</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>instance</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/tsp/ea1p1_revn.html#TSPEA1p1revn><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.ea1p1_revn.TSPEA1p1revn>¶</a><dd><p>Bases: <a class="reference external"title="(in moptipy v0.9.148)"href=https://thomasweise.github.io/moptipy/moptipy.api.html#moptipy.api.algorithm.Algorithm><code class="xref py py-class docutils literal notranslate"><span class=pre>Algorithm</span></code></a></p> <p>A (1+1) EA using the reversal operator for the TSP.</p> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.tsp.ea1p1_revn.TSPEA1p1revn.log_parameters_to><span class="sig-name descname"><span class=pre>log_parameters_to</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>logger</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/tsp/ea1p1_revn.html#TSPEA1p1revn.log_parameters_to><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.ea1p1_revn.TSPEA1p1revn.log_parameters_to>¶</a><dd><p>Log the parameters of the algorithm to the given logger.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>logger</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in moptipy v0.9.148)"href=https://thomasweise.github.io/moptipy/moptipy.utils.html#moptipy.utils.logger.KeyValueLogSection><code class="xref py py-class docutils literal notranslate"><span class=pre>KeyValueLogSection</span></code></a></span>) – the logger for the parameters</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.tsp.ea1p1_revn.TSPEA1p1revn.solve><span class="sig-name descname"><span class=pre>solve</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>process</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/tsp/ea1p1_revn.html#TSPEA1p1revn.solve><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.ea1p1_revn.TSPEA1p1revn.solve>¶</a><dd><p>Apply an RLS = (1+1) EA optimization process with reversing operator.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>process</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in moptipy v0.9.148)"href=https://thomasweise.github.io/moptipy/moptipy.api.html#moptipy.api.process.Process><code class="xref py py-class docutils literal notranslate"><span class=pre>Process</span></code></a></span>) – the process instance which provides random numbers, functions for creating, copying, and evaluating solutions, as well as the termination criterion</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl></dl></dl><dl class="py function"><dt class="sig sig-object py"id=moptipyapps.tsp.ea1p1_revn.rev_if_not_worse><span class="sig-prename descclassname"><span class=pre>moptipyapps.tsp.ea1p1_revn.</span></span><span class="sig-name descname"><span class=pre>rev_if_not_worse</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>i</span></span></em>, <em class=sig-param><span class=n><span class=pre>j</span></span></em>, <em class=sig-param><span class=n><span class=pre>n_cities</span></span></em>, <em class=sig-param><span class=n><span class=pre>dist</span></span></em>, <em class=sig-param><span class=n><span class=pre>x</span></span></em>, <em class=sig-param><span class=n><span class=pre>y</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/tsp/ea1p1_revn.html#rev_if_not_worse><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.ea1p1_revn.rev_if_not_worse>¶</a><dd><p>Check a reversal move, apply it if it is better, return new tour length.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>i</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span>) – the first, smaller index<li><p><strong>j</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span>) – the second, larger index<li><p><strong>n_cities</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span>) – the number of cities<li><p><strong>dist</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.2)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – the problem instance<li><p><strong>x</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.2)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – the candidate solution<li><p><strong>y</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span>) – the tour length</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span></p></dl></dl></section><section id=module-moptipyapps.tsp.fea1p1_revn><span id=moptipyapps-tsp-fea1p1-revn-module></span><h2>moptipyapps.tsp.fea1p1_revn module<a title="Link to this heading"class=headerlink href=#module-moptipyapps.tsp.fea1p1_revn>¶</a></h2><p>A (1+1) FEA for the TSP using the reversal move.<p>A (1+1) FEA is the same as the (1+1) EA with Frequency Fitness Assignment. The (1+1) EA using the same search operator as this algorithm here is implemented in module <a class="reference internal"href=#module-moptipyapps.tsp.ea1p1_revn title=moptipyapps.tsp.ea1p1_revn><code class="xref py py-mod docutils literal notranslate"><span class=pre>ea1p1_revn</span></code></a>. The algorithm implemented here is the same as the basic (1+1) FEA with <cite>rev</cite> operator in the paper [1].<p>The original version of this code has been contributed by Mr. Tianyu LIANG (梁天宇), <<a class="reference external"href=mailto:liangty%40stu.hfuu.edu.cn>liangty<span>@</span>stu<span>.</span>hfuu<span>.</span>edu<span>.</span>cn</a>> a Master’s student at the Institute of Applied Optimization (应用优化研究所) of the School of Artificial Intelligence and Big Data (人工智能与大数据学院) at Hefei University (合肥大学) in Hefei, Anhui, China (中国安徽省合肥市) under the supervision of Prof. Dr. Thomas Weise (汤卫思教授).<ol class="arabic simple"><li><p>Tianyu Liang, Zhize Wu, Jörg Lässig, Daan van den Berg, and Thomas Weise. Solving the Traveling Salesperson Problem using Frequency Fitness Assignment. In Hisao Ishibuchi, Chee-Keong Kwoh, Ah-Hwee Tan, Dipti Srinivasan, Chunyan Miao, Anupam Trivedi, and Keeley A. Crockett, editors, <em>Proceedings of the IEEE Symposium on Foundations of Computational Intelligence (IEEE FOCI’22)</em>, part of the <em>IEEE Symposium Series on Computational Intelligence (SSCI 2022)</em>. December 4-7, 2022, Singapore, pages 360-367. IEEE. <a class="reference external"href=https://doi.org/10.1109/SSCI51031.2022.10022296>https://doi.org/10.1109/SSCI51031.2022.10022296</a>.<li><p>Pedro Larrañaga, Cindy M. H. Kuijpers, Roberto H. Murga, Iñaki Inza, and S. Dizdarevic. Genetic Algorithms for the Travelling Salesman Problem: A Review of Representations and Operators. <em>Artificial Intelligence Review,</em> 13(2):129-170, April 1999. Kluwer Academic Publishers, The Netherlands. <a class="reference external"href=https://doi.org/10.1023/A:1006529012972>https://doi.org/10.1023/A:1006529012972</a>.</ol><dl class="py class"><dt class="sig sig-object py"id=moptipyapps.tsp.fea1p1_revn.TSPFEA1p1revn><em class=property><span class=k><span class=pre>class</span></span><span class=w> </span></em><span class="sig-prename descclassname"><span class=pre>moptipyapps.tsp.fea1p1_revn.</span></span><span class="sig-name descname"><span class=pre>TSPFEA1p1revn</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>instance</span></span></em>, <em class=sig-param><span class=n><span class=pre>do_log_h</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>False</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/tsp/fea1p1_revn.html#TSPFEA1p1revn><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.fea1p1_revn.TSPFEA1p1revn>¶</a><dd><p>Bases: <a class="reference external"title="(in moptipy v0.9.148)"href=https://thomasweise.github.io/moptipy/moptipy.api.html#moptipy.api.algorithm.Algorithm><code class="xref py py-class docutils literal notranslate"><span class=pre>Algorithm</span></code></a></p> <p>A (1+1) FEA using the reversal operator for the TSP.</p> <dl class="py attribute"><dt class="sig sig-object py"id=moptipyapps.tsp.fea1p1_revn.TSPFEA1p1revn.do_log_h><span class="sig-name descname"><span class=pre>do_log_h</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><code class="xref py py-class docutils literal notranslate"><span class=pre>Final</span></code><span class=pre>[</span><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a><span class=pre>]</span></em><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.fea1p1_revn.TSPFEA1p1revn.do_log_h>¶</a><dd><p>shall we log the <cite>h</cite>-table`?</p></dl> <dl class="py attribute"><dt class="sig sig-object py"id=moptipyapps.tsp.fea1p1_revn.TSPFEA1p1revn.instance><span class="sig-name descname"><span class=pre>instance</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><code class="xref py py-class docutils literal notranslate"><span class=pre>Final</span></code><span class=pre>[</span><a class="reference internal"href=#moptipyapps.tsp.instance.Instance title=moptipyapps.tsp.instance.Instance><code class="xref py py-class docutils literal notranslate"><span class=pre>Instance</span></code></a><span class=pre>]</span></em><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.fea1p1_revn.TSPFEA1p1revn.instance>¶</a><dd><p>the instance</p></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.tsp.fea1p1_revn.TSPFEA1p1revn.log_parameters_to><span class="sig-name descname"><span class=pre>log_parameters_to</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>logger</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/tsp/fea1p1_revn.html#TSPFEA1p1revn.log_parameters_to><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.fea1p1_revn.TSPFEA1p1revn.log_parameters_to>¶</a><dd><p>Log the parameters of the algorithm to the given logger.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>logger</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in moptipy v0.9.148)"href=https://thomasweise.github.io/moptipy/moptipy.utils.html#moptipy.utils.logger.KeyValueLogSection><code class="xref py py-class docutils literal notranslate"><span class=pre>KeyValueLogSection</span></code></a></span>) – the logger for the parameters</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.tsp.fea1p1_revn.TSPFEA1p1revn.solve><span class="sig-name descname"><span class=pre>solve</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>process</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/tsp/fea1p1_revn.html#TSPFEA1p1revn.solve><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.fea1p1_revn.TSPFEA1p1revn.solve>¶</a><dd><p>Apply a (1+1) FEA optimization process with reversing operator.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>process</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in moptipy v0.9.148)"href=https://thomasweise.github.io/moptipy/moptipy.api.html#moptipy.api.process.Process><code class="xref py py-class docutils literal notranslate"><span class=pre>Process</span></code></a></span>) – the process instance which provides random numbers, functions for creating, copying, and evaluating solutions, as well as the termination criterion</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl></dl></dl><dl class="py function"><dt class="sig sig-object py"id=moptipyapps.tsp.fea1p1_revn.rev_if_h_not_worse><span class="sig-prename descclassname"><span class=pre>moptipyapps.tsp.fea1p1_revn.</span></span><span class="sig-name descname"><span class=pre>rev_if_h_not_worse</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>i</span></span></em>, <em class=sig-param><span class=n><span class=pre>j</span></span></em>, <em class=sig-param><span class=n><span class=pre>n_cities</span></span></em>, <em class=sig-param><span class=n><span class=pre>dist</span></span></em>, <em class=sig-param><span class=n><span class=pre>h</span></span></em>, <em class=sig-param><span class=n><span class=pre>x</span></span></em>, <em class=sig-param><span class=n><span class=pre>y</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/tsp/fea1p1_revn.html#rev_if_h_not_worse><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.fea1p1_revn.rev_if_h_not_worse>¶</a><dd><p>Apply a reversal move if its tour length frequency is not worse.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>i</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span>) – the first, smaller index<li><p><strong>j</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span>) – the second, larger index<li><p><strong>n_cities</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span>) – the number of cities<li><p><strong>dist</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.2)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – the problem instance<li><p><strong>h</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.2)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – the frequency table<li><p><strong>x</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.2)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – the candidate solution<li><p><strong>y</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span>) – the tour length</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span></p></dl></dl></section><section id=module-moptipyapps.tsp.instance><span id=moptipyapps-tsp-instance-module></span><h2>moptipyapps.tsp.instance module<a title="Link to this heading"class=headerlink href=#module-moptipyapps.tsp.instance>¶</a></h2><p>An instance of the Traveling Salesperson Problem (TSP) as distance matrix.<p>An instance of the Traveling Salesperson Problem (TSP) is defined as a fully-connected graph with <a class="reference internal"href=#moptipyapps.tsp.instance.Instance.n_cities title=moptipyapps.tsp.instance.Instance.n_cities><code class="xref py py-attr docutils literal notranslate"><span class=pre>Instance.n_cities</span></code></a> nodes. Each edge in the graph has a weight, which identifies the distance between the nodes. The goal is to find the <em>shortest</em> tour that visits every single node in the graph exactly once and then returns back to its starting node. Then nodes are usually called cities. In this file, we present methods for loading instances of the TSP as distance matrices <cite>A</cite>. In other words, the value at <cite>A[i, j]</cite> identifies the travel distance from <cite>i</cite> to <cite>j</cite>.<p>We can load files in a subset of the TSPLib format [1, 2] and also include the instances of TSPLib with no more than 2000 cities. We load instances as full distance matrices, which makes writing algorithms to solve them easier but handling instances with more than 2000 cities problematic due to the high memory consumption. Of course, you could still load them, but it would be ill-advised to do so on a normal PC (at the time of this writing).<p>The TSPLib contains many instances of the symmetric TSP, where the distance <cite>A[i, j]</cite> from city <cite>i</cite> to city <cite>j</cite> is the same as the distance <cite>A[j, i]</cite> from <cite>j</cite> to <cite>i</cite>. Here, we provide 111 of them as resource. The cities of some of these instances are points in the Euclidean plain and the distances are the (approximate) Euclidean distances. Others use geographical coordinates (longitude/latitude), and yet others are provides as distances matrices directly. We also provide 19 of the asymmetric TSPLib instances, where the distance <cite>A[i, j]</cite> from <cite>i</cite> to <cite>j</cite> may be different from the distance <cite>A[j, i]</cite> from <cite>j</cite> to <cite>i</cite>.<p>You can obtain lists of either all, only the symmetric, or only the asymmetric instance resources via<div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>Instance</span><span class=o>.</span><span class=n>list_resources</span><span class=p>()[</span><span class=mi>0</span><span class=p>:</span><span class=mi>10</span><span class=p>])</span>  <span class=c1># get all instances (1..10)</span>
<span class=go>('a280', 'ali535', 'att48', 'att532', 'bayg29', 'bays29', 'berlin52', 'bier127', 'br17', 'brazil58')</span>
</pre></div></div><div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>Instance</span><span class=o>.</span><span class=n>list_resources</span><span class=p>(</span><span class=n>asymmetric</span><span class=o>=</span><span class=kc>False</span><span class=p>)[</span><span class=mi>0</span><span class=p>:</span><span class=mi>10</span><span class=p>])</span>  <span class=c1># only symmetric</span>
<span class=go>('a280', 'ali535', 'att48', 'att532', 'bayg29', 'bays29', 'berlin52', 'bier127', 'brazil58', 'brg180')</span>
</pre></div></div><div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>Instance</span><span class=o>.</span><span class=n>list_resources</span><span class=p>(</span><span class=n>symmetric</span><span class=o>=</span><span class=kc>False</span><span class=p>)[</span><span class=mi>0</span><span class=p>:</span><span class=mi>10</span><span class=p>])</span>  <span class=c1># only asymmetric</span>
<span class=go>('br17', 'ft53', 'ft70', 'ftv170', 'ftv33', 'ftv35', 'ftv38', 'ftv44', 'ftv47', 'ftv55')</span>
</pre></div></div><p>You can load any of these instances from the resources via <a class="reference internal"href=#moptipyapps.tsp.instance.Instance.from_resource title=moptipyapps.tsp.instance.Instance.from_resource><code class="xref py py-meth docutils literal notranslate"><span class=pre>Instance.from_resource()</span></code></a> as follows:<div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>inst</span> <span class=o>=</span> <span class=n>Instance</span><span class=o>.</span><span class=n>from_resource</span><span class=p>(</span><span class=s2>"a280"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>inst</span><span class=o>.</span><span class=n>n_cities</span><span class=p>)</span>
<span class=go>280</span>
</pre></div></div><p>If you want to read an instance from an external TSPLib file, you can use <a class="reference internal"href=#moptipyapps.tsp.instance.Instance.from_file title=moptipyapps.tsp.instance.Instance.from_file><code class="xref py py-meth docutils literal notranslate"><span class=pre>Instance.from_file()</span></code></a>. Be aware that not the whole TSPLib standard is supported right now, but only a reasonably large subset.<p>Every TSP instance automatically provides a lower bound <a class="reference internal"href=#moptipyapps.tsp.instance.Instance.tour_length_lower_bound title=moptipyapps.tsp.instance.Instance.tour_length_lower_bound><code class="xref py py-attr docutils literal notranslate"><span class=pre>Instance.tour_length_lower_bound</span></code></a> and an upper bound <a class="reference internal"href=#moptipyapps.tsp.instance.Instance.tour_length_upper_bound title=moptipyapps.tsp.instance.Instance.tour_length_upper_bound><code class="xref py py-attr docutils literal notranslate"><span class=pre>Instance.tour_length_upper_bound</span></code></a> of the lengths of valid tours. For the TSPLib instances, the globally optimal solutions and their tour lengths are known, so we can use them as lower bounds directly. Otherwise, we currently use a very crude approximation: We assume that, for each city <cite>i</cite>, the next city <cite>j</cite> to be visited would be the nearest neighbor of <cite>i</cite>. Of course, in reality, such a tour may not be feasible, as it could contain disjoint sets of loops. But no tour can be shorter than this. As upper bound, we do the same but assume that <cite>j</cite> would be the cities farthest away from <cite>i</cite>.<div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>inst</span><span class=o>.</span><span class=n>tour_length_lower_bound</span><span class=p>)</span>
<span class=go>2579</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>inst</span><span class=o>.</span><span class=n>tour_length_upper_bound</span><span class=p>)</span>
<span class=go>65406</span>
</pre></div></div><p>It should be noted that all TSPLib instances by definition have integer distances. This means that there are never floating point distances and, for example, Euclidean distances are rounded and are only approximate Euclidean. Then again, since floating point numbers could also only represent things such as <cite>sqrt(2)</cite> approximately, using integers instead of floating point numbers does not really change anything - distances would be approximately Euclidean or approximately geographical either way.<p>TSPLib also provides some known optimal solutions in path representation, i.e., as permutations of the numbers <cite>0</cite> to <cite>n_cities-1</cite>. The optimal solutions corresponding to the instances provides as resources can be obtained via <a class="reference internal"href=#module-moptipyapps.tsp.known_optima title=moptipyapps.tsp.known_optima><code class="xref py py-mod docutils literal notranslate"><span class=pre>known_optima</span></code></a>.<div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>inst</span> <span class=o>=</span> <span class=n>Instance</span><span class=o>.</span><span class=n>from_resource</span><span class=p>(</span><span class=s2>"si175"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>inst</span><span class=o>.</span><span class=n>n_cities</span><span class=p>)</span>
<span class=go>175</span>
<span class=gp>>>> </span><span class=nb>int</span><span class=p>(</span><span class=n>inst</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>])</span>
<span class=go>113</span>
<span class=gp>>>> </span><span class=nb>int</span><span class=p>(</span><span class=n>inst</span><span class=p>[</span><span class=mi>173</span><span class=p>,</span> <span class=mi>174</span><span class=p>])</span>
<span class=go>337</span>
<span class=gp>>>> </span><span class=nb>int</span><span class=p>(</span><span class=n>inst</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>174</span><span class=p>])</span>
<span class=go>384</span>
<span class=gp>>>> </span><span class=nb>int</span><span class=p>(</span><span class=n>inst</span><span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=mi>174</span><span class=p>])</span>
<span class=go>384</span>
<span class=gp>>>> </span><span class=nb>int</span><span class=p>(</span><span class=n>inst</span><span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span>
<span class=go>248</span>
<span class=gp>>>> </span><span class=nb>int</span><span class=p>(</span><span class=n>inst</span><span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>])</span>
<span class=go>335</span>
<span class=gp>>>> </span><span class=nb>int</span><span class=p>(</span><span class=n>inst</span><span class=p>[</span><span class=mi>4</span><span class=p>,</span> <span class=mi>6</span><span class=p>])</span>
<span class=go>134</span>
</pre></div></div><p>The original data of TSPLib can be found at <<a class="reference external"href=http://comopt.ifi.uni-heidelberg.de/software/TSPLIB95/>http://comopt.ifi.uni-heidelberg.de/software/TSPLIB95/</a>>. Before doing anything with these data directly, you should make sure to read the FAQ <<a class="reference external"href=http://comopt.ifi.uni-heidelberg.de/software/TSPLIB95/TSPFAQ.html>http://comopt.ifi.uni-heidelberg.de/software/TSPLIB95/TSPFAQ.html</a>> and the documentation <<a class="reference external"href=http://comopt.ifi.uni-heidelberg.de/software/TSPLIB95/tsp95.pdf>http://comopt.ifi.uni-heidelberg.de/software/TSPLIB95/tsp95.pdf</a>>.<p>On 2024-10-18, we added a small eleven city instance based on the car travel distances in km between the Chinese cities Shanghai (上海), Beijing (北京), Nanjing (南京), Hefei (合肥), Harbin (哈尔滨), Kunming (昆明), Wuhan (武汉), Xi’an (西安), Chongqing (重庆), Changsha (长沙), and Hong Kong (香港), determined using BaiDu Maps on 2024-10-18. The optimal solution for this instance has length 9547 (km) and visits the cities in the following order: Shanghai (上海), Nanjing (南京), Hefei (合肥), Wuhan (武汉), Changsha (长沙), Hong Kong (香港), Kunming (昆明), Chongqing (重庆), Xi’an (西安), Beijing (北京), Harbin (哈尔滨). This instance can be used to validate and santity-test algorithms, as its solution can easily be determined using exhaustive enumeration.<p>Interestingly, it holds that the calculated travel distance from Harbin (哈尔滨) to Kunming (昆明) is longer than the travel distance from Harbin (哈尔滨) to Xi’an (西安) and then from Xi’an (西安) to Kunming (昆明).<ul class=simple><li><p>Harbin (哈尔滨) - Kunming (昆明) = 3781 km<li><p>Harbin (哈尔滨) - Xi’an (西安) = 2291 km<li><p>Xi’an (西安) - Kunming (昆明) = 1483 km<li><p>2291 km + 1483 km = 3774 km, which is less than 3781 km</ul><p>This may be because BaiduMaps ranked the paths by travel time and not travel distance, or by any other strange effect I cannot account for. Maybe it is related to which lane of a road one would naturally drive on or lengths of intersections depending on the direction one is coming from. Either way, this shows that this simple instance <cite>cn11</cite> may already have interesting properties. It violates the triangle equation and it is non-Euclidean. It is also not based on Geo-coordinates, but on actual street distances and times.<div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>inst</span> <span class=o>=</span> <span class=n>Instance</span><span class=o>.</span><span class=n>from_resource</span><span class=p>(</span><span class=s2>"cn11"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>int</span><span class=p>(</span><span class=n>inst</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>])</span>
<span class=go>0</span>
<span class=gp>>>> </span><span class=nb>int</span><span class=p>(</span><span class=n>inst</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>])</span>
<span class=go>1007</span>
<span class=gp>>>> </span><span class=nb>int</span><span class=p>(</span><span class=n>inst</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span>
<span class=go>1017</span>
<span class=gp>>>> </span><span class=nb>int</span><span class=p>(</span><span class=n>inst</span><span class=p>[</span><span class=mi>9</span><span class=p>,</span> <span class=mi>10</span><span class=p>])</span>
<span class=go>830</span>
<span class=gp>>>> </span><span class=nb>int</span><span class=p>(</span><span class=n>inst</span><span class=p>[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>])</span>
<span class=go>1560</span>
</pre></div></div><p>Important initial work on this code has been contributed by Mr. Tianyu LIANG (梁天宇), <<a class="reference external"href=mailto:liangty%40stu.hfuu.edu.cn>liangty<span>@</span>stu<span>.</span>hfuu<span>.</span>edu<span>.</span>cn</a>> a Master’s student at the Institute of Applied Optimization (应用优化研究所) of the School of Artificial Intelligence and Big Data (人工智能与大数据学院) at Hefei University (合肥大学) in Hefei, Anhui, China (中国安徽省合肥市) under the supervision of Prof. Dr. Thomas Weise (汤卫思教授).<ol class="arabic simple"><li><p>Gerhard Reinelt. TSPLIB - A Traveling Salesman Problem Library. <em>ORSA Journal on Computing</em> 3(4):376-384. November 1991. <a class="reference external"href=https://doi.org/10.1287/ijoc.3.4.376>https://doi.org/10.1287/ijoc.3.4.376</a>. <a class="reference external"href=http://comopt.ifi.uni-heidelberg.de/software/TSPLIB95/>http://comopt.ifi.uni-heidelberg.de/software/TSPLIB95/</a><li><p>Gerhard Reinelt. <em>TSPLIB95.</em> Heidelberg, Germany: Universität Heidelberg, Institut für Angewandte Mathematik. 1995. <a class="reference external"href=http://comopt.ifi.uni-heidelberg.de/software/TSPLIB95/tsp95.pdf>http://comopt.ifi.uni-heidelberg.de/software/TSPLIB95/tsp95.pdf</a><li><p>David Lee Applegate, Robert E. Bixby, Vašek Chvátal, and William John Cook. <em>The Traveling Salesman Problem: A Computational Study.</em> Second Edition, 2007. Princeton, NJ, USA: Princeton University Press. Volume 17 of Princeton Series in Applied Mathematics. ISBN: 0-691-12993-2.<li><p>Gregory Z. Gutin and Abraham P. Punnen. <em>The Traveling Salesman Problem and its Variations.</em> 2002. Kluwer Academic Publishers. Volume 12 of Combinatorial Optimization. <a class="reference external"href=https://doi.org/10.1007/b101971>https://doi.org/10.1007/b101971</a>.<li><p>Pedro Larrañaga, Cindy M. H. Kuijpers, Roberto H. Murga, Iñaki Inza, and Sejla Dizdarevic. Genetic Algorithms for the Travelling Salesman Problem: A Review of Representations and Operators. <em>Artificial Intelligence Review</em> 13(2):129-170. April 1999. <a class="reference external"href=https://doi.org/10.1023/A:1006529012972>https://doi.org/10.1023/A:1006529012972</a>.<li><p>Eugene Leighton Lawler, Jan Karel Lenstra, Alexander Hendrik George Rinnooy Kan, and David B. Shmoys. <em>The Traveling Salesman Problem: A Guided Tour of Combinatorial Optimization.</em> September 1985. Chichester, West Sussex, UK: Wiley Interscience. In Estimation, Simulation, and Control - Wiley-Interscience Series in Discrete Mathematics and Optimization. ISBN: 0-471-90413-9<li><p>Tianyu Liang, Zhize Wu, Jörg Lässig, Daan van den Berg, and Thomas Weise. Solving the Traveling Salesperson Problem using Frequency Fitness Assignment. In <em>Proceedings of the IEEE Symposium on Foundations of Computational Intelligence (IEEE FOCI’22),</em> part of the <em>IEEE Symposium Series on Computational Intelligence (SSCI’22),</em> December 4-7, 2022, Singapore. Pages 360-367. IEEE. <a class="reference external"href=https://doi.org/10.1109/SSCI51031.2022.10022296>https://doi.org/10.1109/SSCI51031.2022.10022296</a>.<li><p>Thomas Weise, Raymond Chiong, Ke Tang, Jörg Lässig, Shigeyoshi Tsutsui, Wenxiang Chen, Zbigniew Michalewicz, and Xin Yao. Benchmarking Optimization Algorithms: An Open Source Framework for the Traveling Salesman Problem. <em>IEEE Computational Intelligence Magazine.</em> 9(3):40-52. August 2014. <a class="reference external"href=https://doi.org/10.1109/MCI.2014.2326101>https://doi.org/10.1109/MCI.2014.2326101</a>.</ol><dl class="py class"><dt class="sig sig-object py"id=moptipyapps.tsp.instance.Instance><em class=property><span class=k><span class=pre>class</span></span><span class=w> </span></em><span class="sig-prename descclassname"><span class=pre>moptipyapps.tsp.instance.</span></span><span class="sig-name descname"><span class=pre>Instance</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>name</span></span><span class=p><span class=pre>:</span></span><span class=w> </span><span class=n><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><span class=pre>str</span></a></span></em>, <em class=sig-param><span class=n><span class=pre>tour_length_lower_bound</span></span><span class=p><span class=pre>:</span></span><span class=w> </span><span class=n><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><span class=pre>int</span></a></span></em>, <em class=sig-param><span class=n><span class=pre>matrix</span></span><span class=p><span class=pre>:</span></span><span class=w> </span><span class=n><a class="reference external"title="(in NumPy v2.2)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><span class=pre>ndarray</span></a></span></em>, <em class=sig-param><span class=n><span class=pre>upper_bound_range_multiplier</span></span><span class=p><span class=pre>:</span></span><span class=w> </span><span class=n><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><span class=pre>int</span></a></span><span class=w> </span><span class=o><span class=pre>=</span></span><span class=w> </span><span class=default_value><span class=pre>1</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/tsp/instance.html#Instance><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.instance.Instance>¶</a><dd><p>Bases: <a class="reference external"title="(in moptipy v0.9.148)"href=https://thomasweise.github.io/moptipy/moptipy.api.html#moptipy.api.component.Component><code class="xref py py-class docutils literal notranslate"><span class=pre>Component</span></code></a>, <a class="reference external"title="(in NumPy v2.2)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></p> <p>An instance of the Traveling Salesperson Problem.</p> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.tsp.instance.Instance.from_file><em class=property><span class=k><span class=pre>static</span></span><span class=w> </span></em><span class="sig-name descname"><span class=pre>from_file</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>path</span></span></em>, <em class=sig-param><span class=n><span class=pre>lower_bound_getter=&LTbuilt-in</span> <span class=pre>method</span> <span class=pre>__getitem__</span> <span class=pre>of</span> <span class=pre>dict</span> <span class=pre>object></span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/tsp/instance.html#Instance.from_file><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.instance.Instance.from_file>¶</a><dd><p>Read a TSP Lib instance from a TSP-lib formatted file.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>path</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the path to the file<li><p><strong>lower_bound_getter</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/typing.html#typing.Optional><code class="xref py py-data docutils literal notranslate"><span class=pre>Optional</span></code></a>[<a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/typing.html#typing.Callable><code class="xref py py-data docutils literal notranslate"><span class=pre>Callable</span></code></a>[[<a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>], <a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a>]]</span>, default: <code class="docutils literal notranslate"><span class=pre>&LTbuilt-in</span> <span class=pre>method</span> <span class=pre>__getitem__</span> <span class=pre>of</span> <span class=pre>dict</span> <span class=pre>object</span> <span class=pre>at</span> <span class=pre>0x7f2f8f6c1500></span></code>) – a function returning a lower bound for an instance name, or <cite>None</cite> to use a simple lower bound approximation</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference internal"href=#moptipyapps.tsp.instance.Instance title=moptipyapps.tsp.instance.Instance><code class="xref py py-class docutils literal notranslate"><span class=pre>Instance</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the instance</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os.path</span><span class=w> </span><span class=kn>import</span> <span class=n>dirname</span>
<span class=gp>>>> </span><span class=n>inst</span> <span class=o>=</span> <span class=n>Instance</span><span class=o>.</span><span class=n>from_file</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span> <span class=o>+</span> <span class=s2>"/tsplib/br17.atsp"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>inst</span><span class=o>.</span><span class=n>name</span>
<span class=go>'br17'</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.tsp.instance.Instance.from_resource><em class=property><span class=k><span class=pre>static</span></span><span class=w> </span></em><span class="sig-name descname"><span class=pre>from_resource</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>name</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/tsp/instance.html#Instance.from_resource><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.instance.Instance.from_resource>¶</a><dd><p>Load a TSP instance from a resource.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>name</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the name string</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference internal"href=#moptipyapps.tsp.instance.Instance title=moptipyapps.tsp.instance.Instance><code class="xref py py-class docutils literal notranslate"><span class=pre>Instance</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the instance</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>Instance</span><span class=o>.</span><span class=n>from_resource</span><span class=p>(</span><span class=s2>"br17"</span><span class=p>)</span><span class=o>.</span><span class=n>n_cities</span>
<span class=go>17</span>
</pre></div></div></dl> <dl class="py attribute"><dt class="sig sig-object py"id=moptipyapps.tsp.instance.Instance.is_symmetric><span class="sig-name descname"><span class=pre>is_symmetric</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></em><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.instance.Instance.is_symmetric>¶</a><dd><p>is the TSP instance symmetric?</p></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.tsp.instance.Instance.list_resources><em class=property><span class=k><span class=pre>static</span></span><span class=w> </span></em><span class="sig-name descname"><span class=pre>list_resources</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>symmetric</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>True</span></span></em>, <em class=sig-param><span class=n><span class=pre>asymmetric</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>True</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/tsp/instance.html#Instance.list_resources><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.instance.Instance.list_resources>¶</a><dd><p>Get a tuple of all the TSP instances available as resource.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>symmetric</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>True</span></code>) – include the symmetric instances<li><p><strong>asymmetric</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>True</span></code>) – include the asymmetric instances</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#tuple><code class="xref py py-class docutils literal notranslate"><span class=pre>tuple</span></code></a>[<a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>, <a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/constants.html#Ellipsis><code class="xref py py-data docutils literal notranslate"><span class=pre>...</span></code></a>]</span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the tuple with the instance names</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>a</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>Instance</span><span class=o>.</span><span class=n>list_resources</span><span class=p>(</span><span class=kc>True</span><span class=p>,</span> <span class=kc>True</span><span class=p>))</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
<span class=go>111</span>
<span class=gp>>>> </span><span class=n>b</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>Instance</span><span class=o>.</span><span class=n>list_resources</span><span class=p>(</span><span class=kc>True</span><span class=p>,</span> <span class=kc>False</span><span class=p>))</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>b</span><span class=p>)</span>
<span class=go>92</span>
<span class=gp>>>> </span><span class=n>c</span> <span class=o>=</span> <span class=nb>len</span><span class=p>(</span><span class=n>Instance</span><span class=o>.</span><span class=n>list_resources</span><span class=p>(</span><span class=kc>False</span><span class=p>,</span> <span class=kc>True</span><span class=p>))</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>c</span><span class=p>)</span>
<span class=go>19</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>a</span> <span class=o>==</span> <span class=p>(</span><span class=n>b</span> <span class=o>+</span> <span class=n>c</span><span class=p>))</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=nb>len</span><span class=p>(</span><span class=n>Instance</span><span class=o>.</span><span class=n>list_resources</span><span class=p>(</span><span class=kc>False</span><span class=p>,</span> <span class=kc>False</span><span class=p>)))</span>
<span class=go>0</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.tsp.instance.Instance.log_parameters_to><span class="sig-name descname"><span class=pre>log_parameters_to</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>logger</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/tsp/instance.html#Instance.log_parameters_to><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.instance.Instance.log_parameters_to>¶</a><dd><p>Log the parameters of the instance to the given logger.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>logger</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in moptipy v0.9.148)"href=https://thomasweise.github.io/moptipy/moptipy.utils.html#moptipy.utils.logger.KeyValueLogSection><code class="xref py py-class docutils literal notranslate"><span class=pre>KeyValueLogSection</span></code></a></span>) – the logger for the parameters</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>moptipy.utils.logger</span><span class=w> </span><span class=kn>import</span> <span class=n>InMemoryLogger</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=n>InMemoryLogger</span><span class=p>()</span> <span class=k>as</span> <span class=n>l</span><span class=p>:</span>
<span class=gp>... </span>    <span class=k>with</span> <span class=n>l</span><span class=o>.</span><span class=n>key_values</span><span class=p>(</span><span class=s2>"I"</span><span class=p>)</span> <span class=k>as</span> <span class=n>kv</span><span class=p>:</span>
<span class=gp>... </span>        <span class=n>Instance</span><span class=o>.</span><span class=n>from_resource</span><span class=p>(</span><span class=s2>"kroE100"</span><span class=p>)</span><span class=o>.</span><span class=n>log_parameters_to</span><span class=p>(</span><span class=n>kv</span><span class=p>)</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>repr</span><span class=p>(</span><span class=s1>'@'</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>l</span><span class=o>.</span><span class=n>get_log</span><span class=p>())))</span>
<span class=go>'BEGIN_I@name: kroE100@class: moptipyapps.tsp.instance.Instance@nCities: 100@tourLengthLowerBound: 22068@tourLengthUpperBound: 330799@symmetric: T@dtype: i@END_I'</span>
</pre></div></div></dl> <dl class="py attribute"><dt class="sig sig-object py"id=moptipyapps.tsp.instance.Instance.n_cities><span class="sig-name descname"><span class=pre>n_cities</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></em><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.instance.Instance.n_cities>¶</a><dd><p>the number of cities</p></dl> <dl class="py attribute"><dt class="sig sig-object py"id=moptipyapps.tsp.instance.Instance.name><span class="sig-name descname"><span class=pre>name</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></em><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.instance.Instance.name>¶</a><dd><p>the name of the instance</p></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.tsp.instance.Instance.to_stream><span class="sig-name descname"><span class=pre>to_stream</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>collector</span></span></em>, <em class=sig-param><span class=n><span class=pre>comments</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>()</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/tsp/instance.html#Instance.to_stream><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.instance.Instance.to_stream>¶</a><dd><p>Convert this instance to a stream.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>collector</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/typing.html#typing.Callable><code class="xref py py-data docutils literal notranslate"><span class=pre>Callable</span></code></a>[[<a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>], <a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/typing.html#typing.Any><code class="xref py py-data docutils literal notranslate"><span class=pre>Any</span></code></a>]</span>) – the string collector<li><p><strong>comments</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><code class="xref py py-class docutils literal notranslate"><span class=pre>Iterable</span></code></a>[<a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>]</span>, default: <code class="docutils literal notranslate"><span class=pre>()</span></code>) – a stream of comments</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>orig</span> <span class=o>=</span> <span class=n>Instance</span><span class=o>.</span><span class=n>from_resource</span><span class=p>(</span><span class=s2>"br17"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>text</span> <span class=o>=</span> <span class=p>[]</span>
<span class=gp>>>> </span><span class=n>orig</span><span class=o>.</span><span class=n>to_stream</span><span class=p>(</span><span class=n>text</span><span class=o>.</span><span class=n>append</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>reload</span> <span class=o>=</span> <span class=n>_from_stream</span><span class=p>(</span><span class=nb>iter</span><span class=p>(</span><span class=n>text</span><span class=p>),</span>
<span class=gp>... </span>    <span class=k>lambda</span> <span class=n>_</span><span class=p>:</span> <span class=n>orig</span><span class=o>.</span><span class=n>tour_length_lower_bound</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>orig</span><span class=o>.</span><span class=n>n_cities</span> <span class=o>==</span> <span class=n>reload</span><span class=o>.</span><span class=n>n_cities</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>orig</span><span class=o>.</span><span class=n>name</span> <span class=o>==</span> <span class=n>reload</span><span class=o>.</span><span class=n>name</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=nb>list</span><span class=p>(</span><span class=n>orig</span><span class=o>.</span><span class=n>flatten</span><span class=p>())</span> <span class=o>==</span> <span class=nb>list</span><span class=p>(</span><span class=n>reload</span><span class=o>.</span><span class=n>flatten</span><span class=p>())</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>orig</span> <span class=o>=</span> <span class=n>Instance</span><span class=o>.</span><span class=n>from_resource</span><span class=p>(</span><span class=s2>"att48"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>text</span> <span class=o>=</span> <span class=p>[]</span>
<span class=gp>>>> </span><span class=n>orig</span><span class=o>.</span><span class=n>to_stream</span><span class=p>(</span><span class=n>text</span><span class=o>.</span><span class=n>append</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>reload</span> <span class=o>=</span> <span class=n>_from_stream</span><span class=p>(</span><span class=nb>iter</span><span class=p>(</span><span class=n>text</span><span class=p>),</span>
<span class=gp>... </span>    <span class=k>lambda</span> <span class=n>_</span><span class=p>:</span> <span class=n>orig</span><span class=o>.</span><span class=n>tour_length_lower_bound</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>orig</span><span class=o>.</span><span class=n>n_cities</span> <span class=o>==</span> <span class=n>reload</span><span class=o>.</span><span class=n>n_cities</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>orig</span><span class=o>.</span><span class=n>name</span> <span class=o>==</span> <span class=n>reload</span><span class=o>.</span><span class=n>name</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=nb>list</span><span class=p>(</span><span class=n>orig</span><span class=o>.</span><span class=n>flatten</span><span class=p>())</span> <span class=o>==</span> <span class=nb>list</span><span class=p>(</span><span class=n>reload</span><span class=o>.</span><span class=n>flatten</span><span class=p>())</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>orig</span> <span class=o>=</span> <span class=n>Instance</span><span class=o>.</span><span class=n>from_resource</span><span class=p>(</span><span class=s2>"berlin52"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>text</span> <span class=o>=</span> <span class=p>[]</span>
<span class=gp>>>> </span><span class=n>orig</span><span class=o>.</span><span class=n>to_stream</span><span class=p>(</span><span class=n>text</span><span class=o>.</span><span class=n>append</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>reload</span> <span class=o>=</span> <span class=n>_from_stream</span><span class=p>(</span><span class=nb>iter</span><span class=p>(</span><span class=n>text</span><span class=p>),</span>
<span class=gp>... </span>    <span class=k>lambda</span> <span class=n>_</span><span class=p>:</span> <span class=n>orig</span><span class=o>.</span><span class=n>tour_length_lower_bound</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>orig</span><span class=o>.</span><span class=n>n_cities</span> <span class=o>==</span> <span class=n>reload</span><span class=o>.</span><span class=n>n_cities</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>orig</span><span class=o>.</span><span class=n>name</span> <span class=o>==</span> <span class=n>reload</span><span class=o>.</span><span class=n>name</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=nb>list</span><span class=p>(</span><span class=n>orig</span><span class=o>.</span><span class=n>flatten</span><span class=p>())</span> <span class=o>==</span> <span class=nb>list</span><span class=p>(</span><span class=n>reload</span><span class=o>.</span><span class=n>flatten</span><span class=p>())</span>
<span class=go>True</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>orig</span> <span class=o>=</span> <span class=n>Instance</span><span class=o>.</span><span class=n>from_resource</span><span class=p>(</span><span class=s2>"ft53"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>text</span> <span class=o>=</span> <span class=p>[]</span>
<span class=gp>>>> </span><span class=n>orig</span><span class=o>.</span><span class=n>to_stream</span><span class=p>(</span><span class=n>text</span><span class=o>.</span><span class=n>append</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>reload</span> <span class=o>=</span> <span class=n>_from_stream</span><span class=p>(</span><span class=nb>iter</span><span class=p>(</span><span class=n>text</span><span class=p>),</span>
<span class=gp>... </span>    <span class=k>lambda</span> <span class=n>_</span><span class=p>:</span> <span class=n>orig</span><span class=o>.</span><span class=n>tour_length_lower_bound</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>orig</span><span class=o>.</span><span class=n>n_cities</span> <span class=o>==</span> <span class=n>reload</span><span class=o>.</span><span class=n>n_cities</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>orig</span><span class=o>.</span><span class=n>name</span> <span class=o>==</span> <span class=n>reload</span><span class=o>.</span><span class=n>name</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=nb>list</span><span class=p>(</span><span class=n>orig</span><span class=o>.</span><span class=n>flatten</span><span class=p>())</span> <span class=o>==</span> <span class=nb>list</span><span class=p>(</span><span class=n>reload</span><span class=o>.</span><span class=n>flatten</span><span class=p>())</span>
<span class=go>True</span>
</pre></div></div></dl> <dl class="py attribute"><dt class="sig sig-object py"id=moptipyapps.tsp.instance.Instance.tour_length_lower_bound><span class="sig-name descname"><span class=pre>tour_length_lower_bound</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></em><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.instance.Instance.tour_length_lower_bound>¶</a><dd><p>the lower bound of the tour length</p></dl> <dl class="py attribute"><dt class="sig sig-object py"id=moptipyapps.tsp.instance.Instance.tour_length_upper_bound><span class="sig-name descname"><span class=pre>tour_length_upper_bound</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></em><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.instance.Instance.tour_length_upper_bound>¶</a><dd><p>the upper bound of the tour length</p></dl></dl><dl class="py function"><dt class="sig sig-object py"id=moptipyapps.tsp.instance.ncities_from_tsplib_name><span class="sig-prename descclassname"><span class=pre>moptipyapps.tsp.instance.</span></span><span class="sig-name descname"><span class=pre>ncities_from_tsplib_name</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>name</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/tsp/instance.html#ncities_from_tsplib_name><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.instance.ncities_from_tsplib_name>¶</a><dd><p>Compute the instance scale from the instance name.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>name</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the instance name</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the instance scale</p></dl></dl></section><section id=module-moptipyapps.tsp.known_optima><span id=moptipyapps-tsp-known-optima-module></span><h2>moptipyapps.tsp.known_optima module<a title="Link to this heading"class=headerlink href=#module-moptipyapps.tsp.known_optima>¶</a></h2><p>A set of tools to load known optima in the TSPLib format.<p>The TSPLib provides benchmark instances for the Traveling Salesperson Problem (TSP). We provide a subset of these instances with up to 2000 cities as resources in <a class="reference internal"href=#module-moptipyapps.tsp.instance title=moptipyapps.tsp.instance><code class="xref py py-mod docutils literal notranslate"><span class=pre>instance</span></code></a>. Additionally, TSPLib provides the optimal solutions for a subset of these instances. Within this module here, we provide methods for reading the optimal solution files in the TSPLib format. We also include as resources the optimal solutions to the instances that our package provide as resources as well.<p>You can get the list of instance names for which the optimal tours are included in this package via <a class="reference internal"href=#moptipyapps.tsp.known_optima.list_resource_tours title=moptipyapps.tsp.known_optima.list_resource_tours><code class="xref py py-func docutils literal notranslate"><span class=pre>list_resource_tours()</span></code></a> and then load a tour from a resource via <a class="reference internal"href=#moptipyapps.tsp.known_optima.opt_tour_from_resource title=moptipyapps.tsp.known_optima.opt_tour_from_resource><code class="xref py py-func docutils literal notranslate"><span class=pre>opt_tour_from_resource()</span></code></a>. If you want to read a tour from an external file that obeys the TSPLib format, you can do so via <a class="reference internal"href=#moptipyapps.tsp.known_optima.opt_tour_from_file title=moptipyapps.tsp.known_optima.opt_tour_from_file><code class="xref py py-func docutils literal notranslate"><span class=pre>opt_tour_from_file()</span></code></a>.<ol class="arabic simple"><li><p>Gerhard Reinelt. TSPLIB - A Traveling Salesman Problem Library. <em>ORSA Journal on Computing</em> 3(4):376-384. November 1991. <a class="reference external"href=https://doi.org/10.1287/ijoc.3.4.376>https://doi.org/10.1287/ijoc.3.4.376</a>. <a class="reference external"href=http://comopt.ifi.uni-heidelberg.de/software/TSPLIB95/>http://comopt.ifi.uni-heidelberg.de/software/TSPLIB95/</a><li><p>Gerhard Reinelt. <em>TSPLIB95.</em> Heidelberg, Germany: Universität Heidelberg, Institut für Angewandte Mathematik. 1995. <a class="reference external"href=http://comopt.ifi.uni-heidelberg.de/software/TSPLIB95/tsp95.pdf>http://comopt.ifi.uni-heidelberg.de/software/TSPLIB95/tsp95.pdf</a></ol><dl class="py function"><dt class="sig sig-object py"id=moptipyapps.tsp.known_optima.list_resource_tours><span class="sig-prename descclassname"><span class=pre>moptipyapps.tsp.known_optima.</span></span><span class="sig-name descname"><span class=pre>list_resource_tours</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/tsp/known_optima.html#list_resource_tours><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.known_optima.list_resource_tours>¶</a><dd><p>Get a tuple of the names of the optimal tours in the resources.</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>list_resource_tours</span><span class=p>()</span>
<span class=go>('a280', 'att48', 'bayg29', 'bays29', 'berlin52', 'brg180', 'ch130', 'ch150', 'cn11', 'eil101', 'eil51', 'eil76', 'fri26', 'gr120', 'gr202', 'gr24', 'gr48', 'gr666', 'gr96', 'kroA100', 'kroC100', 'kroD100', 'lin105', 'pcb442', 'pr1002', 'pr76', 'rd100', 'st70', 'tsp225', 'ulysses16', 'ulysses22')</span>
</pre></div></div> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#tuple><code class="xref py py-class docutils literal notranslate"><span class=pre>tuple</span></code></a>[<a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>, <a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/constants.html#Ellipsis><code class="xref py py-data docutils literal notranslate"><span class=pre>...</span></code></a>]</span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>the tuple</p></dl></dl><dl class="py function"><dt class="sig sig-object py"id=moptipyapps.tsp.known_optima.opt_tour_from_file><span class="sig-prename descclassname"><span class=pre>moptipyapps.tsp.known_optima.</span></span><span class="sig-name descname"><span class=pre>opt_tour_from_file</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>path</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/tsp/known_optima.html#opt_tour_from_file><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.known_optima.opt_tour_from_file>¶</a><dd><p>Read a known optimal tour from a file.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>path</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the path to the file</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.2)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the tour</p></dl></dl><dl class="py function"><dt class="sig sig-object py"id=moptipyapps.tsp.known_optima.opt_tour_from_resource><span class="sig-prename descclassname"><span class=pre>moptipyapps.tsp.known_optima.</span></span><span class="sig-name descname"><span class=pre>opt_tour_from_resource</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>name</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/tsp/known_optima.html#opt_tour_from_resource><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.known_optima.opt_tour_from_resource>¶</a><dd><p>Load an optimal tour from a resource.</p> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>np</span><span class=o>.</span><span class=n>array2string</span><span class=p>(</span><span class=n>opt_tour_from_resource</span><span class=p>(</span><span class=s2>"ulysses16"</span><span class=p>))</span>
<span class=go>'[ 0 13 12 11  6  5 14  4 10  8  9 15  2  1  3  7]'</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>np</span><span class=o>.</span><span class=n>array2string</span><span class=p>(</span><span class=n>opt_tour_from_resource</span><span class=p>(</span><span class=s2>"cn11"</span><span class=p>))</span>
<span class=go>'[ 0  2  3  6  9 10  5  8  7  1  4]'</span>
</pre></div></div> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>name</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the name string</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.2)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the optimal tour</p></dl></dl></section><section id=module-moptipyapps.tsp.tour_length><span id=moptipyapps-tsp-tour-length-module></span><h2>moptipyapps.tsp.tour_length module<a title="Link to this heading"class=headerlink href=#module-moptipyapps.tsp.tour_length>¶</a></h2><p>The tour length objective function for tours in path representation.<p>A Traveling Salesperson Problem (TSP) instance is defined as a fully-connected graph with <a class="reference internal"href=#moptipyapps.tsp.instance.Instance.n_cities title=moptipyapps.tsp.instance.Instance.n_cities><code class="xref py py-attr docutils literal notranslate"><span class=pre>n_cities</span></code></a> nodes. Each edge in the graph has a weight, which identifies the distance between the nodes. The goal is to find the <em>shortest</em> tour that visits every single node in the graph exactly once and then returns back to its starting node. Then nodes are usually called cities. In this file, we present methods for loading instances of the TSP as distance matrices <cite>A</cite>. In other words, the value at <cite>A[i, j]</cite> identifies the travel distance from <cite>i</cite> to <cite>j</cite>.<p>A tour can be represented in path representation, which means that it is stored as a permutation of the numbers <cite>0</cite> to <cite>n_cities-1</cite>. The number at index <cite>k</cite> identifies that <cite>k</cite>-th city to visit. So the first number in the permutation identifies the first city, the second number the second city, and so on.<p>The length of the tour can be computed by summing up the distances from the <cite>k</cite>-th city to the <cite>k+1</cite>-st city, for <cite>k</cite> in <cite>0..n_cities-2</cite> and then adding the distance from the last city to the first city. This is what the function <a class="reference internal"href=#moptipyapps.tsp.tour_length.tour_length title=moptipyapps.tsp.tour_length.tour_length><code class="xref py py-func docutils literal notranslate"><span class=pre>tour_length()</span></code></a> is doing. This function is then wrapped as objective function object in <a class="reference internal"href=#moptipyapps.tsp.tour_length.TourLength title=moptipyapps.tsp.tour_length.TourLength><code class="xref py py-class docutils literal notranslate"><span class=pre>TourLength</span></code></a>.<p>Important initial work on this code has been contributed by Mr. Tianyu LIANG (梁天宇), <<a class="reference external"href=mailto:liangty%40stu.hfuu.edu.cn>liangty<span>@</span>stu<span>.</span>hfuu<span>.</span>edu<span>.</span>cn</a>> a Master’s student at the Institute of Applied Optimization (应用优化研究所) of the School of Artificial Intelligence and Big Data (人工智能与大数据学院) at Hefei University (合肥大学) in Hefei, Anhui, China (中国安徽省合肥市) under the supervision of Prof. Dr. Thomas Weise (汤卫思教授).<ol class="arabic simple"><li><p>Gerhard Reinelt. TSPLIB - A Traveling Salesman Problem Library. <em>ORSA Journal on Computing</em> 3(4):376-384. November 1991. <a class="reference external"href=https://doi.org/10.1287/ijoc.3.4.376>https://doi.org/10.1287/ijoc.3.4.376</a>. <a class="reference external"href=http://comopt.ifi.uni-heidelberg.de/software/TSPLIB95/>http://comopt.ifi.uni-heidelberg.de/software/TSPLIB95/</a><li><p>Gerhard Reinelt. <em>TSPLIB95.</em> Heidelberg, Germany: Universität Heidelberg, Institut für Angewandte Mathematik. 1995. <a class="reference external"href=http://comopt.ifi.uni-heidelberg.de/software/TSPLIB95/tsp95.pdf>http://comopt.ifi.uni-heidelberg.de/software/TSPLIB95/tsp95.pdf</a><li><p>David Lee Applegate, Robert E. Bixby, Vašek Chvátal, and William John Cook. <em>The Traveling Salesman Problem: A Computational Study.</em> Second Edition, 2007. Princeton, NJ, USA: Princeton University Press. Volume 17 of Princeton Series in Applied Mathematics. ISBN: 0-691-12993-2.<li><p>Gregory Z. Gutin and Abraham P. Punnen. <em>The Traveling Salesman Problem and its Variations.</em> 2002. Kluwer Academic Publishers. Volume 12 of Combinatorial Optimization. <a class="reference external"href=https://doi.org/10.1007/b101971>https://doi.org/10.1007/b101971</a>.<li><p>Pedro Larrañaga, Cindy M. H. Kuijpers, Roberto H. Murga, Iñaki Inza, and Sejla Dizdarevic. Genetic Algorithms for the Travelling Salesman Problem: A Review of Representations and Operators. <em>Artificial Intelligence Review</em> 13(2):129-170. April 1999. <a class="reference external"href=https://doi.org/10.1023/A:1006529012972>https://doi.org/10.1023/A:1006529012972</a>.<li><p>Eugene Leighton Lawler, Jan Karel Lenstra, Alexander Hendrik George Rinnooy Kan, and David B. Shmoys. <em>The Traveling Salesman Problem: A Guided Tour of Combinatorial Optimization.</em> September 1985. Chichester, West Sussex, UK: Wiley Interscience. In Estimation, Simulation, and Control - Wiley-Interscience Series in Discrete Mathematics and Optimization. ISBN: 0-471-90413-9<li><p>Tianyu Liang, Zhize Wu, Jörg Lässig, Daan van den Berg, and Thomas Weise. Solving the Traveling Salesperson Problem using Frequency Fitness Assignment. In <em>Proceedings of the IEEE Symposium on Foundations of Computational Intelligence (IEEE FOCI’22),</em> part of the <em>IEEE Symposium Series on Computational Intelligence (SSCI’22),</em> December 4-7, 2022, Singapore. Pages 360-367. IEEE. <a class="reference external"href=https://doi.org/10.1109/SSCI51031.2022.10022296>https://doi.org/10.1109/SSCI51031.2022.10022296</a>.<li><p>Thomas Weise, Raymond Chiong, Ke Tang, Jörg Lässig, Shigeyoshi Tsutsui, Wenxiang Chen, Zbigniew Michalewicz, and Xin Yao. Benchmarking Optimization Algorithms: An Open Source Framework for the Traveling Salesman Problem. <em>IEEE Computational Intelligence Magazine.</em> 9(3):40-52. August 2014. <a class="reference external"href=https://doi.org/10.1109/MCI.2014.2326101>https://doi.org/10.1109/MCI.2014.2326101</a>.</ol><dl class="py class"><dt class="sig sig-object py"id=moptipyapps.tsp.tour_length.TourLength><em class=property><span class=k><span class=pre>class</span></span><span class=w> </span></em><span class="sig-prename descclassname"><span class=pre>moptipyapps.tsp.tour_length.</span></span><span class="sig-name descname"><span class=pre>TourLength</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>instance</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/tsp/tour_length.html#TourLength><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.tour_length.TourLength>¶</a><dd><p>Bases: <a class="reference external"title="(in moptipy v0.9.148)"href=https://thomasweise.github.io/moptipy/moptipy.api.html#moptipy.api.objective.Objective><code class="xref py py-class docutils literal notranslate"><span class=pre>Objective</span></code></a></p> <p>The tour length objective function.</p> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.tsp.tour_length.TourLength.evaluate><span class="sig-name descname"><span class=pre>evaluate</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>x</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/tsp/tour_length.html#TourLength.evaluate><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.tour_length.TourLength.evaluate>¶</a><dd><p>Compute the length of a tour in path representation.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>x</strong> – the tour in path representation</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the tour length</p></dl></dl> <dl class="py attribute"><dt class="sig sig-object py"id=moptipyapps.tsp.tour_length.TourLength.instance><span class="sig-name descname"><span class=pre>instance</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><code class="xref py py-class docutils literal notranslate"><span class=pre>Final</span></code><span class=pre>[</span><a class="reference internal"href=#moptipyapps.tsp.instance.Instance title=moptipyapps.tsp.instance.Instance><code class="xref py py-class docutils literal notranslate"><span class=pre>Instance</span></code></a><span class=pre>]</span></em><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.tour_length.TourLength.instance>¶</a><dd><p>the TSP instance we are trying to solve</p></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.tsp.tour_length.TourLength.log_parameters_to><span class="sig-name descname"><span class=pre>log_parameters_to</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>logger</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/tsp/tour_length.html#TourLength.log_parameters_to><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.tour_length.TourLength.log_parameters_to>¶</a><dd><p>Log the parameters of the space to the given logger.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>logger</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in moptipy v0.9.148)"href=https://thomasweise.github.io/moptipy/moptipy.utils.html#moptipy.utils.logger.KeyValueLogSection><code class="xref py py-class docutils literal notranslate"><span class=pre>KeyValueLogSection</span></code></a></span>) – the logger for the parameters</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.tsp.tour_length.TourLength.lower_bound><span class="sig-name descname"><span class=pre>lower_bound</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/tsp/tour_length.html#TourLength.lower_bound><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.tour_length.TourLength.lower_bound>¶</a><dd><p>Get the lower bound of the tour length.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>the lower bound of the tour length</p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.tsp.tour_length.TourLength.upper_bound><span class="sig-name descname"><span class=pre>upper_bound</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/tsp/tour_length.html#TourLength.upper_bound><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.tour_length.TourLength.upper_bound>¶</a><dd><p>Get the upper bound of the tour length.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>the upper bound of the tour length</p></dl></dl></dl><dl class="py function"><dt class="sig sig-object py"id=moptipyapps.tsp.tour_length.tour_length><span class="sig-prename descclassname"><span class=pre>moptipyapps.tsp.tour_length.</span></span><span class="sig-name descname"><span class=pre>tour_length</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>instance</span></span></em>, <em class=sig-param><span class=n><span class=pre>x</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/tsp/tour_length.html#tour_length><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.tsp.tour_length.tour_length>¶</a><dd><p>Compute the length of a tour.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>instance</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.2)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – the distance matrix<li><p><strong>x</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.2)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – the tour</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the length of the tour <cite>x</cite></p></dl></dl></section></section><div class=clearer></div></div></div></div><div aria-label=Main class=sphinxsidebar role=navigation><div class=sphinxsidebarwrapper><div><h3><a href=index.html>Table of Contents</a></h3><ul><li><a class="reference internal"href=#>moptipyapps.tsp package</a><ul><li><a class="reference internal"href=#subpackages>Subpackages</a><li><a class="reference internal"href=#submodules>Submodules</a><li><a class="reference internal"href=#module-moptipyapps.tsp.ea1p1_revn>moptipyapps.tsp.ea1p1_revn module</a><ul><li><a class="reference internal"href=#moptipyapps.tsp.ea1p1_revn.TSPEA1p1revn><code class="docutils literal notranslate"><span class=pre>TSPEA1p1revn</span></code></a><ul><li><a class="reference internal"href=#moptipyapps.tsp.ea1p1_revn.TSPEA1p1revn.log_parameters_to><code class="docutils literal notranslate"><span class=pre>TSPEA1p1revn.log_parameters_to()</span></code></a><li><a class="reference internal"href=#moptipyapps.tsp.ea1p1_revn.TSPEA1p1revn.solve><code class="docutils literal notranslate"><span class=pre>TSPEA1p1revn.solve()</span></code></a></ul><li><a class="reference internal"href=#moptipyapps.tsp.ea1p1_revn.rev_if_not_worse><code class="docutils literal notranslate"><span class=pre>rev_if_not_worse()</span></code></a></ul><li><a class="reference internal"href=#module-moptipyapps.tsp.fea1p1_revn>moptipyapps.tsp.fea1p1_revn module</a><ul><li><a class="reference internal"href=#moptipyapps.tsp.fea1p1_revn.TSPFEA1p1revn><code class="docutils literal notranslate"><span class=pre>TSPFEA1p1revn</span></code></a><ul><li><a class="reference internal"href=#moptipyapps.tsp.fea1p1_revn.TSPFEA1p1revn.do_log_h><code class="docutils literal notranslate"><span class=pre>TSPFEA1p1revn.do_log_h</span></code></a><li><a class="reference internal"href=#moptipyapps.tsp.fea1p1_revn.TSPFEA1p1revn.instance><code class="docutils literal notranslate"><span class=pre>TSPFEA1p1revn.instance</span></code></a><li><a class="reference internal"href=#moptipyapps.tsp.fea1p1_revn.TSPFEA1p1revn.log_parameters_to><code class="docutils literal notranslate"><span class=pre>TSPFEA1p1revn.log_parameters_to()</span></code></a><li><a class="reference internal"href=#moptipyapps.tsp.fea1p1_revn.TSPFEA1p1revn.solve><code class="docutils literal notranslate"><span class=pre>TSPFEA1p1revn.solve()</span></code></a></ul><li><a class="reference internal"href=#moptipyapps.tsp.fea1p1_revn.rev_if_h_not_worse><code class="docutils literal notranslate"><span class=pre>rev_if_h_not_worse()</span></code></a></ul><li><a class="reference internal"href=#module-moptipyapps.tsp.instance>moptipyapps.tsp.instance module</a><ul><li><a class="reference internal"href=#moptipyapps.tsp.instance.Instance><code class="docutils literal notranslate"><span class=pre>Instance</span></code></a><ul><li><a class="reference internal"href=#moptipyapps.tsp.instance.Instance.from_file><code class="docutils literal notranslate"><span class=pre>Instance.from_file()</span></code></a><li><a class="reference internal"href=#moptipyapps.tsp.instance.Instance.from_resource><code class="docutils literal notranslate"><span class=pre>Instance.from_resource()</span></code></a><li><a class="reference internal"href=#moptipyapps.tsp.instance.Instance.is_symmetric><code class="docutils literal notranslate"><span class=pre>Instance.is_symmetric</span></code></a><li><a class="reference internal"href=#moptipyapps.tsp.instance.Instance.list_resources><code class="docutils literal notranslate"><span class=pre>Instance.list_resources()</span></code></a><li><a class="reference internal"href=#moptipyapps.tsp.instance.Instance.log_parameters_to><code class="docutils literal notranslate"><span class=pre>Instance.log_parameters_to()</span></code></a><li><a class="reference internal"href=#moptipyapps.tsp.instance.Instance.n_cities><code class="docutils literal notranslate"><span class=pre>Instance.n_cities</span></code></a><li><a class="reference internal"href=#moptipyapps.tsp.instance.Instance.name><code class="docutils literal notranslate"><span class=pre>Instance.name</span></code></a><li><a class="reference internal"href=#moptipyapps.tsp.instance.Instance.to_stream><code class="docutils literal notranslate"><span class=pre>Instance.to_stream()</span></code></a><li><a class="reference internal"href=#moptipyapps.tsp.instance.Instance.tour_length_lower_bound><code class="docutils literal notranslate"><span class=pre>Instance.tour_length_lower_bound</span></code></a><li><a class="reference internal"href=#moptipyapps.tsp.instance.Instance.tour_length_upper_bound><code class="docutils literal notranslate"><span class=pre>Instance.tour_length_upper_bound</span></code></a></ul><li><a class="reference internal"href=#moptipyapps.tsp.instance.ncities_from_tsplib_name><code class="docutils literal notranslate"><span class=pre>ncities_from_tsplib_name()</span></code></a></ul><li><a class="reference internal"href=#module-moptipyapps.tsp.known_optima>moptipyapps.tsp.known_optima module</a><ul><li><a class="reference internal"href=#moptipyapps.tsp.known_optima.list_resource_tours><code class="docutils literal notranslate"><span class=pre>list_resource_tours()</span></code></a><li><a class="reference internal"href=#moptipyapps.tsp.known_optima.opt_tour_from_file><code class="docutils literal notranslate"><span class=pre>opt_tour_from_file()</span></code></a><li><a class="reference internal"href=#moptipyapps.tsp.known_optima.opt_tour_from_resource><code class="docutils literal notranslate"><span class=pre>opt_tour_from_resource()</span></code></a></ul><li><a class="reference internal"href=#module-moptipyapps.tsp.tour_length>moptipyapps.tsp.tour_length module</a><ul><li><a class="reference internal"href=#moptipyapps.tsp.tour_length.TourLength><code class="docutils literal notranslate"><span class=pre>TourLength</span></code></a><ul><li><a class="reference internal"href=#moptipyapps.tsp.tour_length.TourLength.evaluate><code class="docutils literal notranslate"><span class=pre>TourLength.evaluate()</span></code></a><li><a class="reference internal"href=#moptipyapps.tsp.tour_length.TourLength.instance><code class="docutils literal notranslate"><span class=pre>TourLength.instance</span></code></a><li><a class="reference internal"href=#moptipyapps.tsp.tour_length.TourLength.log_parameters_to><code class="docutils literal notranslate"><span class=pre>TourLength.log_parameters_to()</span></code></a><li><a class="reference internal"href=#moptipyapps.tsp.tour_length.TourLength.lower_bound><code class="docutils literal notranslate"><span class=pre>TourLength.lower_bound()</span></code></a><li><a class="reference internal"href=#moptipyapps.tsp.tour_length.TourLength.upper_bound><code class="docutils literal notranslate"><span class=pre>TourLength.upper_bound()</span></code></a></ul><li><a class="reference internal"href=#moptipyapps.tsp.tour_length.tour_length><code class="docutils literal notranslate"><span class=pre>tour_length()</span></code></a></ul></ul></ul></div><div><h4>Previous topic</h4><p class=topless><a title="previous chapter"href=moptipyapps.tests.html>moptipyapps.tests package</a></div><div><h4>Next topic</h4><p class=topless><a title="next chapter"href=moptipyapps.tsp.tsplib.html>moptipyapps.tsp.tsplib package</a></div><div aria-label="source link"role=note><h3>This Page</h3><ul class=this-page-menu><li><a href=_sources/moptipyapps.tsp.rst.txt rel=nofollow>Show Source</a></ul></div><search id=searchbox role=search style=display:none> <h3 id=searchlabel>Quick search</h3> <div class=searchformwrapper><form action=search.html class=search><input aria-labelledby=searchlabel autocapitalize=off autocomplete=off autocorrect=off name=q spellcheck=false><input type=submit value=Go></form></div> </search><script>document.getElementById(`searchbox`).style.display=`block`</script></div></div><div class=clearer></div></div><div aria-label=Related class=related role=navigation><h3>Navigation</h3><ul><li class=right style=margin-right:10px><a title="General Index"href=genindex.html>index</a><li class=right><a title="Python Module Index"href=py-modindex.html>modules</a> |<li class=right><a title="moptipyapps.tsp.tsplib package"href=moptipyapps.tsp.tsplib.html>next</a> |<li class=right><a title="moptipyapps.tests package"href=moptipyapps.tests.html>previous</a> |<li class="nav-item nav-item-0"><a href=index.html>moptipyapps 0.8.68 documentation</a> »<li class="nav-item nav-item-1"><a href=modules.html>moptipyapps</a> »<li class="nav-item nav-item-2"><a href=moptipyapps.html>moptipyapps package</a> »<li class="nav-item nav-item-this"><a href>moptipyapps.tsp package</a></ul></div><div class=footer role=contentinfo>© Copyright 2023-2025, Thomas Weise.</div>
