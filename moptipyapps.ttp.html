<!doctype html><html data-content_root=./ lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1.0"name=viewport><meta content="width=device-width,initial-scale=1"name=viewport><title>moptipyapps.ttp package — moptipyapps 0.8.68 documentation</title><link href="/moptipyapps/_static/pygments.css?v=b86133f3"rel=stylesheet><link href="/moptipyapps/_static/bizstyle.css?v=5283bb3d"rel=stylesheet><script src="/moptipyapps/_static/documentation_options.js?v=f8800668"></script><script src="/moptipyapps/_static/doctools.js?v=9bcbadda"></script><script src="/moptipyapps/_static/sphinx_highlight.js?v=dc90522c"></script><script src=_static/bizstyle.js></script><link href=https://thomasweise.github.io/moptipyapps/moptipyapps.ttp.html rel=canonical><link href=genindex.html rel=index title=Index><link href=search.html rel=search title=Search><link title="moptipyapps.ttp.robinx package"href=moptipyapps.ttp.robinx.html rel=next><link title="moptipyapps.tsp.tsplib package"href=moptipyapps.tsp.tsplib.html rel=prev><meta content="width=device-width,initial-scale=1.0"name=viewport><body><div aria-label=Related class=related role=navigation><h3>Navigation</h3><ul><li class=right style=margin-right:10px><a title="General Index"accesskey=I href=genindex.html>index</a><li class=right><a title="Python Module Index"href=py-modindex.html>modules</a> |<li class=right><a title="moptipyapps.ttp.robinx package"accesskey=N href=moptipyapps.ttp.robinx.html>next</a> |<li class=right><a title="moptipyapps.tsp.tsplib package"accesskey=P href=moptipyapps.tsp.tsplib.html>previous</a> |<li class="nav-item nav-item-0"><a href=index.html>moptipyapps 0.8.68 documentation</a> »<li class="nav-item nav-item-1"><a href=modules.html>moptipyapps</a> »<li class="nav-item nav-item-2"><a accesskey=U href=moptipyapps.html>moptipyapps package</a> »<li class="nav-item nav-item-this"><a href>moptipyapps.ttp package</a></ul></div><div class=document><div class=documentwrapper><div class=bodywrapper><div class=body role=main><section id=module-moptipyapps.ttp><span id=moptipyapps-ttp-package></span><h1>moptipyapps.ttp package<a title="Link to this heading"class=headerlink href=#module-moptipyapps.ttp>¶</a></h1><p>The Traveling Tournament Problem (TTP).<p>The Traveling Tournament Problem (TTP) models the logistics of a sports league, where each game is defined as two teams playing against each other. In each time slot (let’s call that “day”) of the tournament, each team has one game against one other team. One of the two teams of each game will play “at home,” the other “away.”<p>In order to have each of the <cite>n</cite> teams play once against each of the <cite>n-1</cite> other teams, we need to have <cite>n - 1</cite> “days”. So in one round of the tournament, there are <cite>n - 1</cite> time slots so that each of the teams can play exactly <cite>n - 1</cite> games, i.e., once against every other team.<p>If the tournament has two rounds (i.e., is a double round-robin tournament), then each game appears twice, but with home and away team switched. There are also constraints for the minimum and maximum number of games at home in a row and away in a row. There are also constraints for the minimum and maximum number in between repeating a game (with home/away team switched).<ol class="arabic simple"><li><p>David Van Bulck. Minimum Travel Objective Repository. <em>RobinX: An XML-driven Classification for Round-Robin Sports Timetabling.</em> Faculty of Economics and Business Administration at Ghent University, Belgium. <a class="reference external"href=https://robinxval.ugent.be/>https://robinxval.ugent.be/</a>. In this repository, you can also find the original instance data, useful descriptions, and many links to related works.<li><p>Kelly Easton, George L. Nemhauser, and Michael K. Trick. The Traveling Tournament Problem Description and Benchmarks. In <em>Principles and Practice of Constraint Programming (CP’01),</em> November 26 - December 1, 2001, Paphos, Cyprus, pages 580-584, Berlin/Heidelberg, Germany: Springer. ISBN: 978-3-540-42863-3. <a class="reference external"href=https://doi.org/10.1007/3-540-45578-7_43>https://doi.org/10.1007/3-540-45578-7_43</a>. <a class="reference external"href=https://www.researchgate.net/publication/220270875>https://www.researchgate.net/publication/220270875</a>.<li><p>Celso C. Ribeiro and Sebastián Urrutia. Heuristics for the Mirrored Traveling Tournament Problem. <em>European Journal of Operational Research</em> (EJOR) 179(3):775-787, June 16, 2007. <a class="reference external"href=https://doi.org/10.1016/j.ejor.2005.03.061>https://doi.org/10.1016/j.ejor.2005.03.061</a>. <a class="reference external"href=https://optimization-online.org/wp-content/uploads/2004/04/851.pdf>https://optimization-online.org/wp-content/uploads/2004/04/851.pdf</a>.<li><p>Sebastián Urrutia and Celso C. Ribeiro. Maximizing Breaks and Bounding Solutions to the Mirrored Traveling Tournament Problem. <em>Discrete Applied Mathematics</em> 154(13):1932-1938, August 15, 2006. <a class="reference external"href=https://doi.org/10.1016/j.dam.2006.03.030>https://doi.org/10.1016/j.dam.2006.03.030</a>.</ol><p>So far, the following components have been implemented:<ol class="arabic simple"><li><p><a class="reference internal"href=#module-moptipyapps.ttp.instance title=moptipyapps.ttp.instance><code class="xref py py-mod docutils literal notranslate"><span class=pre>instance</span></code></a> provides the data of a TTP instance, including the number of teams, the constraints, and the distance matrix. Notice that it is an extension of the Traveling Salesperson Problem <a class="reference internal"href=moptipyapps.tsp.html#module-moptipyapps.tsp.instance title=moptipyapps.tsp.instance><code class="xref py py-mod docutils literal notranslate"><span class=pre>instance</span></code></a> instance data, from which it inherits the distance matrix. This data basically describes the starting situation and the input data when we try to solve a TTP instance. Also, the module provides several of the benchmark instances from <<a class="reference external"href=https://robinxval.ugent.be/>https://robinxval.ugent.be/</a>>.<li><p><a class="reference internal"href=#module-moptipyapps.ttp.game_plan title=moptipyapps.ttp.game_plan><code class="xref py py-mod docutils literal notranslate"><span class=pre>game_plan</span></code></a> provides a class for holding one candidate solution to the TTP, i.e., a game plan. The game plan states, for each day and each team, against which other team it will plan (if any). The game plan may contain errors, which need to be sorted out by optimization.<li><p><a class="reference internal"href=#module-moptipyapps.ttp.game_plan_space title=moptipyapps.ttp.game_plan_space><code class="xref py py-mod docutils literal notranslate"><span class=pre>game_plan_space</span></code></a> offers the <cite>moptipy</cite> <cite>Space</cite> functionality for such game plans. In other words, it allows us to instantiate game plans in a uniform way and to convert them to and from strings (which is used when writing log files).<li><p><a class="reference internal"href=#module-moptipyapps.ttp.game_encoding title=moptipyapps.ttp.game_encoding><code class="xref py py-mod docutils literal notranslate"><span class=pre>game_encoding</span></code></a> allows us to decode a permutation (potentially with repetitions, see <a class="reference external"title="(in moptipy v0.9.148)"href=https://thomasweise.github.io/moptipy/moptipy.spaces.html#module-moptipy.spaces.permutations><code class="xref py py-mod docutils literal notranslate"><span class=pre>permutations</span></code></a>) into a game plan. We therefore can use optimization algorithms and operators working on the well-understood space of permutations to produce game plans. However, the decoded game plans may have errors, e.g., slots without games or violations of the maximum or minimum streak length constraints.<li><p><a class="reference internal"href=#module-moptipyapps.ttp.errors title=moptipyapps.ttp.errors><code class="xref py py-mod docutils literal notranslate"><span class=pre>errors</span></code></a> offers an objective function that counts the number of such constraint violations in a game plan. If we can minimize it to zero, then the game plan is feasible.</ol><p>This is code is part of the research work of Mr. Xiang CAO (曹翔), a Master’s student at the Institute of Applied Optimization (应用优化研究所) of the School of Artificial Intelligence and Big Data (人工智能与大数据学院) at Hefei University (合肥大学) in Hefei, Anhui, China (中国安徽省合肥市) under the supervision of Prof. Dr. Thomas Weise (汤卫思教授).<section id=subpackages><h2>Subpackages<a title="Link to this heading"class=headerlink href=#subpackages>¶</a></h2><div class="toctree-wrapper compound"><ul><li class=toctree-l1><a class="reference internal"href=moptipyapps.ttp.robinx.html>moptipyapps.ttp.robinx package</a><ul><li class=toctree-l2><a class="reference internal"href=moptipyapps.ttp.robinx.html#moptipyapps.ttp.robinx.open_resource_stream><code class="docutils literal notranslate"><span class=pre>open_resource_stream()</span></code></a></ul></ul></div></section><section id=submodules><h2>Submodules<a title="Link to this heading"class=headerlink href=#submodules>¶</a></h2></section><section id=module-moptipyapps.ttp.errors><span id=moptipyapps-ttp-errors-module></span><h2>moptipyapps.ttp.errors module<a title="Link to this heading"class=headerlink href=#module-moptipyapps.ttp.errors>¶</a></h2><p>An objective that counts constraint violations.<p>The idea is that we will probably not be able to always produce game plans that adhere to all the constraints imposed by a Traveling Tournament Problem <a class="reference internal"href=#module-moptipyapps.ttp title=moptipyapps.ttp><code class="xref py py-mod docutils literal notranslate"><span class=pre>ttp</span></code></a> <a class="reference internal"href=#module-moptipyapps.ttp.instance title=moptipyapps.ttp.instance><code class="xref py py-mod docutils literal notranslate"><span class=pre>instance</span></code></a>, so we will instead probably usually generate game plans that may contain errors.<p>We will hope that optimization can take care of this by applying this objective function here to get rid of them. In the documentation of function <a class="reference internal"href=#moptipyapps.ttp.errors.count_errors title=moptipyapps.ttp.errors.count_errors><code class="xref py py-func docutils literal notranslate"><span class=pre>count_errors()</span></code></a>, we explain the different types of errors that may occur and that are counted.<p>This objective function plays thus well with encodings that produce infeasible schedules, such as the very simple <a class="reference internal"href=#module-moptipyapps.ttp.game_encoding title=moptipyapps.ttp.game_encoding><code class="xref py py-mod docutils literal notranslate"><span class=pre>game_encoding</span></code></a>.<dl class="py class"><dt class="sig sig-object py"id=moptipyapps.ttp.errors.Errors><em class=property><span class=k><span class=pre>class</span></span><span class=w> </span></em><span class="sig-prename descclassname"><span class=pre>moptipyapps.ttp.errors.</span></span><span class="sig-name descname"><span class=pre>Errors</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>instance</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/errors.html#Errors><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.errors.Errors>¶</a><dd><p>Bases: <a class="reference external"title="(in moptipy v0.9.148)"href=https://thomasweise.github.io/moptipy/moptipy.api.html#moptipy.api.objective.Objective><code class="xref py py-class docutils literal notranslate"><span class=pre>Objective</span></code></a></p> <p>Compute the errors in a game plan.</p> <p>This objective function encompasses all the constraints imposed on standard TTP instances in one summarizing number. See the documentation of <a class="reference internal"href=#moptipyapps.ttp.errors.count_errors title=moptipyapps.ttp.errors.count_errors><code class="xref py py-func docutils literal notranslate"><span class=pre>count_errors()</span></code></a> for more information.</p> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.ttp.errors.Errors.evaluate><span class="sig-name descname"><span class=pre>evaluate</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>x</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/errors.html#Errors.evaluate><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.errors.Errors.evaluate>¶</a><dd><p>Count the errors in a game plan as objective value.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>x</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference internal"href=#moptipyapps.ttp.game_plan.GamePlan title=moptipyapps.ttp.game_plan.GamePlan><code class="xref py py-class docutils literal notranslate"><span class=pre>GamePlan</span></code></a></span>) – the game plan</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the number of errors in the plan</p></dl></dl> <dl class="py attribute"><dt class="sig sig-object py"id=moptipyapps.ttp.errors.Errors.instance><span class="sig-name descname"><span class=pre>instance</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><code class="xref py py-class docutils literal notranslate"><span class=pre>Final</span></code><span class=pre>[</span><a class="reference internal"href=#moptipyapps.ttp.instance.Instance title=moptipyapps.ttp.instance.Instance><code class="xref py py-class docutils literal notranslate"><span class=pre>Instance</span></code></a><span class=pre>]</span></em><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.errors.Errors.instance>¶</a><dd><p>the TTP instance</p></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.ttp.errors.Errors.is_always_integer><span class="sig-name descname"><span class=pre>is_always_integer</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/errors.html#Errors.is_always_integer><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.errors.Errors.is_always_integer>¶</a><dd><p>State that this objective function is always integer-valued.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p><cite>True</cite></p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.ttp.errors.Errors.lower_bound><span class="sig-name descname"><span class=pre>lower_bound</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/errors.html#Errors.lower_bound><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.errors.Errors.lower_bound>¶</a><dd><p>Obtain the lower bound for errors: <cite>0</cite>, which means error-free.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p><cite>0</cite></p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.ttp.errors.Errors.upper_bound><span class="sig-name descname"><span class=pre>upper_bound</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/errors.html#Errors.upper_bound><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.errors.Errors.upper_bound>¶</a><dd><p>Compute upper bound for errors: <cite>(4*D - 1) * n - 1</cite>.</p> <p>Here <cite>D</cite> is the number of days, <cite>n</cite> is the number of teams, and <cite>D = (n - 1) * rounds</cite>. See the documentation of <a class="reference internal"href=#moptipyapps.ttp.errors.count_errors title=moptipyapps.ttp.errors.count_errors><code class="xref py py-func docutils literal notranslate"><span class=pre>count_errors()</span></code></a>.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p><cite>(4*D - 1) * n - 1</cite></p></dl></dl></dl><dl class="py function"><dt class="sig sig-object py"id=moptipyapps.ttp.errors.count_errors><span class="sig-prename descclassname"><span class=pre>moptipyapps.ttp.errors.</span></span><span class="sig-name descname"><span class=pre>count_errors</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>y</span></span></em>, <em class=sig-param><span class=n><span class=pre>home_streak_min</span></span></em>, <em class=sig-param><span class=n><span class=pre>home_streak_max</span></span></em>, <em class=sig-param><span class=n><span class=pre>away_streak_min</span></span></em>, <em class=sig-param><span class=n><span class=pre>away_streak_max</span></span></em>, <em class=sig-param><span class=n><span class=pre>separation_min</span></span></em>, <em class=sig-param><span class=n><span class=pre>separation_max</span></span></em>, <em class=sig-param><span class=n><span class=pre>temp_1</span></span></em>, <em class=sig-param><span class=n><span class=pre>temp_2</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/errors.html#count_errors><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.errors.count_errors>¶</a><dd><p>Compute the number of errors in a game plan.</p> <p>This method counts the total number of the violations of any of the following constraints over <cite>D = (n - 1) * rounds</cite> days for <cite>n</cite>-team tournaments, where <cite>rounds == 2</cite> for double-round robin. The following kinds of errors are counted:</p> <ol class="arabic simple"><li><p>If a team <cite>A</cite> plays a team <cite>B</cite> on a given day, then <cite>B</cite> must play against <cite>A</cite> on that day and if <cite>A</cite> plays at home, then <cite>B</cite> must play away. If not, then that’s an error. This can result in at most <cite>D * n</cite> errors, because each of the <cite>n</cite> teams has (at most) one game on each of the <cite>D</cite> days and if the <em>other</em> team could play against the wrong team (or does not play at all), then that’s one error.<li><p>If a team has no other team assigned to play with, this is designated by value <cite>0</cite> and causes 1 error. This error also ends all ongoing streaks, i.e., may additionally lead to a streak violation of at most <cite>max(home_streak_min, away_streak_min) - 1</cite>. However, this cannot be more then two errors in sum per day (minus 1, for the first day). Also, this error is mutually exclusive with error 1. This can result in at most <cite>D * n + (D - 1) * n = (2*D - 1) * n</cite> errors. Since this error is also mutually exclusive with the errors from constraints 3 to 8 below, this gives us an upper bound of <cite>(2*D - 1) * n</cite> errors for all of the constraints (1-8) together.<li><p>A team has a home streak shorter than <cite>home_streak_min</cite>. No such error can occur on the first day. This error is mutually exclusive with error 2, as the streak violation is already counted there. This can result in at most <cite>(D - 1) * n</cite> errors, but this number is shared with the following constraints (4-6), because a streak can only either be a home streak or an away streak but not both and it can either be too short or too long, but not both.<li><p>A team has a home streak longer than <cite>home_streak_max</cite>. No such error can occur on the first day. This error is mutually exclusive with error 2.<li><p>A team has an away streak shorter than <cite>away_streak_min</cite>. No such error can occur on the first day. This error is mutually exclusive with error 2, as the streak violation is already counted there.<li><p>A team has an away streak longer than <cite>away_streak_max</cite>. No such error can occur on the first day. This error is mutually exclusive with error 2.<li><p>Team <cite>A</cite> plays team <cite>B</cite> <em>again</em> before the team has played at least <cite>separation_min</cite> games against other teams. This error cannot occur on the first day and is mutually exclusive with error 2. There can be most 1 such error per day for any pairing of teams and there are <cite>n//2</cite> pairings per day, giving us an upper bound of <cite>D * n//2</cite> errors in total. This error is mutually exclusive with the next constraint 8 (and constraint 2).<li><p>Team <cite>A</cite> plays team <cite>B</cite> <em>again</em> after the team has played more than <cite>separation_max</cite> games against other teams. This error cannot occur on the first day and is mutually exclusive with error 2. There can be most 1 such error per day for any pairing of teams and there are <cite>n//2</cite> pairings per day, giving us an upper bound of <cite>D * n//2</cite> errors in total. This error is mutually exclusive with the previous constraint 7 (and constraint 2).<li><p>If team <cite>A</cite> plays team <cite>B</cite> at home <cite>a</cite> times, then team <cite>B</cite> must play team <cite>A</cite> at home at least <cite>a-1</cite> and at most <cite>a+1</cite> times. In total, we have <cite>D*n</cite> games. There cannot be more than <cite>(D*n) - 1</cite> such errors. Notice that this kind of error can never occur if we use our <a class="reference internal"href=#module-moptipyapps.ttp.game_encoding title=moptipyapps.ttp.game_encoding><code class="xref py py-mod docutils literal notranslate"><span class=pre>game_encoding</span></code></a> as representation.<li><p>Each pairing of teams occurs as same as often, namely <cite>rounds</cite> times, with <cite>rounds = 2</cite> for double-round robin. In total, we have <cite>D*n</cite> games. There cannot be more than <cite>D*n</cite> such errors. Notice that this kind of error can never occur if we use our <a class="reference internal"href=#module-moptipyapps.ttp.game_encoding title=moptipyapps.ttp.game_encoding><code class="xref py py-mod docutils literal notranslate"><span class=pre>game_encoding</span></code></a> as representation.</ol> <p>The violations are counted on a per-day basis. For example, if <cite>home_streak_max</cite> is <cite>3</cite> and a team has a home streak of length <cite>5</cite>, then this counts as <cite>2</cite> errors. However, the errors are also counted in a non-redundant fashion: If a team <cite>A</cite> violates <cite>separation_min</cite> by, say, two days, then this counts as two errors. However, in this case, its opposing team <cite>B</cite> would have necessarily incured the exactly same violations. These are then not counted.</p> <p>As upper bound for the number of errors, we therefore have to add those of constraints 2, 9, and 10 and get <cite>(2*D - 1) * n + D*n - 1 + D*n</cite>, which gives us <cite>(4*D - 1) * n - 1, where `D = (n - 1) * rounds</cite>. The lower bound is obviously <cite>0</cite>.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>y</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.2)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – the game plan<li><p><strong>home_streak_min</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span>) – the minimum permitted home streak length<li><p><strong>home_streak_max</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span>) – the maximum permitted home streak length<li><p><strong>away_streak_min</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span>) – the minimum permitted away streak length<li><p><strong>away_streak_max</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span>) – the maximum permitted away streak length<li><p><strong>separation_min</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span>) – the minimum number of games between a repetition<li><p><strong>separation_max</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span>) – the maximum number games between a repetition<li><p><strong>temp_1</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.2)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – a temporary <cite>n*(n-1)/2</cite> integer array, which is used to hold, for each pairing, when the last game was played<li><p><strong>temp_2</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.2)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – a temporary <cite>n,n</cite> integer array, which is used to hold, how often each team played each other team</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the total number of errors. <cite>0</cite> if the game plan is feasible</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>count_errors</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([[</span><span class=o>-</span><span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>],</span> <span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>]],</span> <span class=nb>int</span><span class=p>),</span>
<span class=gp>... </span>             <span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=n>np</span><span class=o>.</span><span class=n>empty</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=nb>int</span><span class=p>),</span>
<span class=gp>... </span>             <span class=n>np</span><span class=o>.</span><span class=n>empty</span><span class=p>((</span><span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span> <span class=nb>int</span><span class=p>))</span>
<span class=go>1</span>
<span class=gp>>>> </span><span class=n>count_errors</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([[</span><span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>],</span> <span class=p>[</span><span class=o>-</span><span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>]],</span> <span class=nb>int</span><span class=p>),</span>
<span class=gp>... </span>             <span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=n>np</span><span class=o>.</span><span class=n>empty</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=nb>int</span><span class=p>),</span>
<span class=gp>... </span>             <span class=n>np</span><span class=o>.</span><span class=n>empty</span><span class=p>((</span><span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span> <span class=nb>int</span><span class=p>))</span>
<span class=go>1</span>
<span class=gp>>>> </span><span class=n>count_errors</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([[</span> <span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span>  <span class=mi>4</span><span class=p>,</span> <span class=o>-</span><span class=mi>3</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span> <span class=mi>4</span><span class=p>,</span>  <span class=mi>3</span><span class=p>,</span> <span class=o>-</span><span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span><span class=o>-</span><span class=mi>2</span><span class=p>,</span>  <span class=mi>1</span><span class=p>,</span> <span class=o>-</span><span class=mi>4</span><span class=p>,</span>  <span class=mi>3</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span><span class=o>-</span><span class=mi>4</span><span class=p>,</span> <span class=o>-</span><span class=mi>3</span><span class=p>,</span>  <span class=mi>2</span><span class=p>,</span>  <span class=mi>1</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span> <span class=mi>3</span><span class=p>,</span>  <span class=mi>4</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=o>-</span><span class=mi>2</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span><span class=o>-</span><span class=mi>3</span><span class=p>,</span> <span class=o>-</span><span class=mi>4</span><span class=p>,</span>  <span class=mi>1</span><span class=p>,</span>  <span class=mi>2</span><span class=p>]],</span> <span class=nb>int</span><span class=p>),</span>
<span class=gp>... </span>             <span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=n>np</span><span class=o>.</span><span class=n>empty</span><span class=p>(</span><span class=mi>6</span><span class=p>,</span> <span class=nb>int</span><span class=p>),</span>
<span class=gp>... </span>             <span class=n>np</span><span class=o>.</span><span class=n>empty</span><span class=p>((</span><span class=mi>4</span><span class=p>,</span> <span class=mi>4</span><span class=p>),</span> <span class=nb>int</span><span class=p>))</span>
<span class=go>2</span>
<span class=gp>>>> </span><span class=n>count_errors</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([[</span> <span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span>  <span class=mi>4</span><span class=p>,</span> <span class=o>-</span><span class=mi>3</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span> <span class=mi>4</span><span class=p>,</span>  <span class=mi>3</span><span class=p>,</span> <span class=o>-</span><span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span><span class=o>-</span><span class=mi>2</span><span class=p>,</span>  <span class=mi>1</span><span class=p>,</span> <span class=o>-</span><span class=mi>4</span><span class=p>,</span>  <span class=mi>3</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span> <span class=mi>3</span><span class=p>,</span>  <span class=mi>4</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=o>-</span><span class=mi>2</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span><span class=o>-</span><span class=mi>4</span><span class=p>,</span> <span class=o>-</span><span class=mi>3</span><span class=p>,</span>  <span class=mi>2</span><span class=p>,</span>  <span class=mi>1</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span><span class=o>-</span><span class=mi>3</span><span class=p>,</span> <span class=o>-</span><span class=mi>4</span><span class=p>,</span>  <span class=mi>1</span><span class=p>,</span>  <span class=mi>2</span><span class=p>]],</span> <span class=nb>int</span><span class=p>),</span>
<span class=gp>... </span>             <span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=n>np</span><span class=o>.</span><span class=n>empty</span><span class=p>(</span><span class=mi>6</span><span class=p>,</span> <span class=nb>int</span><span class=p>),</span>
<span class=gp>... </span>             <span class=n>np</span><span class=o>.</span><span class=n>empty</span><span class=p>((</span><span class=mi>4</span><span class=p>,</span> <span class=mi>4</span><span class=p>),</span> <span class=nb>int</span><span class=p>))</span>
<span class=go>0</span>
<span class=gp>>>> </span><span class=n>count_errors</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([[</span> <span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span>  <span class=mi>4</span><span class=p>,</span> <span class=o>-</span><span class=mi>3</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span> <span class=mi>4</span><span class=p>,</span>  <span class=mi>3</span><span class=p>,</span> <span class=o>-</span><span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span> <span class=mi>3</span><span class=p>,</span>  <span class=mi>4</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=o>-</span><span class=mi>2</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span><span class=o>-</span><span class=mi>2</span><span class=p>,</span>  <span class=mi>1</span><span class=p>,</span> <span class=o>-</span><span class=mi>4</span><span class=p>,</span>  <span class=mi>3</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span><span class=o>-</span><span class=mi>4</span><span class=p>,</span> <span class=o>-</span><span class=mi>3</span><span class=p>,</span>  <span class=mi>2</span><span class=p>,</span>  <span class=mi>1</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span><span class=o>-</span><span class=mi>3</span><span class=p>,</span> <span class=o>-</span><span class=mi>4</span><span class=p>,</span>  <span class=mi>1</span><span class=p>,</span>  <span class=mi>2</span><span class=p>]],</span> <span class=nb>int</span><span class=p>),</span>
<span class=gp>... </span>             <span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=n>np</span><span class=o>.</span><span class=n>empty</span><span class=p>(</span><span class=mi>6</span><span class=p>,</span> <span class=nb>int</span><span class=p>),</span>
<span class=gp>... </span>             <span class=n>np</span><span class=o>.</span><span class=n>empty</span><span class=p>((</span><span class=mi>4</span><span class=p>,</span> <span class=mi>4</span><span class=p>),</span> <span class=nb>int</span><span class=p>))</span>
<span class=go>0</span>
<span class=gp>>>> </span><span class=n>count_errors</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([[</span> <span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span>  <span class=mi>4</span><span class=p>,</span> <span class=o>-</span><span class=mi>3</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span> <span class=mi>4</span><span class=p>,</span>  <span class=mi>3</span><span class=p>,</span> <span class=o>-</span><span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span> <span class=mi>3</span><span class=p>,</span>  <span class=mi>4</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=o>-</span><span class=mi>2</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span><span class=o>-</span><span class=mi>2</span><span class=p>,</span>  <span class=mi>1</span><span class=p>,</span> <span class=o>-</span><span class=mi>4</span><span class=p>,</span>  <span class=mi>3</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span><span class=o>-</span><span class=mi>4</span><span class=p>,</span> <span class=o>-</span><span class=mi>3</span><span class=p>,</span>  <span class=mi>2</span><span class=p>,</span>  <span class=mi>1</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span><span class=o>-</span><span class=mi>3</span><span class=p>,</span> <span class=o>-</span><span class=mi>4</span><span class=p>,</span>  <span class=mi>1</span><span class=p>,</span>  <span class=mi>2</span><span class=p>]],</span> <span class=nb>int</span><span class=p>),</span>
<span class=gp>... </span>             <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=n>np</span><span class=o>.</span><span class=n>empty</span><span class=p>(</span><span class=mi>6</span><span class=p>,</span> <span class=nb>int</span><span class=p>),</span>
<span class=gp>... </span>             <span class=n>np</span><span class=o>.</span><span class=n>empty</span><span class=p>((</span><span class=mi>4</span><span class=p>,</span> <span class=mi>4</span><span class=p>),</span> <span class=nb>int</span><span class=p>))</span>
<span class=go>3</span>
<span class=gp>>>> </span><span class=n>count_errors</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([[</span> <span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span>  <span class=mi>4</span><span class=p>,</span> <span class=o>-</span><span class=mi>3</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span> <span class=mi>4</span><span class=p>,</span>  <span class=mi>3</span><span class=p>,</span> <span class=o>-</span><span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span> <span class=mi>3</span><span class=p>,</span>  <span class=mi>4</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=o>-</span><span class=mi>2</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span><span class=o>-</span><span class=mi>2</span><span class=p>,</span>  <span class=mi>1</span><span class=p>,</span> <span class=o>-</span><span class=mi>4</span><span class=p>,</span>  <span class=mi>3</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span><span class=o>-</span><span class=mi>4</span><span class=p>,</span> <span class=o>-</span><span class=mi>3</span><span class=p>,</span>  <span class=mi>2</span><span class=p>,</span>  <span class=mi>1</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span><span class=o>-</span><span class=mi>3</span><span class=p>,</span> <span class=o>-</span><span class=mi>4</span><span class=p>,</span>  <span class=mi>1</span><span class=p>,</span>  <span class=mi>2</span><span class=p>]],</span> <span class=nb>int</span><span class=p>),</span>
<span class=gp>... </span>             <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=n>np</span><span class=o>.</span><span class=n>empty</span><span class=p>(</span><span class=mi>6</span><span class=p>,</span> <span class=nb>int</span><span class=p>),</span>
<span class=gp>... </span>             <span class=n>np</span><span class=o>.</span><span class=n>empty</span><span class=p>((</span><span class=mi>4</span><span class=p>,</span> <span class=mi>4</span><span class=p>),</span> <span class=nb>int</span><span class=p>))</span>
<span class=go>6</span>
<span class=gp>>>> </span><span class=n>count_errors</span><span class=p>(</span><span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([[</span> <span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span>  <span class=mi>4</span><span class=p>,</span> <span class=o>-</span><span class=mi>3</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span> <span class=mi>4</span><span class=p>,</span>  <span class=mi>3</span><span class=p>,</span> <span class=o>-</span><span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span> <span class=mi>3</span><span class=p>,</span>  <span class=mi>4</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=o>-</span><span class=mi>2</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span><span class=o>-</span><span class=mi>2</span><span class=p>,</span>  <span class=mi>1</span><span class=p>,</span> <span class=o>-</span><span class=mi>4</span><span class=p>,</span>  <span class=mi>3</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span><span class=o>-</span><span class=mi>4</span><span class=p>,</span> <span class=o>-</span><span class=mi>3</span><span class=p>,</span>  <span class=mi>2</span><span class=p>,</span>  <span class=mi>1</span><span class=p>],</span>
<span class=gp>... </span>                       <span class=p>[</span><span class=o>-</span><span class=mi>3</span><span class=p>,</span> <span class=o>-</span><span class=mi>4</span><span class=p>,</span>  <span class=mi>1</span><span class=p>,</span>  <span class=mi>2</span><span class=p>]],</span> <span class=nb>int</span><span class=p>),</span>
<span class=gp>... </span>             <span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=n>np</span><span class=o>.</span><span class=n>empty</span><span class=p>(</span><span class=mi>6</span><span class=p>,</span> <span class=nb>int</span><span class=p>),</span>
<span class=gp>... </span>             <span class=n>np</span><span class=o>.</span><span class=n>empty</span><span class=p>((</span><span class=mi>4</span><span class=p>,</span> <span class=mi>4</span><span class=p>),</span> <span class=nb>int</span><span class=p>))</span>
<span class=go>6</span>
</pre></div></div></dl></section><section id=module-moptipyapps.ttp.game_encoding><span id=moptipyapps-ttp-game-encoding-module></span><h2>moptipyapps.ttp.game_encoding module<a title="Link to this heading"class=headerlink href=#module-moptipyapps.ttp.game_encoding>¶</a></h2><p>A permutation-with-repetition-based encoding based on games.<p>A point in the search space is a permutation (potentially with repetitions) that can be translated to a <a class="reference internal"href=#moptipyapps.ttp.game_plan.GamePlan title=moptipyapps.ttp.game_plan.GamePlan><code class="xref py py-class docutils literal notranslate"><span class=pre>GamePlan</span></code></a>. Each value <cite>v</cite> in the permutation represents a game to be played by two of the <cite>n</cite> teams. There are <cite>n(n-1)</cite> possible games between <cite>n</cite> teams, distinguishing home and away teams. Given a value <cite>v</cite> from <cite>0..n(n-1)-1</cite>, we can get the zero-based index of the home team as <cite>home_idx = (game // (n - 1)) % n</cite>. The away index is computed in two steps, first we set <cite>away_idx = game % (n - 1)</cite> and if <cite>away_idx >= home_idx</cite>, we do <cite>away_idx = away_idx + 1</cite>. (Because a team can never play against itself, the situation that <cite>home_idx == away_idx</cite> does not need to be represented, so we can “skip” over this possible value by doing the <cite>away_idx = away_idy + 1</cite> and thus get a more “compact” numeric range for the permutation elements.)<p>A game schedule for any round-robin tournament with any given number of rounds can then be represented as permutation (potentially with repetitions) of these game values. In the decoding procedure, it is processed from beginning to end each game is then placed into the earliest slot not already occupied by another game. In other words, it is placed at the earliest day at which both involved teams do not yet have other games. If no such slot is available, this game is not placed at all. In this case, there will be some zeros in the game plan after the encoding. No other constraint is considered at this stage.<p>In other words, this encoding may produce game plans that violate constraints. It does not care about the streak length constraints. It does not ensure that each team always has a game. Therefore, it should only be used in conjunction with objective functions that force the search towards feasible solutions, such as the <a class="reference internal"href=#module-moptipyapps.ttp.errors title=moptipyapps.ttp.errors><code class="xref py py-mod docutils literal notranslate"><span class=pre>errors</span></code></a> objective.<p>In <a class="reference internal"href=#module-moptipyapps.ttp.game_encoding_2 title=moptipyapps.ttp.game_encoding_2><code class="xref py py-mod docutils literal notranslate"><span class=pre>game_encoding_2</span></code></a>, we present a modified version of this encoding procedure that tries to reduce the number of zeros, i.e., “byes,” in the resulting schedule.<dl class="py class"><dt class="sig sig-object py"id=moptipyapps.ttp.game_encoding.GameEncoding><em class=property><span class=k><span class=pre>class</span></span><span class=w> </span></em><span class="sig-prename descclassname"><span class=pre>moptipyapps.ttp.game_encoding.</span></span><span class="sig-name descname"><span class=pre>GameEncoding</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>instance</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/game_encoding.html#GameEncoding><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.game_encoding.GameEncoding>¶</a><dd><p>Bases: <a class="reference external"title="(in moptipy v0.9.148)"href=https://thomasweise.github.io/moptipy/moptipy.api.html#moptipy.api.encoding.Encoding><code class="xref py py-class docutils literal notranslate"><span class=pre>Encoding</span></code></a></p> <p>An encoding that transforms strings of games to game plans.</p> <dl class="py attribute"><dt class="sig sig-object py"id=moptipyapps.ttp.game_encoding.GameEncoding.instance><span class="sig-name descname"><span class=pre>instance</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><code class="xref py py-class docutils literal notranslate"><span class=pre>Final</span></code><span class=pre>[</span><a class="reference internal"href=#moptipyapps.ttp.instance.Instance title=moptipyapps.ttp.instance.Instance><code class="xref py py-class docutils literal notranslate"><span class=pre>Instance</span></code></a><span class=pre>]</span></em><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.game_encoding.GameEncoding.instance>¶</a><dd><p>the instance</p></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.ttp.game_encoding.GameEncoding.search_space><span class="sig-name descname"><span class=pre>search_space</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/game_encoding.html#GameEncoding.search_space><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.game_encoding.GameEncoding.search_space>¶</a><dd><p>Create a proper search space for this game-based encoding.</p> <p>The search space is a set of <a class="reference external"title="(in moptipy v0.9.148)"href=https://thomasweise.github.io/moptipy/moptipy.spaces.html#module-moptipy.spaces.permutations><code class="xref py py-mod docutils literal notranslate"><span class=pre>permutations</span></code></a> that represents all the games that can take place in the tournament. Depending on the number of <a class="reference internal"href=#moptipyapps.ttp.instance.Instance.rounds title=moptipyapps.ttp.instance.Instance.rounds><code class="xref py py-attr docutils literal notranslate"><span class=pre>rounds</span></code></a> in the tournament, some games may appear multiple times. Home and away games are distributed in a fair and deterministic mannner between the teams.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in moptipy v0.9.148)"href=https://thomasweise.github.io/moptipy/moptipy.spaces.html#moptipy.spaces.permutations.Permutations><code class="xref py py-class docutils literal notranslate"><span class=pre>Permutations</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>the search space</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>inst</span> <span class=o>=</span> <span class=n>Instance</span><span class=o>.</span><span class=n>from_resource</span><span class=p>(</span><span class=s2>"circ4"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>inst</span><span class=o>.</span><span class=n>n_cities</span>
<span class=go>4</span>
<span class=gp>>>> </span><span class=n>inst</span><span class=o>.</span><span class=n>rounds</span>
<span class=go>2</span>
<span class=gp>>>> </span><span class=s2>","</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>GameEncoding</span><span class=p>(</span><span class=n>inst</span><span class=p>)</span><span class=o>.</span><span class=n>search_space</span><span class=p>()</span><span class=o>.</span><span class=n>blueprint</span><span class=p>))</span>
<span class=go>'0,1,2,3,4,5,6,7,8,9,10,11'</span>
<span class=gp>>>> </span><span class=n>inst</span> <span class=o>=</span> <span class=n>Instance</span><span class=p>(</span><span class=n>inst</span><span class=o>.</span><span class=n>name</span><span class=p>,</span> <span class=n>inst</span><span class=p>,</span> <span class=n>inst</span><span class=o>.</span><span class=n>teams</span><span class=p>,</span> <span class=n>inst</span><span class=o>.</span><span class=n>rounds</span><span class=p>,</span>
<span class=gp>... </span>                <span class=n>inst</span><span class=o>.</span><span class=n>home_streak_min</span><span class=p>,</span> <span class=n>inst</span><span class=o>.</span><span class=n>home_streak_max</span><span class=p>,</span>
<span class=gp>... </span>                <span class=n>inst</span><span class=o>.</span><span class=n>away_streak_min</span><span class=p>,</span> <span class=n>inst</span><span class=o>.</span><span class=n>away_streak_max</span><span class=p>,</span>
<span class=gp>... </span>                <span class=n>inst</span><span class=o>.</span><span class=n>separation_min</span><span class=p>,</span> <span class=n>inst</span><span class=o>.</span><span class=n>separation_max</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>inst</span><span class=o>.</span><span class=n>rounds</span> <span class=o>=</span> <span class=mi>1</span>  <span class=c1># modify number of rounds for copied instance</span>
<span class=gp>>>> </span><span class=s2>","</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>GameEncoding</span><span class=p>(</span><span class=n>inst</span><span class=p>)</span><span class=o>.</span><span class=n>search_space</span><span class=p>()</span><span class=o>.</span><span class=n>blueprint</span><span class=p>))</span>
<span class=go>'1,2,3,7,8,10'</span>
<span class=gp>>>> </span><span class=n>inst</span><span class=o>.</span><span class=n>rounds</span> <span class=o>=</span> <span class=mi>3</span>  <span class=c1># modify number of rounds for copied instance</span>
<span class=gp>>>> </span><span class=s2>","</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>GameEncoding</span><span class=p>(</span><span class=n>inst</span><span class=p>)</span><span class=o>.</span><span class=n>search_space</span><span class=p>()</span><span class=o>.</span><span class=n>blueprint</span><span class=p>))</span>
<span class=go>'0,1,1,2,2,3,3,4,5,6,7,7,8,8,9,10,10,11'</span>
<span class=gp>>>> </span><span class=n>inst</span><span class=o>.</span><span class=n>rounds</span> <span class=o>=</span> <span class=mi>4</span>  <span class=c1># modify number of rounds for copied instance</span>
<span class=gp>>>> </span><span class=s2>","</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>GameEncoding</span><span class=p>(</span><span class=n>inst</span><span class=p>)</span><span class=o>.</span><span class=n>search_space</span><span class=p>()</span><span class=o>.</span><span class=n>blueprint</span><span class=p>))</span>
<span class=go>'0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11'</span>
<span class=gp>>>> </span><span class=n>inst</span><span class=o>.</span><span class=n>rounds</span> <span class=o>=</span> <span class=mi>5</span>  <span class=c1># modify number of rounds for copied instance</span>
<span class=gp>>>> </span><span class=s2>","</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>GameEncoding</span><span class=p>(</span><span class=n>inst</span><span class=p>)</span><span class=o>.</span><span class=n>search_space</span><span class=p>()</span><span class=o>.</span><span class=n>blueprint</span><span class=p>))</span>
<span class=go>'0,0,1,1,1,2,2,2,3,3,3,4,4,5,5,6,6,7,7,7,8,8,8,9,9,10,10,10,11,11'</span>
</pre></div></div></dl></dl><dl class="py function"><dt class="sig sig-object py"id=moptipyapps.ttp.game_encoding.game_to_id><span class="sig-prename descclassname"><span class=pre>moptipyapps.ttp.game_encoding.</span></span><span class="sig-name descname"><span class=pre>game_to_id</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>home</span></span></em>, <em class=sig-param><span class=n><span class=pre>away</span></span></em>, <em class=sig-param><span class=n><span class=pre>n</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/game_encoding.html#game_to_id><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.game_encoding.game_to_id>¶</a><dd><p>Encode a game to a game ID.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>home</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a> | <a class="reference external"title="(in NumPy v2.2)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – the home team<li><p><strong>away</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a> | <a class="reference external"title="(in NumPy v2.2)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – the away team<li><p><strong>n</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span>) – the total number of teams</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the game ID</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>game_to_id</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
<span class=go>0</span>
<span class=gp>>>> </span><span class=n>game_to_id</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
<span class=go>1</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>game_to_id</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>
<span class=go>0</span>
<span class=gp>>>> </span><span class=n>game_to_id</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>
<span class=go>1</span>
<span class=gp>>>> </span><span class=n>game_to_id</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>
<span class=go>2</span>
<span class=gp>>>> </span><span class=n>game_to_id</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>
<span class=go>3</span>
<span class=gp>>>> </span><span class=n>game_to_id</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>
<span class=go>4</span>
<span class=gp>>>> </span><span class=n>game_to_id</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>
<span class=go>5</span>
<span class=gp>>>> </span><span class=n>game_to_id</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>
<span class=go>6</span>
<span class=gp>>>> </span><span class=n>game_to_id</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>
<span class=go>7</span>
<span class=gp>>>> </span><span class=n>game_to_id</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>
<span class=go>8</span>
<span class=gp>>>> </span><span class=n>game_to_id</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>
<span class=go>9</span>
<span class=gp>>>> </span><span class=n>game_to_id</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>
<span class=go>10</span>
<span class=gp>>>> </span><span class=n>game_to_id</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span>
<span class=go>11</span>
<span class=gp>>>> </span><span class=n>game_to_id</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>10</span><span class=p>)</span>
<span class=go>49</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=moptipyapps.ttp.game_encoding.map_games><span class="sig-prename descclassname"><span class=pre>moptipyapps.ttp.game_encoding.</span></span><span class="sig-name descname"><span class=pre>map_games</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>x</span></span></em>, <em class=sig-param><span class=n><span class=pre>y</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/game_encoding.html#map_games><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.game_encoding.map_games>¶</a><dd><p>Translate a permutation of games to a game plan.</p> <p>This is a straightforward decoding that places the games into the map one by one. Each game is placed at the earliest slot in which it can be placed. If a game cannot be placed, it is ignored. This will lead to many errors, which can be counted via the <a class="reference internal"href=#module-moptipyapps.ttp.errors title=moptipyapps.ttp.errors><code class="xref py py-mod docutils literal notranslate"><span class=pre>errors</span></code></a> objective.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>x</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.2)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – the source permutation<li><p><strong>y</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.2)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – the destination game plan</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>moptipy.utils.nputils</span><span class=w> </span><span class=kn>import</span> <span class=n>int_range_to_dtype</span>
<span class=gp>>>> </span><span class=n>teams</span> <span class=o>=</span> <span class=mi>2</span>
<span class=gp>>>> </span><span class=n>rounds</span> <span class=o>=</span> <span class=mi>2</span>
<span class=gp>>>> </span><span class=n>perm</span> <span class=o>=</span> <span class=n>search_space_for_n_and_rounds</span><span class=p>(</span><span class=n>teams</span><span class=p>,</span> <span class=n>rounds</span><span class=p>)</span><span class=o>.</span><span class=n>blueprint</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=p>)</span>
<span class=go>[0 1]</span>
<span class=gp>>>> </span><span class=n>dest</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>empty</span><span class=p>((</span><span class=n>rounds</span> <span class=o>*</span> <span class=p>(</span><span class=n>teams</span> <span class=o>-</span> <span class=mi>1</span><span class=p>),</span> <span class=n>teams</span><span class=p>),</span>
<span class=gp>... </span>                <span class=n>int_range_to_dtype</span><span class=p>(</span><span class=o>-</span><span class=n>teams</span><span class=p>,</span> <span class=n>teams</span><span class=p>))</span>
<span class=gp>>>> </span><span class=n>map_games</span><span class=p>(</span><span class=n>perm</span><span class=p>,</span> <span class=n>dest</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>dest</span><span class=p>)</span>
<span class=go>[[ 2 -1]</span>
<span class=go> [-2  1]]</span>
<span class=gp>>>> </span><span class=n>perm</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span>
<span class=gp>>>> </span><span class=n>perm</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span>
<span class=gp>>>> </span><span class=n>re_encode</span><span class=p>(</span><span class=n>perm</span><span class=p>,</span> <span class=n>dest</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=p>)</span>
<span class=go>[0 1]</span>
<span class=gp>>>> </span><span class=n>map_games</span><span class=p>(</span><span class=n>perm</span><span class=p>,</span> <span class=n>dest</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>dest</span><span class=p>)</span>
<span class=go>[[ 2 -1]</span>
<span class=go> [-2  1]]</span>
<span class=gp>>>> </span><span class=n>teams</span> <span class=o>=</span> <span class=mi>4</span>
<span class=gp>>>> </span><span class=n>rounds</span> <span class=o>=</span> <span class=mi>2</span>
<span class=gp>>>> </span><span class=n>perm</span> <span class=o>=</span> <span class=n>search_space_for_n_and_rounds</span><span class=p>(</span><span class=n>teams</span><span class=p>,</span> <span class=n>rounds</span><span class=p>)</span><span class=o>.</span><span class=n>blueprint</span>
<span class=gp>>>> </span><span class=n>dest</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>empty</span><span class=p>((</span><span class=n>rounds</span> <span class=o>*</span> <span class=p>(</span><span class=n>teams</span> <span class=o>-</span> <span class=mi>1</span><span class=p>),</span> <span class=n>teams</span><span class=p>),</span>
<span class=gp>... </span>                <span class=n>int_range_to_dtype</span><span class=p>(</span><span class=o>-</span><span class=n>teams</span><span class=p>,</span> <span class=n>teams</span><span class=p>))</span>
<span class=gp>>>> </span><span class=n>map_games</span><span class=p>(</span><span class=n>perm</span><span class=p>,</span> <span class=n>dest</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>dest</span><span class=p>)</span>
<span class=go>[[ 2 -1  4 -3]</span>
<span class=go> [ 3  4 -1 -2]</span>
<span class=go> [ 4  3 -2 -1]</span>
<span class=go> [-2  1 -4  3]</span>
<span class=go> [-3 -4  1  2]</span>
<span class=go> [-4 -3  2  1]]</span>
<span class=gp>>>> </span><span class=n>re_encode</span><span class=p>(</span><span class=n>perm</span><span class=p>,</span> <span class=n>dest</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=p>)</span>
<span class=go>[ 0  8  1  5  2  4  3 11  6 10  7  9]</span>
<span class=gp>>>> </span><span class=n>map_games</span><span class=p>(</span><span class=n>perm</span><span class=p>,</span> <span class=n>dest</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>dest</span><span class=p>)</span>
<span class=go>[[ 2 -1  4 -3]</span>
<span class=go> [ 3  4 -1 -2]</span>
<span class=go> [ 4  3 -2 -1]</span>
<span class=go> [-2  1 -4  3]</span>
<span class=go> [-3 -4  1  2]</span>
<span class=go> [-4 -3  2  1]]</span>
<span class=go> >>> from moptipyapps.ttp.instance import Instance</span>
<span class=go> >>> inst = Instance.from_resource("circ10")</span>
<span class=go> >>> perm = np.array([73,77,55,74,21,20,3,11,63,19,38,8,27,47,88,16,75,</span>
<span class=go> ...     45,89,36,24,80,17,40,0,32,53,82,31,13,12,66,71,6,87,84,2,60,61,</span>
<span class=go> ...     10,30,58,49,57,54,23,26,46,59,42,29,62,22,18,50,78,37,34,65,43,</span>
<span class=go> ...     48,85,86,83,56,41,5,81,52,15,51,9,4,76,7,69,67,33,79,72,35,25,</span>
<span class=go> ...     1,14,70,44,68,64,28,39])</span>
<span class=gp>>>> </span><span class=n>teams</span> <span class=o>=</span> <span class=mi>10</span>
<span class=gp>>>> </span><span class=n>rounds</span> <span class=o>=</span> <span class=mi>2</span>
<span class=gp>>>> </span><span class=n>dest</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>empty</span><span class=p>((</span><span class=n>rounds</span> <span class=o>*</span> <span class=p>(</span><span class=n>teams</span> <span class=o>-</span> <span class=mi>1</span><span class=p>),</span> <span class=n>teams</span><span class=p>),</span>
<span class=gp>... </span>                <span class=n>int_range_to_dtype</span><span class=p>(</span><span class=o>-</span><span class=n>teams</span><span class=p>,</span> <span class=n>teams</span><span class=p>))</span>
<span class=gp>>>> </span><span class=n>map_games</span><span class=p>(</span><span class=n>perm</span><span class=p>,</span> <span class=n>dest</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>dest</span><span class=p>)</span>
<span class=go>[[ -8  -9   5   7  -3  10  -4   1   2  -6]</span>
<span class=go> [  5  -7   4  -3  -1  -9   2 -10   6   8]</span>
<span class=go> [ 10   4  -9  -2   6  -5   8  -7   3  -1]</span>
<span class=go> [ -4  -3   2   1  -7   8   5  -6 -10   9]</span>
<span class=go> [ -6   9  -5  -8   3   1 -10   4  -2   7]</span>
<span class=go> [ -5  10  -6  -9   1   3  -8   7   4  -2]</span>
<span class=go> [  2  -1   8   6   7  -4  -5  -3  10  -9]</span>
<span class=go> [  8 -10   6   5  -4  -3   9  -1  -7   2]</span>
<span class=go> [  4   6   7  -1   9  -2  -3  10  -5  -8]</span>
<span class=go> [ -7   5  -8 -10  -2   9   1   3  -6   4]</span>
<span class=go> [-10   3  -2  -7  -6   5   4  -9   8   1]</span>
<span class=go> [  0  -6  10   0   8   2  -9  -5   7  -3]</span>
<span class=go> [  9  -5  -4   3   2  -7   6   0  -1   0]</span>
<span class=go> [ -3   8   1   9   0   0  10  -2  -4  -7]</span>
<span class=go> [ -2   1   9   8 -10   7  -6  -4  -3   5]</span>
<span class=go> [  7  -8 -10  -6  -9   4  -1   2   5   3]</span>
<span class=go> [ -9  -4  -7   2  -8 -10   3   5   1   6]</span>
<span class=go> [  6   7   0  10   0  -1  -2   9  -8  -4]]</span>
<span class=gp>>>> </span><span class=n>dest</span><span class=o>.</span><span class=n>shape</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>*</span> <span class=n>dest</span><span class=o>.</span><span class=n>shape</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>-</span> <span class=n>np</span><span class=o>.</span><span class=n>count_nonzero</span><span class=p>(</span><span class=n>dest</span><span class=p>)</span>
<span class=go>8</span>
<span class=gp>>>> </span><span class=n>perm</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>21</span><span class=p>,</span><span class=mi>32</span><span class=p>,</span><span class=mi>53</span><span class=p>,</span><span class=mi>63</span><span class=p>,</span><span class=mi>73</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>20</span><span class=p>,</span><span class=mi>55</span><span class=p>,</span><span class=mi>77</span><span class=p>,</span><span class=mi>88</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>11</span><span class=p>,</span><span class=mi>40</span><span class=p>,</span><span class=mi>60</span><span class=p>,</span><span class=mi>74</span><span class=p>,</span><span class=mi>19</span><span class=p>,</span><span class=mi>27</span><span class=p>,</span><span class=mi>51</span><span class=p>,</span>
<span class=gp>... </span>    <span class=mi>58</span><span class=p>,</span><span class=mi>89</span><span class=p>,</span><span class=mi>16</span><span class=p>,</span><span class=mi>38</span><span class=p>,</span><span class=mi>45</span><span class=p>,</span><span class=mi>66</span><span class=p>,</span><span class=mi>87</span><span class=p>,</span><span class=mi>17</span><span class=p>,</span><span class=mi>36</span><span class=p>,</span><span class=mi>47</span><span class=p>,</span><span class=mi>69</span><span class=p>,</span><span class=mi>75</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>24</span><span class=p>,</span><span class=mi>31</span><span class=p>,</span><span class=mi>41</span><span class=p>,</span><span class=mi>80</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>22</span><span class=p>,</span><span class=mi>30</span><span class=p>,</span><span class=mi>61</span><span class=p>,</span><span class=mi>82</span><span class=p>,</span>
<span class=gp>... </span>    <span class=mi>2</span><span class=p>,</span><span class=mi>13</span><span class=p>,</span><span class=mi>23</span><span class=p>,</span><span class=mi>43</span><span class=p>,</span><span class=mi>71</span><span class=p>,</span><span class=mi>12</span><span class=p>,</span><span class=mi>52</span><span class=p>,</span><span class=mi>54</span><span class=p>,</span><span class=mi>65</span><span class=p>,</span><span class=mi>84</span><span class=p>,</span><span class=mi>10</span><span class=p>,</span><span class=mi>49</span><span class=p>,</span><span class=mi>57</span><span class=p>,</span><span class=mi>79</span><span class=p>,</span><span class=mi>81</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>28</span><span class=p>,</span><span class=mi>44</span><span class=p>,</span><span class=mi>68</span><span class=p>,</span><span class=mi>78</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>26</span><span class=p>,</span>
<span class=gp>... </span>    <span class=mi>39</span><span class=p>,</span><span class=mi>59</span><span class=p>,</span><span class=mi>64</span><span class=p>,</span><span class=mi>18</span><span class=p>,</span><span class=mi>34</span><span class=p>,</span><span class=mi>42</span><span class=p>,</span><span class=mi>46</span><span class=p>,</span><span class=mi>62</span><span class=p>,</span><span class=mi>9</span><span class=p>,</span><span class=mi>25</span><span class=p>,</span><span class=mi>33</span><span class=p>,</span><span class=mi>50</span><span class=p>,</span><span class=mi>85</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>15</span><span class=p>,</span><span class=mi>48</span><span class=p>,</span><span class=mi>76</span><span class=p>,</span><span class=mi>83</span><span class=p>,</span><span class=mi>14</span><span class=p>,</span><span class=mi>29</span><span class=p>,</span><span class=mi>67</span><span class=p>,</span><span class=mi>72</span><span class=p>,</span>
<span class=gp>... </span>    <span class=mi>86</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>35</span><span class=p>,</span><span class=mi>37</span><span class=p>,</span><span class=mi>56</span><span class=p>,</span><span class=mi>70</span><span class=p>])</span>
<span class=gp>>>> </span><span class=n>dest</span><span class=o>.</span><span class=n>fill</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>map_games</span><span class=p>(</span><span class=n>perm</span><span class=p>,</span> <span class=n>dest</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>dest</span><span class=p>)</span>
<span class=go>[[ -8  -9   5   7  -3  10  -4   1   2  -6]</span>
<span class=go> [  5  -7   4  -3  -1  -9   2 -10   6   8]</span>
<span class=go> [ 10   4  -9  -2   6  -5   8  -7   3  -1]</span>
<span class=go> [ -4  -3   2   1  -7   8   5  -6 -10   9]</span>
<span class=go> [ -6   9  -5  -8   3   1 -10   4  -2   7]</span>
<span class=go> [ -5  10  -6  -9   1   3  -8   7   4  -2]</span>
<span class=go> [  2  -1   8   6   7  -4  -5  -3  10  -9]</span>
<span class=go> [  8 -10   6   5  -4  -3   9  -1  -7   2]</span>
<span class=go> [  4   6   7  -1   9  -2  -3  10  -5  -8]</span>
<span class=go> [ -7   5  -8 -10  -2   9   1   3  -6   4]</span>
<span class=go> [-10   3  -2  -7  -6   5   4  -9   8   1]</span>
<span class=go> [  3  -4  -1   2  10  -8  -9   6   7  -5]</span>
<span class=go> [  9  -8  10  -5   4  -7   6   2  -1  -3]</span>
<span class=go> [ -3  -6   1   9   8   2  10  -5  -4  -7]</span>
<span class=go> [ -2   1   9   8 -10   7  -6  -4  -3   5]</span>
<span class=go> [  7   8 -10  -6  -9   4  -1  -2   5   3]</span>
<span class=go> [ -9   7  -4   3  -8 -10  -2   5   1   6]</span>
<span class=go> [  6  -5  -7  10   2  -1   3   9  -8  -4]]</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=moptipyapps.ttp.game_encoding.re_encode><span class="sig-prename descclassname"><span class=pre>moptipyapps.ttp.game_encoding.</span></span><span class="sig-name descname"><span class=pre>re_encode</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>x</span></span></em>, <em class=sig-param><span class=n><span class=pre>y</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/game_encoding.html#re_encode><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.game_encoding.re_encode>¶</a><dd><p>Re-encode a game plan to a permutation.</p> <p><cite>x</cite> must be a valid permutation. It is then transformed based on the game plan <cite>y</cite> to represent <cite>y</cite> in a straightforward manner. The general contract of this function is that:</p> <ul class=simple><li><dl class=simple><dt><cite>y</cite> can be a game plan of any kind, with all sorts of game scheduling<dd><p>error except one: If team A plays team B in one slot, then team B must also play against team A in that slot and exactly one of them is the home team and one of them is the away team. Apart from that, there can be arbitrary byes or streak violations.</p></dl><li><dl class=simple><dt><cite>x</cite> must a valid game permutation, but can be entirely unrelated<dd><p>to <cite>y</cite>.</p></dl><li><p>This function will then transform <cite>x</cite> such that <cite>map_games(x, z)</cite> will result in a game plan such that <cite>z = y</cite>.</ul> <p>Due to the possibility of byes, it can happen that after <cite>map_games(x1, z)</cite> and <cite>re_encode(x2, z)</cite> it may be that <cite>x1 != x2</cite>. The reason is that the order of game IDs n <cite>x2</cite> for games that were not scheduled in <cite>z</cite> will be undefined.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>x</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.2)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – the permutation<li><p><strong>y</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.2)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – the game plan</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>moptipyapps.ttp.instance</span><span class=w> </span><span class=kn>import</span> <span class=n>Instance</span>
<span class=gp>>>> </span><span class=n>inst</span> <span class=o>=</span> <span class=n>Instance</span><span class=o>.</span><span class=n>from_resource</span><span class=p>(</span><span class=s2>"con14"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>perm</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mi>70</span><span class=p>,</span><span class=mi>114</span><span class=p>,</span><span class=mi>54</span><span class=p>,</span><span class=mi>51</span><span class=p>,</span><span class=mi>98</span><span class=p>,</span><span class=mi>31</span><span class=p>,</span><span class=mi>49</span><span class=p>,</span><span class=mi>46</span><span class=p>,</span><span class=mi>148</span><span class=p>,</span><span class=mi>169</span><span class=p>,</span><span class=mi>174</span><span class=p>,</span><span class=mi>151</span><span class=p>,</span><span class=mi>155</span><span class=p>,</span><span class=mi>110</span><span class=p>,</span>
<span class=gp>... </span>    <span class=mi>75</span><span class=p>,</span><span class=mi>118</span><span class=p>,</span><span class=mi>128</span><span class=p>,</span><span class=mi>81</span><span class=p>,</span><span class=mi>171</span><span class=p>,</span><span class=mi>19</span><span class=p>,</span><span class=mi>133</span><span class=p>,</span><span class=mi>93</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>91</span><span class=p>,</span><span class=mi>47</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>84</span><span class=p>,</span><span class=mi>109</span><span class=p>,</span><span class=mi>142</span><span class=p>,</span><span class=mi>121</span><span class=p>,</span><span class=mi>7</span><span class=p>,</span><span class=mi>40</span><span class=p>,</span><span class=mi>163</span><span class=p>,</span>
<span class=gp>... </span>    <span class=mi>61</span><span class=p>,</span><span class=mi>20</span><span class=p>,</span><span class=mi>96</span><span class=p>,</span><span class=mi>165</span><span class=p>,</span><span class=mi>177</span><span class=p>,</span><span class=mi>160</span><span class=p>,</span><span class=mi>39</span><span class=p>,</span><span class=mi>73</span><span class=p>,</span><span class=mi>37</span><span class=p>,</span><span class=mi>101</span><span class=p>,</span><span class=mi>108</span><span class=p>,</span><span class=mi>119</span><span class=p>,</span><span class=mi>65</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>117</span><span class=p>,</span><span class=mi>164</span><span class=p>,</span><span class=mi>106</span><span class=p>,</span><span class=mi>60</span><span class=p>,</span>
<span class=gp>... </span>    <span class=mi>145</span><span class=p>,</span><span class=mi>105</span><span class=p>,</span><span class=mi>90</span><span class=p>,</span><span class=mi>170</span><span class=p>,</span><span class=mi>74</span><span class=p>,</span><span class=mi>8</span><span class=p>,</span><span class=mi>26</span><span class=p>,</span><span class=mi>94</span><span class=p>,</span><span class=mi>10</span><span class=p>,</span><span class=mi>22</span><span class=p>,</span><span class=mi>86</span><span class=p>,</span><span class=mi>120</span><span class=p>,</span><span class=mi>154</span><span class=p>,</span><span class=mi>89</span><span class=p>,</span><span class=mi>66</span><span class=p>,</span><span class=mi>77</span><span class=p>,</span><span class=mi>178</span><span class=p>,</span><span class=mi>140</span><span class=p>,</span><span class=mi>48</span><span class=p>,</span>
<span class=gp>... </span>    <span class=mi>0</span><span class=p>,</span><span class=mi>52</span><span class=p>,</span><span class=mi>159</span><span class=p>,</span><span class=mi>25</span><span class=p>,</span><span class=mi>176</span><span class=p>,</span><span class=mi>135</span><span class=p>,</span><span class=mi>63</span><span class=p>,</span><span class=mi>57</span><span class=p>,</span><span class=mi>76</span><span class=p>,</span><span class=mi>161</span><span class=p>,</span><span class=mi>68</span><span class=p>,</span><span class=mi>124</span><span class=p>,</span><span class=mi>162</span><span class=p>,</span><span class=mi>29</span><span class=p>,</span><span class=mi>55</span><span class=p>,</span><span class=mi>80</span><span class=p>,</span><span class=mi>24</span><span class=p>,</span><span class=mi>45</span><span class=p>,</span><span class=mi>85</span><span class=p>,</span>
<span class=gp>... </span>    <span class=mi>115</span><span class=p>,</span><span class=mi>131</span><span class=p>,</span><span class=mi>100</span><span class=p>,</span><span class=mi>17</span><span class=p>,</span><span class=mi>53</span><span class=p>,</span><span class=mi>27</span><span class=p>,</span><span class=mi>38</span><span class=p>,</span><span class=mi>95</span><span class=p>,</span><span class=mi>158</span><span class=p>,</span><span class=mi>104</span><span class=p>,</span><span class=mi>175</span><span class=p>,</span><span class=mi>87</span><span class=p>,</span><span class=mi>123</span><span class=p>,</span><span class=mi>167</span><span class=p>,</span><span class=mi>97</span><span class=p>,</span><span class=mi>79</span><span class=p>,</span><span class=mi>112</span><span class=p>,</span><span class=mi>172</span><span class=p>,</span>
<span class=gp>... </span>    <span class=mi>127</span><span class=p>,</span><span class=mi>136</span><span class=p>,</span><span class=mi>12</span><span class=p>,</span><span class=mi>44</span><span class=p>,</span><span class=mi>50</span><span class=p>,</span><span class=mi>102</span><span class=p>,</span><span class=mi>69</span><span class=p>,</span><span class=mi>144</span><span class=p>,</span><span class=mi>143</span><span class=p>,</span><span class=mi>113</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>181</span><span class=p>,</span><span class=mi>88</span><span class=p>,</span><span class=mi>166</span><span class=p>,</span><span class=mi>150</span><span class=p>,</span><span class=mi>59</span><span class=p>,</span><span class=mi>141</span><span class=p>,</span><span class=mi>72</span><span class=p>,</span>
<span class=gp>... </span>    <span class=mi>125</span><span class=p>,</span><span class=mi>116</span><span class=p>,</span><span class=mi>132</span><span class=p>,</span><span class=mi>14</span><span class=p>,</span><span class=mi>147</span><span class=p>,</span><span class=mi>153</span><span class=p>,</span><span class=mi>129</span><span class=p>,</span><span class=mi>111</span><span class=p>,</span><span class=mi>92</span><span class=p>,</span><span class=mi>62</span><span class=p>,</span><span class=mi>6</span><span class=p>,</span><span class=mi>32</span><span class=p>,</span><span class=mi>82</span><span class=p>,</span><span class=mi>16</span><span class=p>,</span><span class=mi>179</span><span class=p>,</span><span class=mi>21</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>126</span><span class=p>,</span>
<span class=gp>... </span>    <span class=mi>134</span><span class=p>,</span><span class=mi>122</span><span class=p>,</span><span class=mi>149</span><span class=p>,</span><span class=mi>146</span><span class=p>,</span><span class=mi>36</span><span class=p>,</span><span class=mi>107</span><span class=p>,</span><span class=mi>34</span><span class=p>,</span><span class=mi>103</span><span class=p>,</span><span class=mi>42</span><span class=p>,</span><span class=mi>41</span><span class=p>,</span><span class=mi>18</span><span class=p>,</span><span class=mi>35</span><span class=p>,</span><span class=mi>78</span><span class=p>,</span><span class=mi>28</span><span class=p>,</span><span class=mi>137</span><span class=p>,</span><span class=mi>43</span><span class=p>,</span><span class=mi>33</span><span class=p>,</span><span class=mi>71</span><span class=p>,</span><span class=mi>99</span><span class=p>,</span>
<span class=gp>... </span>    <span class=mi>139</span><span class=p>,</span><span class=mi>56</span><span class=p>,</span><span class=mi>23</span><span class=p>,</span><span class=mi>138</span><span class=p>,</span><span class=mi>67</span><span class=p>,</span><span class=mi>168</span><span class=p>,</span><span class=mi>130</span><span class=p>,</span><span class=mi>30</span><span class=p>,</span><span class=mi>180</span><span class=p>,</span><span class=mi>152</span><span class=p>,</span><span class=mi>83</span><span class=p>,</span><span class=mi>9</span><span class=p>,</span><span class=mi>13</span><span class=p>,</span><span class=mi>173</span><span class=p>,</span><span class=mi>11</span><span class=p>,</span><span class=mi>157</span><span class=p>,</span><span class=mi>156</span><span class=p>,</span><span class=mi>64</span><span class=p>,</span>
<span class=gp>... </span>    <span class=mi>15</span><span class=p>,</span><span class=mi>58</span><span class=p>])</span>
<span class=gp>>>> </span><span class=n>teams</span> <span class=o>=</span> <span class=mi>14</span>
<span class=gp>>>> </span><span class=n>rounds</span> <span class=o>=</span> <span class=mi>2</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>moptipy.utils.nputils</span><span class=w> </span><span class=kn>import</span> <span class=n>int_range_to_dtype</span>
<span class=gp>>>> </span><span class=n>dest</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>empty</span><span class=p>((</span><span class=n>rounds</span> <span class=o>*</span> <span class=p>(</span><span class=n>teams</span> <span class=o>-</span> <span class=mi>1</span><span class=p>),</span> <span class=n>teams</span><span class=p>),</span>
<span class=gp>... </span>                <span class=n>int_range_to_dtype</span><span class=p>(</span><span class=o>-</span><span class=n>teams</span><span class=p>,</span> <span class=n>teams</span><span class=p>))</span>
<span class=gp>>>> </span><span class=n>map_games</span><span class=p>(</span><span class=n>perm</span><span class=p>,</span> <span class=n>dest</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>dest</span><span class=p>)</span>
<span class=go>[[ -8 -10  -5  14   3   7  -6   1  12   2 -13  -9  11  -4]</span>
<span class=go> [-14  -6   7  12  11   2  -3   9  -8  13  -5  -4 -10   1]</span>
<span class=go> [  7   8 -14   9 -10 -12  -1  -2  -4   5  13   6 -11   3]</span>
<span class=go> [ -5  11  -8  -7   1 -14   4   3 -12 -13  -2   9  10   6]</span>
<span class=go> [  3  -5  -1 -11   2  10  -9 -13   7  -6   4  14   8 -12]</span>
<span class=go> [  9  -3   2  10 -13  12   8  -7  -1  -4  14  -6   5 -11]</span>
<span class=go> [-10  -4  13   2 -11  -9  14  12   6   1   5  -8  -3  -7]</span>
<span class=go> [ -4   9 -10   1   7  -8  -5   6  -2   3 -14  13 -12  11]</span>
<span class=go> [ -6 -11 -12  -8  10   1  13   4 -14  -5   2   3  -7   9]</span>
<span class=go> [  4 -14 -13  -1  -9  11  10 -12   5  -7  -6   8   3   2]</span>
<span class=go> [ 10  -7   5   8  -3  14   2  -4 -13  -1  12 -11   9  -6]</span>
<span class=go> [ 12  14  -9 -10  13 -11  -8   7   3   4   6  -1  -5  -2]</span>
<span class=go> [ -3  -9   1  11  -8  13  12   5   2 -14  -4  -7  -6  10]</span>
<span class=go> [  2  -1  -7 -13  -6   5   3 -14  10  -9 -12  11   4   8]</span>
<span class=go> [-11 -12  14  -5   4 -13   9 -10  -7   8   1   2   6  -3]</span>
<span class=go> [ -9   3  -2  -6 -14   4 -13  11   1  12  -8 -10   7   5]</span>
<span class=go> [-12  13   8   5  -4 -10 -14  -3  11   6  -9   1  -2   7]</span>
<span class=go> [  8   6  10 -14 -12  -2  11  -1  13  -3  -7   5  -9   4]</span>
<span class=go> [ 14  -8 -11   6   9  -4 -10   2  -5   7   3 -13  12  -1]</span>
<span class=go> [  6   0   0  13  12  -1 -11  14 -10   9   7  -5  -4  -8]</span>
<span class=go> [ 11   5  12   7  -2   9  -4  13  -6  14  -1  -3  -8 -10]</span>
<span class=go> [  0  10  11 -12  -7   0   5  -9   8  -2  -3   4 -14  13]</span>
<span class=go> [  5 -13  -4   3  -1   8 -12  -6  14  11 -10   7   2  -9]</span>
<span class=go> [  0   7   0  -9   6  -5  -2 -11   4 -12   8  10  14 -13]</span>
<span class=go> [ -7  12   4  -3  14   0   1  10 -11  -8   9  -2   0  -5]</span>
<span class=go> [ -2   1   9   0   8  -7   6  -5  -3 -11  10 -14   0  12]]</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>moptipyapps.ttp.game_encoding_2</span><span class=w> </span><span class=kn>import</span> <span class=n>map_games_2</span>
<span class=gp>>>> </span><span class=n>dest</span><span class=o>.</span><span class=n>fill</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>map_games_2</span><span class=p>(</span><span class=n>perm</span><span class=p>,</span> <span class=n>dest</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>dest</span><span class=p>)</span>
<span class=go>[[ -8 -10  -5  14   3   7  -6   1  12   2 -13  -9  11  -4]</span>
<span class=go> [-14  -6   7  12  11   2  -3   9  -8  13  -5  -4 -10   1]</span>
<span class=go> [  7   8 -14   9 -10 -12  -1  -2  -4   5  13   6 -11   3]</span>
<span class=go> [ -5  11  -8  -7   1 -14   4   3 -12 -13  -2   9  10   6]</span>
<span class=go> [  3  -5  -1 -11   2  10  -9 -13   7  -6   4  14   8 -12]</span>
<span class=go> [  9  -3   2  10 -13  12   8  -7  -1  -4  14  -6   5 -11]</span>
<span class=go> [-10  -4  13   2 -11  -9  14  12   6   1   5  -8  -3  -7]</span>
<span class=go> [ -4   9 -10   1   7  -8  -5   6  -2   3 -14  13 -12  11]</span>
<span class=go> [ -6 -11 -12  -8  10   1  13   4 -14  -5   2   3  -7   9]</span>
<span class=go> [  4 -14 -13  -1  -9  11  10 -12   5  -7  -6   8   3   2]</span>
<span class=go> [ 10  -7   5   8  -3  14   2  -4 -13  -1  12 -11   9  -6]</span>
<span class=go> [ 12  14  -9 -10  13 -11  -8   7   3   4   6  -1  -5  -2]</span>
<span class=go> [ -3  -9   1  11  -8  13  12   5   2 -14  -4  -7  -6  10]</span>
<span class=go> [  2  -1  -7 -13  -6   5   3 -14  10  -9 -12  11   4   8]</span>
<span class=go> [-11 -12  14  -5   4 -13   9 -10  -7   8   1   2   6  -3]</span>
<span class=go> [ -9   3  -2  -6 -14   4 -13  11   1  12  -8 -10   7   5]</span>
<span class=go> [-12  13   8   5  -4 -10 -14  -3  11   6  -9   1  -2   7]</span>
<span class=go> [  8   6  10 -14 -12  -2  11  -1  13  -3  -7   5  -9   4]</span>
<span class=go> [ 14  -8 -11   6   9  -4 -10   2  -5   7   3 -13  12  -1]</span>
<span class=go> [ -2   1  -6  13  12   3 -11  14 -10   9   7  -5  -4  -8]</span>
<span class=go> [ 11   5  12   7  -2   9  -4  13  -6  14  -1  -3  -8 -10]</span>
<span class=go> [  6  10  11 -12  -7  -1   5  -9   8  -2  -3   4 -14  13]</span>
<span class=go> [  5 -13  -4   3  -1   8 -12  -6  14  11 -10   7   2  -9]</span>
<span class=go> [-13   7   6  -9  14  -3  -2 -11   4 -12   8  10   1  -5]</span>
<span class=go> [ -7  12   4  -3   6  -5   1  10 -11  -8   9  -2  14 -13]</span>
<span class=go> [ 13   4   9  -2   8  -7   6  -5  -3 -11  10 -14  -1  12]]</span>
<span class=gp>>>> </span><span class=n>re_encode</span><span class=p>(</span><span class=n>perm</span><span class=p>,</span> <span class=n>dest</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=p>)</span>
<span class=go>[ 51  54  70  91 114 118 166  31  49  61  66  98 128 169   5  19  46 121</span>
<span class=go> 141 148 171  22  52  81  93 151 165 174   1  53  73 110 133 155 163   7</span>
<span class=go>  27  47  75  84 142 160  37  40  90 101 109 117 134  20  39  57  96 119</span>
<span class=go> 154 179  60  65  89  94 131 145 177   2  74  86 108 150 158 170   8  29</span>
<span class=go>  45  77  79 140 164  10  25  63  97 106 120 135  26  48  76  88  95 105</span>
<span class=go> 178   0  69  80 112 153 159 176  38  55  85 124 130 144 161  14  68 100</span>
<span class=go> 104 127 162 173  24  32  42 113 122 143 175   6  17  34  87 115 147 172</span>
<span class=go>  12  43  59  92 123 132 167  13  50  62  67 103 125 136   9  16  36  44</span>
<span class=go>  72 102 129   4  21  35  82 111 146 181   3  41  71 116 126 149 157  18</span>
<span class=go>  30  64 107 137 152 156  23  28  56  78  99 138 168  11  15  33  58  83</span>
<span class=go> 139 180]</span>
<span class=gp>>>> </span><span class=n>dest</span><span class=o>.</span><span class=n>fill</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>map_games</span><span class=p>(</span><span class=n>perm</span><span class=p>,</span> <span class=n>dest</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>dest</span><span class=p>)</span>
<span class=go>[[ -8 -10  -5  14   3   7  -6   1  12   2 -13  -9  11  -4]</span>
<span class=go> [-14  -6   7  12  11   2  -3   9  -8  13  -5  -4 -10   1]</span>
<span class=go> [  7   8 -14   9 -10 -12  -1  -2  -4   5  13   6 -11   3]</span>
<span class=go> [ -5  11  -8  -7   1 -14   4   3 -12 -13  -2   9  10   6]</span>
<span class=go> [  3  -5  -1 -11   2  10  -9 -13   7  -6   4  14   8 -12]</span>
<span class=go> [  9  -3   2  10 -13  12   8  -7  -1  -4  14  -6   5 -11]</span>
<span class=go> [-10  -4  13   2 -11  -9  14  12   6   1   5  -8  -3  -7]</span>
<span class=go> [ -4   9 -10   1   7  -8  -5   6  -2   3 -14  13 -12  11]</span>
<span class=go> [ -6 -11 -12  -8  10   1  13   4 -14  -5   2   3  -7   9]</span>
<span class=go> [  4 -14 -13  -1  -9  11  10 -12   5  -7  -6   8   3   2]</span>
<span class=go> [ 10  -7   5   8  -3  14   2  -4 -13  -1  12 -11   9  -6]</span>
<span class=go> [ 12  14  -9 -10  13 -11  -8   7   3   4   6  -1  -5  -2]</span>
<span class=go> [ -3  -9   1  11  -8  13  12   5   2 -14  -4  -7  -6  10]</span>
<span class=go> [  2  -1  -7 -13  -6   5   3 -14  10  -9 -12  11   4   8]</span>
<span class=go> [-11 -12  14  -5   4 -13   9 -10  -7   8   1   2   6  -3]</span>
<span class=go> [ -9   3  -2  -6 -14   4 -13  11   1  12  -8 -10   7   5]</span>
<span class=go> [-12  13   8   5  -4 -10 -14  -3  11   6  -9   1  -2   7]</span>
<span class=go> [  8   6  10 -14 -12  -2  11  -1  13  -3  -7   5  -9   4]</span>
<span class=go> [ 14  -8 -11   6   9  -4 -10   2  -5   7   3 -13  12  -1]</span>
<span class=go> [ -2   1  -6  13  12   3 -11  14 -10   9   7  -5  -4  -8]</span>
<span class=go> [ 11   5  12   7  -2   9  -4  13  -6  14  -1  -3  -8 -10]</span>
<span class=go> [  6  10  11 -12  -7  -1   5  -9   8  -2  -3   4 -14  13]</span>
<span class=go> [  5 -13  -4   3  -1   8 -12  -6  14  11 -10   7   2  -9]</span>
<span class=go> [-13   7   6  -9  14  -3  -2 -11   4 -12   8  10   1  -5]</span>
<span class=go> [ -7  12   4  -3   6  -5   1  10 -11  -8   9  -2  14 -13]</span>
<span class=go> [ 13   4   9  -2   8  -7   6  -5  -3 -11  10 -14  -1  12]]</span>
</pre></div></div></dl><dl class="py function"><dt class="sig sig-object py"id=moptipyapps.ttp.game_encoding.search_space_for_n_and_rounds><span class="sig-prename descclassname"><span class=pre>moptipyapps.ttp.game_encoding.</span></span><span class="sig-name descname"><span class=pre>search_space_for_n_and_rounds</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>n</span></span></em>, <em class=sig-param><span class=n><span class=pre>rounds</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/game_encoding.html#search_space_for_n_and_rounds><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.game_encoding.search_space_for_n_and_rounds>¶</a><dd><p>Create a proper search space for the given number of teams and rounds.</p> <p>If the instance prescribes a double-round robin tournament, then this is just the <a class="reference external"title="(in moptipy v0.9.148)"href=https://thomasweise.github.io/moptipy/moptipy.spaces.html#moptipy.spaces.permutations.Permutations.standard><code class="xref py py-meth docutils literal notranslate"><span class=pre>standard()</span></code></a> permutations set. Otherwise, it will be a permutation where some elements are omitted (for <a class="reference internal"href=#moptipyapps.ttp.instance.Instance.rounds title=moptipyapps.ttp.instance.Instance.rounds><code class="xref py py-attr docutils literal notranslate"><span class=pre>rounds</span></code></a> == 1) or duplicated (if <a class="reference internal"href=#moptipyapps.ttp.instance.Instance.rounds title=moptipyapps.ttp.instance.Instance.rounds><code class="xref py py-attr docutils literal notranslate"><span class=pre>rounds</span></code></a> > 2).</p> <p>If an odd number of rounds is played, then it is not possible that all teams have the same number of games at home and away. Then, the permutation is generated such that, if the highest numbers of games at home for any team is <cite>k</cite>, no other team has less than <cite>k - 1</cite> games at home. If the number of rounds is even, then all teams will have the same number of home and away games, that is, the number of teams divided by two and multiplied by the number of rounds.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>n</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span>) – the number of teams<li><p><strong>rounds</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span>) – the number of rounds</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in moptipy v0.9.148)"href=https://thomasweise.github.io/moptipy/moptipy.spaces.html#moptipy.spaces.permutations.Permutations><code class="xref py py-class docutils literal notranslate"><span class=pre>Permutations</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the search space</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=s2>","</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>search_space_for_n_and_rounds</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span><span class=o>.</span><span class=n>blueprint</span><span class=p>))</span>
<span class=go>'0,1'</span>
<span class=gp>>>> </span><span class=s2>","</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>search_space_for_n_and_rounds</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span><span class=o>.</span><span class=n>blueprint</span><span class=p>))</span>
<span class=go>'0,1,1'</span>
<span class=gp>>>> </span><span class=s2>","</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>search_space_for_n_and_rounds</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span><span class=o>.</span><span class=n>blueprint</span><span class=p>))</span>
<span class=go>'0,0,1,1'</span>
<span class=gp>>>> </span><span class=s2>","</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>search_space_for_n_and_rounds</span><span class=p>(</span><span class=mi>2</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span><span class=o>.</span><span class=n>blueprint</span><span class=p>))</span>
<span class=go>'0,0,1,1,1'</span>
<span class=gp>>>> </span><span class=s2>","</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>search_space_for_n_and_rounds</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span><span class=o>.</span><span class=n>blueprint</span><span class=p>))</span>
<span class=go>'1,2,5'</span>
<span class=gp>>>> </span><span class=s2>","</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>search_space_for_n_and_rounds</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span><span class=o>.</span><span class=n>blueprint</span><span class=p>))</span>
<span class=go>'0,1,2,3,4,5'</span>
<span class=gp>>>> </span><span class=s2>","</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>search_space_for_n_and_rounds</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span><span class=o>.</span><span class=n>blueprint</span><span class=p>))</span>
<span class=go>'0,1,1,2,2,3,4,5,5'</span>
<span class=gp>>>> </span><span class=s2>","</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>search_space_for_n_and_rounds</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span><span class=o>.</span><span class=n>blueprint</span><span class=p>))</span>
<span class=go>'1,2,3,7,8,10'</span>
<span class=gp>>>> </span><span class=s2>","</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>search_space_for_n_and_rounds</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span><span class=o>.</span><span class=n>blueprint</span><span class=p>))</span>
<span class=go>'0,1,2,3,4,5,6,7,8,9,10,11'</span>
<span class=gp>>>> </span><span class=s2>","</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>search_space_for_n_and_rounds</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span><span class=o>.</span><span class=n>blueprint</span><span class=p>))</span>
<span class=go>'0,1,1,2,2,3,3,4,5,6,7,7,8,8,9,10,10,11'</span>
<span class=gp>>>> </span><span class=s2>","</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>search_space_for_n_and_rounds</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span><span class=o>.</span><span class=n>blueprint</span><span class=p>))</span>
<span class=go>'0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11'</span>
<span class=gp>>>> </span><span class=s2>","</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>search_space_for_n_and_rounds</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span><span class=o>.</span><span class=n>blueprint</span><span class=p>))</span>
<span class=go>'0,0,1,1,1,2,2,2,3,3,3,4,4,5,5,6,6,7,7,7,8,8,8,9,9,10,10,10,11,11'</span>
<span class=gp>>>> </span><span class=s2>","</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>search_space_for_n_and_rounds</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span><span class=o>.</span><span class=n>blueprint</span><span class=p>))</span>
<span class=go>'1,2,4,7,9,10,13,15,16,18'</span>
<span class=gp>>>> </span><span class=s2>","</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>search_space_for_n_and_rounds</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span><span class=o>.</span><span class=n>blueprint</span><span class=p>))</span>
<span class=go>'0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19'</span>
<span class=gp>>>> </span><span class=s2>","</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=nb>map</span><span class=p>(</span><span class=nb>str</span><span class=p>,</span> <span class=n>search_space_for_n_and_rounds</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span><span class=o>.</span><span class=n>blueprint</span><span class=p>))</span>
<span class=go>'0,1,1,2,2,3,4,4,5,6,7,7,8,9,9,10,10,11,12,13,13,14,15,15,16,16,17,18,18,19'</span>
</pre></div></div></dl></section><section id=module-moptipyapps.ttp.game_encoding_2><span id=moptipyapps-ttp-game-encoding-2-module></span><h2>moptipyapps.ttp.game_encoding_2 module<a title="Link to this heading"class=headerlink href=#module-moptipyapps.ttp.game_encoding_2>¶</a></h2><p>A permutation-with-repetition-based encoding based on games with rescheduling.<p>This game-based encoding method is an extension of the method presented in <a class="reference internal"href=#module-moptipyapps.ttp.game_encoding title=moptipyapps.ttp.game_encoding><code class="xref py py-mod docutils literal notranslate"><span class=pre>game_encoding</span></code></a>. The method presented in <a class="reference internal"href=#module-moptipyapps.ttp.game_encoding title=moptipyapps.ttp.game_encoding><code class="xref py py-mod docutils literal notranslate"><span class=pre>game_encoding</span></code></a> takes a permutation of games and fills these games into a game plan one-by-one. For each game it tries to find the earliest possible slot where it can be scheduled, i.e., the earliest slot where both involved teams do not yet have a game scheduled.<p>During this process, it can happen that a game cannot be added to the game plan, because on each day, at least one of the two teams has already a game scheduled. In such a case, the original encoding will simply drop the game. This results in “byes” in the game plan.<p>This new encoding tries to reduce the number of such byes. It does this as follows: It still processes the game permutations from front to end and adds the games to the schedule. If one game cannot be added to the schedule due to the above reason, it will go through game plan again from beginning to end. This time, it will look for a day on which only <em>one</em> of the two teams has a game scheduled already. It will then take this already-scheduled game and try to schedule it on a <em>later</em> day. This is a recursive process: If no later slot is found where both teams involved have no game scheduled, we will again look for a day on which only one of the teams have scheduled a game and try to move that to a later slot. Since this will be an even later slot, the recursion will never go too deep. Either way, if a later slot is found, the game can be moved, meaning that the original game blocking our “current” game can be moved as well. Then the new game can be inserted.<p>If no such slot can be found, then we try to insert the game by searching from the back end and moving other games forward in the same recursive fashion. The hope is that, this way, the number of “byes” in the schedule can be reduced. If the number of “byes” is reduced, then there will automatically fewer constraint violations. This makes it more likely that we discover a feasible schedule earlier in the search.<p>Furthermore, the process might even make it easier for a search to move from one feasible schedule to another one. There would hopefully be fewer permutations leading to infeasible schedules and fewer infeasible schedules between two feasible ones.<p>Of course, all of that comes at the cost of increased runtime.<dl class="py class"><dt class="sig sig-object py"id=moptipyapps.ttp.game_encoding_2.GameEncoding2><em class=property><span class=k><span class=pre>class</span></span><span class=w> </span></em><span class="sig-prename descclassname"><span class=pre>moptipyapps.ttp.game_encoding_2.</span></span><span class="sig-name descname"><span class=pre>GameEncoding2</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>instance</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/game_encoding_2.html#GameEncoding2><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.game_encoding_2.GameEncoding2>¶</a><dd><p>Bases: <a class="reference internal"href=#moptipyapps.ttp.game_encoding.GameEncoding title=moptipyapps.ttp.game_encoding.GameEncoding><code class="xref py py-class docutils literal notranslate"><span class=pre>GameEncoding</span></code></a></p> <p>A second encoding that transforms strings of games to game plans.</p></dl><dl class="py function"><dt class="sig sig-object py"id=moptipyapps.ttp.game_encoding_2.map_games_2><span class="sig-prename descclassname"><span class=pre>moptipyapps.ttp.game_encoding_2.</span></span><span class="sig-name descname"><span class=pre>map_games_2</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>x</span></span></em>, <em class=sig-param><span class=n><span class=pre>y</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/game_encoding_2.html#map_games_2><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.game_encoding_2.map_games_2>¶</a><dd><p>Translate a permutation of games to a game plan.</p> <p>This is a straightforward decoding that places the games into the map one by one. Each game is placed at the earliest slot in which it can be placed. If a game cannot be placed, it is ignored. This will lead to many errors, which can be counted via the <a class="reference internal"href=#module-moptipyapps.ttp.errors title=moptipyapps.ttp.errors><code class="xref py py-mod docutils literal notranslate"><span class=pre>errors</span></code></a> objective.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>x</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.2)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – the source permutation<li><p><strong>y</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.2)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – the destination game plan</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>moptipy.utils.nputils</span><span class=w> </span><span class=kn>import</span> <span class=n>int_range_to_dtype</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>moptipyapps.ttp.game_encoding</span><span class=w> </span><span class=kn>import</span> <span class=p>(</span>
<span class=gp>... </span>    <span class=n>search_space_for_n_and_rounds</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>teams</span> <span class=o>=</span> <span class=mi>2</span>
<span class=gp>>>> </span><span class=n>rounds</span> <span class=o>=</span> <span class=mi>2</span>
<span class=gp>>>> </span><span class=n>perm</span> <span class=o>=</span> <span class=n>search_space_for_n_and_rounds</span><span class=p>(</span><span class=n>teams</span><span class=p>,</span> <span class=n>rounds</span><span class=p>)</span><span class=o>.</span><span class=n>blueprint</span>
<span class=gp>>>> </span><span class=n>dest</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>empty</span><span class=p>((</span><span class=n>rounds</span> <span class=o>*</span> <span class=p>(</span><span class=n>teams</span> <span class=o>-</span> <span class=mi>1</span><span class=p>),</span> <span class=n>teams</span><span class=p>),</span>
<span class=gp>... </span>                <span class=n>int_range_to_dtype</span><span class=p>(</span><span class=o>-</span><span class=n>teams</span><span class=p>,</span> <span class=n>teams</span><span class=p>))</span>
<span class=gp>>>> </span><span class=n>map_games_2</span><span class=p>(</span><span class=n>perm</span><span class=p>,</span> <span class=n>dest</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>dest</span><span class=p>)</span>
<span class=go>[[ 2 -1]</span>
<span class=go> [-2  1]]</span>
<span class=gp>>>> </span><span class=n>teams</span> <span class=o>=</span> <span class=mi>4</span>
<span class=gp>>>> </span><span class=n>rounds</span> <span class=o>=</span> <span class=mi>2</span>
<span class=gp>>>> </span><span class=n>perm</span> <span class=o>=</span> <span class=n>search_space_for_n_and_rounds</span><span class=p>(</span><span class=n>teams</span><span class=p>,</span> <span class=n>rounds</span><span class=p>)</span><span class=o>.</span><span class=n>blueprint</span>
<span class=gp>>>> </span><span class=n>dest</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>empty</span><span class=p>((</span><span class=n>rounds</span> <span class=o>*</span> <span class=p>(</span><span class=n>teams</span> <span class=o>-</span> <span class=mi>1</span><span class=p>),</span> <span class=n>teams</span><span class=p>),</span>
<span class=gp>... </span>                <span class=n>int_range_to_dtype</span><span class=p>(</span><span class=o>-</span><span class=n>teams</span><span class=p>,</span> <span class=n>teams</span><span class=p>))</span>
<span class=gp>>>> </span><span class=n>map_games_2</span><span class=p>(</span><span class=n>perm</span><span class=p>,</span> <span class=n>dest</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>dest</span><span class=p>)</span>
<span class=go>[[ 2 -1  4 -3]</span>
<span class=go> [ 3  4 -1 -2]</span>
<span class=go> [ 4  3 -2 -1]</span>
<span class=go> [-2  1 -4  3]</span>
<span class=go> [-3 -4  1  2]</span>
<span class=go> [-4 -3  2  1]]</span>
<span class=go> >>> from moptipyapps.ttp.instance import Instance</span>
<span class=go> >>> inst = Instance.from_resource("circ10")</span>
<span class=go> >>> perm = np.array([73,77,55,74,21,20,3,11,63,19,38,8,27,47,88,16,75,</span>
<span class=go> ...     45,89,36,24,80,17,40,0,32,53,82,31,13,12,66,71,6,87,84,2,60,61,</span>
<span class=go> ...     10,30,58,49,57,54,23,26,46,59,42,29,62,22,18,50,78,37,34,65,43,</span>
<span class=go> ...     48,85,86,83,56,41,5,81,52,15,51,9,4,76,7,69,67,33,79,72,35,25,</span>
<span class=go> ...     1,14,70,44,68,64,28,39])</span>
<span class=gp>>>> </span><span class=n>teams</span> <span class=o>=</span> <span class=mi>10</span>
<span class=gp>>>> </span><span class=n>rounds</span> <span class=o>=</span> <span class=mi>2</span>
<span class=gp>>>> </span><span class=n>dest</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>empty</span><span class=p>((</span><span class=n>rounds</span> <span class=o>*</span> <span class=p>(</span><span class=n>teams</span> <span class=o>-</span> <span class=mi>1</span><span class=p>),</span> <span class=n>teams</span><span class=p>),</span>
<span class=gp>... </span>                <span class=n>int_range_to_dtype</span><span class=p>(</span><span class=o>-</span><span class=n>teams</span><span class=p>,</span> <span class=n>teams</span><span class=p>))</span>
<span class=gp>>>> </span><span class=n>map_games_2</span><span class=p>(</span><span class=n>perm</span><span class=p>,</span> <span class=n>dest</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>dest</span><span class=p>)</span>
<span class=go>[[ -8  -9   5   7  -3  10  -4   1   2  -6]</span>
<span class=go> [  5  -7   4  -3  -1  -9   2 -10   6   8]</span>
<span class=go> [ 10   4  -9  -2   6  -5   8  -7   3  -1]</span>
<span class=go> [ -4  -3   2   1  -7   8   5  -6 -10   9]</span>
<span class=go> [ -6   9  -5  -8   3   1 -10   4  -2   7]</span>
<span class=go> [ -5  10  -6  -9   1   3  -8   7   4  -2]</span>
<span class=go> [  2  -1   8   6   7  -4  -5  -3  10  -9]</span>
<span class=go> [  8 -10   6   5  -4  -3   9  -1  -7   2]</span>
<span class=go> [  4   6   7  -1   9  -2  -3  10  -5  -8]</span>
<span class=go> [ -7   5  -8 -10  -2   9   1   3  -6   4]</span>
<span class=go> [-10   3  -2  -7  -6   5   4  -9   8   1]</span>
<span class=go> [  3  -4  -1   2  10  -8  -9   6   7  -5]</span>
<span class=go> [  9  -8  10  -5   4  -7   6   2  -1  -3]</span>
<span class=go> [ -3  -6   1   9   8   2  10  -5  -4  -7]</span>
<span class=go> [ -2   1   9   8 -10   7  -6  -4  -3   5]</span>
<span class=go> [  7   8 -10  -6  -9   4  -1  -2   5   3]</span>
<span class=go> [ -9   7  -4   3  -8 -10  -2   5   1   6]</span>
<span class=go> [  6  -5  -7  10   2  -1   3   9  -8  -4]]</span>
<span class=gp>>>> </span><span class=n>dest</span><span class=o>.</span><span class=n>shape</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>*</span> <span class=n>dest</span><span class=o>.</span><span class=n>shape</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>-</span> <span class=n>np</span><span class=o>.</span><span class=n>count_nonzero</span><span class=p>(</span><span class=n>dest</span><span class=p>)</span>
<span class=go>0</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>moptipyapps.ttp.game_encoding</span><span class=w> </span><span class=kn>import</span> <span class=n>re_encode</span>
<span class=gp>>>> </span><span class=n>re_encode</span><span class=p>(</span><span class=n>perm</span><span class=p>,</span> <span class=n>dest</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>perm</span><span class=p>)</span>
<span class=go>[21 32 53 63 73  3 20 55 77 88  8 11 40 60 74 19 27 51 58 89 16 38 45 66</span>
<span class=go> 87 17 36 47 69 75  0 24 31 41 80  6 22 30 61 82  2 13 23 43 71 12 52 54</span>
<span class=go> 65 84 10 49 57 79 81  1 28 44 68 78  7 26 39 59 64 18 34 42 46 62  9 25</span>
<span class=go> 33 50 85  5 15 48 76 83 14 29 67 72 86  4 35 37 56 70]</span>
<span class=gp>>>> </span><span class=n>map_games_2</span><span class=p>(</span><span class=n>perm</span><span class=p>,</span> <span class=n>dest</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>dest</span><span class=p>)</span>
<span class=go>[[ -8  -9   5   7  -3  10  -4   1   2  -6]</span>
<span class=go> [  5  -7   4  -3  -1  -9   2 -10   6   8]</span>
<span class=go> [ 10   4  -9  -2   6  -5   8  -7   3  -1]</span>
<span class=go> [ -4  -3   2   1  -7   8   5  -6 -10   9]</span>
<span class=go> [ -6   9  -5  -8   3   1 -10   4  -2   7]</span>
<span class=go> [ -5  10  -6  -9   1   3  -8   7   4  -2]</span>
<span class=go> [  2  -1   8   6   7  -4  -5  -3  10  -9]</span>
<span class=go> [  8 -10   6   5  -4  -3   9  -1  -7   2]</span>
<span class=go> [  4   6   7  -1   9  -2  -3  10  -5  -8]</span>
<span class=go> [ -7   5  -8 -10  -2   9   1   3  -6   4]</span>
<span class=go> [-10   3  -2  -7  -6   5   4  -9   8   1]</span>
<span class=go> [  3  -4  -1   2  10  -8  -9   6   7  -5]</span>
<span class=go> [  9  -8  10  -5   4  -7   6   2  -1  -3]</span>
<span class=go> [ -3  -6   1   9   8   2  10  -5  -4  -7]</span>
<span class=go> [ -2   1   9   8 -10   7  -6  -4  -3   5]</span>
<span class=go> [  7   8 -10  -6  -9   4  -1  -2   5   3]</span>
<span class=go> [ -9   7  -4   3  -8 -10  -2   5   1   6]</span>
<span class=go> [  6  -5  -7  10   2  -1   3   9  -8  -4]]</span>
<span class=go> >>> inst = Instance.from_resource("con14")</span>
<span class=go> >>> perm = np.array([70,114,54,51,98,31,49,46,148,169,174,151,155,110,</span>
<span class=go> ...     75,118,128,81,171,19,133,93,5,91,47,1,84,109,142,121,7,40,163,</span>
<span class=go> ...     61,20,96,165,177,160,39,73,37,101,108,119,65,2,117,164,106,60,</span>
<span class=go> ...     145,105,90,170,74,8,26,94,10,22,86,120,154,89,66,77,178,140,48,</span>
<span class=go> ...     0,52,159,25,176,135,63,57,76,161,68,124,162,29,55,80,24,45,85,</span>
<span class=go> ...     115,131,100,17,53,27,38,95,158,104,175,87,123,167,97,79,112,</span>
<span class=go> ...     172,127,136,12,44,50,102,69,144,143,113,4,181,88,166,150,59,</span>
<span class=go> ...     141,72,125,116,132,14,147,153,129,111,92,62,6,32,82,16,179,21,</span>
<span class=go> ...     3,126,134,122,149,146,36,107,34,103,42,41,18,35,78,28,137,43,</span>
<span class=go> ...     33,71,99,139,56,23,138,67,168,130,30,180,152,83,9,13,173,11,</span>
<span class=go> ...     157,156,64,15,58])</span>
<span class=gp>>>> </span><span class=n>teams</span> <span class=o>=</span> <span class=mi>14</span>
<span class=gp>>>> </span><span class=n>rounds</span> <span class=o>=</span> <span class=mi>2</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>moptipy.utils.nputils</span><span class=w> </span><span class=kn>import</span> <span class=n>int_range_to_dtype</span>
<span class=gp>>>> </span><span class=n>dest</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>empty</span><span class=p>((</span><span class=n>rounds</span> <span class=o>*</span> <span class=p>(</span><span class=n>teams</span> <span class=o>-</span> <span class=mi>1</span><span class=p>),</span> <span class=n>teams</span><span class=p>),</span>
<span class=gp>... </span>                <span class=n>int_range_to_dtype</span><span class=p>(</span><span class=o>-</span><span class=n>teams</span><span class=p>,</span> <span class=n>teams</span><span class=p>))</span>
<span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>moptipyapps.ttp.game_encoding_2</span><span class=w> </span><span class=kn>import</span> <span class=n>map_games_2</span>
<span class=gp>>>> </span><span class=n>map_games_2</span><span class=p>(</span><span class=n>perm</span><span class=p>,</span> <span class=n>dest</span><span class=p>)</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>dest</span><span class=p>)</span>
<span class=go>[[ -8 -10  -5  14   3   7  -6   1  12   2 -13  -9  11  -4]</span>
<span class=go> [-14  -6   7  12  11   2  -3   9  -8  13  -5  -4 -10   1]</span>
<span class=go> [  7   8 -14   9 -10 -12  -1  -2  -4   5  13   6 -11   3]</span>
<span class=go> [ -5  11  -8  -7   1 -14   4   3 -12 -13  -2   9  10   6]</span>
<span class=go> [  3  -5  -1 -11   2  10  -9 -13   7  -6   4  14   8 -12]</span>
<span class=go> [  9  -3   2  10 -13  12   8  -7  -1  -4  14  -6   5 -11]</span>
<span class=go> [-10  -4  13   2 -11  -9  14  12   6   1   5  -8  -3  -7]</span>
<span class=go> [ -4   9 -10   1   7  -8  -5   6  -2   3 -14  13 -12  11]</span>
<span class=go> [ -6 -11 -12  -8  10   1  13   4 -14  -5   2   3  -7   9]</span>
<span class=go> [  4 -14 -13  -1  -9  11  10 -12   5  -7  -6   8   3   2]</span>
<span class=go> [ 10  -7   5   8  -3  14   2  -4 -13  -1  12 -11   9  -6]</span>
<span class=go> [ 12  14  -9 -10  13 -11  -8   7   3   4   6  -1  -5  -2]</span>
<span class=go> [ -3  -9   1  11  -8  13  12   5   2 -14  -4  -7  -6  10]</span>
<span class=go> [  2  -1  -7 -13  -6   5   3 -14  10  -9 -12  11   4   8]</span>
<span class=go> [-11 -12  14  -5   4 -13   9 -10  -7   8   1   2   6  -3]</span>
<span class=go> [ -9   3  -2  -6 -14   4 -13  11   1  12  -8 -10   7   5]</span>
<span class=go> [-12  13   8   5  -4 -10 -14  -3  11   6  -9   1  -2   7]</span>
<span class=go> [  8   6  10 -14 -12  -2  11  -1  13  -3  -7   5  -9   4]</span>
<span class=go> [ 14  -8 -11   6   9  -4 -10   2  -5   7   3 -13  12  -1]</span>
<span class=go> [ -2   1  -6  13  12   3 -11  14 -10   9   7  -5  -4  -8]</span>
<span class=go> [ 11   5  12   7  -2   9  -4  13  -6  14  -1  -3  -8 -10]</span>
<span class=go> [  6  10  11 -12  -7  -1   5  -9   8  -2  -3   4 -14  13]</span>
<span class=go> [  5 -13  -4   3  -1   8 -12  -6  14  11 -10   7   2  -9]</span>
<span class=go> [-13   7   6  -9  14  -3  -2 -11   4 -12   8  10   1  -5]</span>
<span class=go> [ -7  12   4  -3   6  -5   1  10 -11  -8   9  -2  14 -13]</span>
<span class=go> [ 13   4   9  -2   8  -7   6  -5  -3 -11  10 -14  -1  12]]</span>
</pre></div></div></dl></section><section id=module-moptipyapps.ttp.game_plan><span id=moptipyapps-ttp-game-plan-module></span><h2>moptipyapps.ttp.game_plan module<a title="Link to this heading"class=headerlink href=#module-moptipyapps.ttp.game_plan>¶</a></h2><p>A game plan assigns teams to games.<p>A game plan is a two-dimensional matrix <cite>G</cite>. The rows are the time slots. There is one column for each time. If <cite>G</cite> has value <cite>v</cite> at row <cite>i</cite> and column <cite>j</cite>, then this means:<ul class=simple><li><p>at the time slot <cite>i</cite> …<li><dl class=simple><dt>the team with name <cite>j+1</cite> plays<dd><ul><li><p>no team if <cite>v == 0</cite>,<li><p><em>at home</em> against the team <cite>v</cite> if <cite>v > 0</cite>, i.e., team <cite>v</cite> travels to the home stadium of team <cite>j+1</cite><li><p><em>away</em> against the team <cite>-v</cite> if <cite>v < 0</cite>, i.e., team <cite>j+1</cite> travels to the home stadium of team <cite>-v</cite> and plays against them there</ul></dl></ul><p>Indices in matrices are zero-based, i.e., the lowest index for a row <cite>i</cite> is <cite>0</cite> and the lowest index for a column <cite>j</cite> is also <cite>0</cite>. However, team names are one-based, i.e., that with <cite>1</cite>. Therefore, we need to translate the zero-based column index <cite>j</cite> to a team name by adding <cite>1</cite> to it.<p>This is just a numerical variant of the game plan representation given at <<a class="reference external"href=https://robinxval.ugent.be/RobinX/travelRepo.php>https://robinxval.ugent.be/RobinX/travelRepo.php</a>>. Indeed, the <cite>str(…)</cite> representation of a game plan is exactly the table shown there.<p>Of course, if <cite>G[i, j] = v</cite>, then <cite>G[i, v - 1] = -(j + 1)</cite> should hold if <cite>v > 0</cite>, for example. Vice versa, if <cite>v < 0</cite> and <cite>G[i, j] = v</cite>, then <cite>G[i, (-v) - 1] = j + 1</cite> should hold. Such constraints are checked by the <a class="reference internal"href=#module-moptipyapps.ttp.errors title=moptipyapps.ttp.errors><code class="xref py py-mod docutils literal notranslate"><span class=pre>errors</span></code></a> objective function.<p>The corresponding space implementation, <a class="reference internal"href=#module-moptipyapps.ttp.game_plan_space title=moptipyapps.ttp.game_plan_space><code class="xref py py-mod docutils literal notranslate"><span class=pre>game_plan_space</span></code></a>, offers the functionality to convert strings to game plans as well as to instantiate them in a black-box algorithm.<dl class="py class"><dt class="sig sig-object py"id=moptipyapps.ttp.game_plan.GamePlan><em class=property><span class=k><span class=pre>class</span></span><span class=w> </span></em><span class="sig-prename descclassname"><span class=pre>moptipyapps.ttp.game_plan.</span></span><span class="sig-name descname"><span class=pre>GamePlan</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>instance</span></span><span class=p><span class=pre>:</span></span><span class=w> </span><span class=n><a class="reference internal"href=#moptipyapps.ttp.instance.Instance title=moptipyapps.ttp.instance.Instance><span class=pre>Instance</span></a></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/game_plan.html#GamePlan><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.game_plan.GamePlan>¶</a><dd><p>Bases: <a class="reference external"title="(in moptipy v0.9.148)"href=https://thomasweise.github.io/moptipy/moptipy.api.html#moptipy.api.component.Component><code class="xref py py-class docutils literal notranslate"><span class=pre>Component</span></code></a>, <a class="reference external"title="(in NumPy v2.2)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></p> <p>A game plan, i.e., a solution to the Traveling Tournament Problem.</p> <dl class="py attribute"><dt class="sig sig-object py"id=moptipyapps.ttp.game_plan.GamePlan.instance><span class="sig-name descname"><span class=pre>instance</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference internal"href=#moptipyapps.ttp.instance.Instance title=moptipyapps.ttp.instance.Instance><code class="xref py py-class docutils literal notranslate"><span class=pre>Instance</span></code></a></em><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.game_plan.GamePlan.instance>¶</a><dd><p>the TTP instance</p></dl></dl></section><section id=module-moptipyapps.ttp.game_plan_space><span id=moptipyapps-ttp-game-plan-space-module></span><h2>moptipyapps.ttp.game_plan_space module<a title="Link to this heading"class=headerlink href=#module-moptipyapps.ttp.game_plan_space>¶</a></h2><p>Here we provide a <a class="reference external"title="(in moptipy v0.9.148)"href=https://thomasweise.github.io/moptipy/moptipy.api.html#moptipy.api.space.Space><code class="xref py py-class docutils literal notranslate"><span class=pre>Space</span></code></a> of bin game plans.<p>The bin game plans object is defined in module <a class="reference internal"href=#module-moptipyapps.ttp.game_plan title=moptipyapps.ttp.game_plan><code class="xref py py-mod docutils literal notranslate"><span class=pre>game_plan</span></code></a>. Basically, it is a two-dimensional numpy array holding, for each day (or time slot) for each team the opposing team.<dl class="py class"><dt class="sig sig-object py"id=moptipyapps.ttp.game_plan_space.GamePlanSpace><em class=property><span class=k><span class=pre>class</span></span><span class=w> </span></em><span class="sig-prename descclassname"><span class=pre>moptipyapps.ttp.game_plan_space.</span></span><span class="sig-name descname"><span class=pre>GamePlanSpace</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>instance</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/game_plan_space.html#GamePlanSpace><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.game_plan_space.GamePlanSpace>¶</a><dd><p>Bases: <a class="reference external"title="(in moptipy v0.9.148)"href=https://thomasweise.github.io/moptipy/moptipy.api.html#moptipy.api.space.Space><code class="xref py py-class docutils literal notranslate"><span class=pre>Space</span></code></a></p> <p>An implementation of the <cite>Space</cite> API of for game plans.</p> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.ttp.game_plan_space.GamePlanSpace.create><span class="sig-name descname"><span class=pre>create</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/game_plan_space.html#GamePlanSpace.create><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.game_plan_space.GamePlanSpace.create>¶</a><dd><p>Create a game plan without assigning items to locations.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference internal"href=#moptipyapps.ttp.game_plan.GamePlan title=moptipyapps.ttp.game_plan.GamePlan><code class="xref py py-class docutils literal notranslate"><span class=pre>GamePlan</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>the (empty, uninitialized) packing object</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>inst</span> <span class=o>=</span> <span class=n>Instance</span><span class=o>.</span><span class=n>from_resource</span><span class=p>(</span><span class=s2>"circ8"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>space</span> <span class=o>=</span> <span class=n>GamePlanSpace</span><span class=p>(</span><span class=n>inst</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>x</span> <span class=o>=</span> <span class=n>space</span><span class=o>.</span><span class=n>create</span><span class=p>()</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>inst</span><span class=o>.</span><span class=n>rounds</span><span class=p>)</span>
<span class=go>2</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>(</span><span class=n>inst</span><span class=o>.</span><span class=n>n_cities</span><span class=p>)</span>
<span class=go>8</span>
<span class=gp>>>> </span><span class=n>x</span><span class=o>.</span><span class=n>shape</span>
<span class=go>(14, 8)</span>
<span class=gp>>>> </span><span class=n>x</span><span class=o>.</span><span class=n>instance</span> <span class=ow>is</span> <span class=n>inst</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=nb>type</span><span class=p>(</span><span class=n>x</span><span class=p>)</span>
<span class=go>&LTclass 'moptipyapps.ttp.game_plan.GamePlan'></span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.ttp.game_plan_space.GamePlanSpace.from_str><span class="sig-name descname"><span class=pre>from_str</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>text</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/game_plan_space.html#GamePlanSpace.from_str><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.game_plan_space.GamePlanSpace.from_str>¶</a><dd><p>Convert a string to a packing.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>text</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the string</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference internal"href=#moptipyapps.ttp.game_plan.GamePlan title=moptipyapps.ttp.game_plan.GamePlan><code class="xref py py-class docutils literal notranslate"><span class=pre>GamePlan</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the packing</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>inst</span> <span class=o>=</span> <span class=n>Instance</span><span class=o>.</span><span class=n>from_resource</span><span class=p>(</span><span class=s2>"circ6"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>space</span> <span class=o>=</span> <span class=n>GamePlanSpace</span><span class=p>(</span><span class=n>inst</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>y1</span> <span class=o>=</span> <span class=n>space</span><span class=o>.</span><span class=n>create</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>y1</span><span class=o>.</span><span class=n>fill</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>y2</span> <span class=o>=</span> <span class=n>space</span><span class=o>.</span><span class=n>from_str</span><span class=p>(</span><span class=n>space</span><span class=o>.</span><span class=n>to_str</span><span class=p>(</span><span class=n>y1</span><span class=p>))</span>
<span class=gp>>>> </span><span class=n>space</span><span class=o>.</span><span class=n>is_equal</span><span class=p>(</span><span class=n>y1</span><span class=p>,</span> <span class=n>y2</span><span class=p>)</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>y1</span> <span class=ow>is</span> <span class=n>y2</span>
<span class=go>False</span>
</pre></div></div></dl> <dl class="py attribute"><dt class="sig sig-object py"id=moptipyapps.ttp.game_plan_space.GamePlanSpace.instance><span class="sig-name descname"><span class=pre>instance</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><code class="xref py py-class docutils literal notranslate"><span class=pre>Final</span></code><span class=pre>[</span><a class="reference internal"href=#moptipyapps.ttp.instance.Instance title=moptipyapps.ttp.instance.Instance><code class="xref py py-class docutils literal notranslate"><span class=pre>Instance</span></code></a><span class=pre>]</span></em><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.game_plan_space.GamePlanSpace.instance>¶</a><dd><p>The instance to which the packings apply.</p></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.ttp.game_plan_space.GamePlanSpace.is_equal><span class="sig-name descname"><span class=pre>is_equal</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>x1</span></span></em>, <em class=sig-param><span class=n><span class=pre>x2</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/game_plan_space.html#GamePlanSpace.is_equal><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.game_plan_space.GamePlanSpace.is_equal>¶</a><dd><p>Check if two bin game plans have the same contents.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>x1</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference internal"href=#moptipyapps.ttp.game_plan.GamePlan title=moptipyapps.ttp.game_plan.GamePlan><code class="xref py py-class docutils literal notranslate"><span class=pre>GamePlan</span></code></a></span>) – the first game plan<li><p><strong>x2</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference internal"href=#moptipyapps.ttp.game_plan.GamePlan title=moptipyapps.ttp.game_plan.GamePlan><code class="xref py py-class docutils literal notranslate"><span class=pre>GamePlan</span></code></a></span>) – the second game plan</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p><cite>True</cite> if both game plans are for the same instance and have the same structure</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>inst</span> <span class=o>=</span> <span class=n>Instance</span><span class=o>.</span><span class=n>from_resource</span><span class=p>(</span><span class=s2>"circ4"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>space</span> <span class=o>=</span> <span class=n>GamePlanSpace</span><span class=p>(</span><span class=n>inst</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>y1</span> <span class=o>=</span> <span class=n>space</span><span class=o>.</span><span class=n>create</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>y1</span><span class=o>.</span><span class=n>fill</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>y2</span> <span class=o>=</span> <span class=n>space</span><span class=o>.</span><span class=n>create</span><span class=p>()</span>
<span class=gp>>>> </span><span class=n>y2</span><span class=o>.</span><span class=n>fill</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>space</span><span class=o>.</span><span class=n>is_equal</span><span class=p>(</span><span class=n>y1</span><span class=p>,</span> <span class=n>y2</span><span class=p>)</span>
<span class=go>True</span>
<span class=gp>>>> </span><span class=n>y1</span> <span class=ow>is</span> <span class=n>y2</span>
<span class=go>False</span>
<span class=gp>>>> </span><span class=n>y1</span><span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=mi>1</span>
<span class=gp>>>> </span><span class=n>space</span><span class=o>.</span><span class=n>is_equal</span><span class=p>(</span><span class=n>y1</span><span class=p>,</span> <span class=n>y2</span><span class=p>)</span>
<span class=go>False</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.ttp.game_plan_space.GamePlanSpace.log_parameters_to><span class="sig-name descname"><span class=pre>log_parameters_to</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>logger</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/game_plan_space.html#GamePlanSpace.log_parameters_to><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.game_plan_space.GamePlanSpace.log_parameters_to>¶</a><dd><p>Log the parameters of the space to the given logger.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>logger</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in moptipy v0.9.148)"href=https://thomasweise.github.io/moptipy/moptipy.utils.html#moptipy.utils.logger.KeyValueLogSection><code class="xref py py-class docutils literal notranslate"><span class=pre>KeyValueLogSection</span></code></a></span>) – the logger for the parameters</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.ttp.game_plan_space.GamePlanSpace.n_points><span class="sig-name descname"><span class=pre>n_points</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/game_plan_space.html#GamePlanSpace.n_points><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.game_plan_space.GamePlanSpace.n_points>¶</a><dd><p>Get the number of game plans.</p> <p>The values in a game plan go from <cite>-n..n</cite>, including zero, and we have <cite>days*n</cite> values. This gives <cite>(2n + 1) ** (days * n)</cite>, where <cite>days</cite> equals <cite>(n - 1) * rounds</cite> and <cite>rounds</cite> is the number of rounds. In total, this gives <cite>(2n + 1) ** ((n - 1) * rounds * n)</cite>.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>the number of possible game plans</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>space</span> <span class=o>=</span> <span class=n>GamePlanSpace</span><span class=p>(</span><span class=n>Instance</span><span class=o>.</span><span class=n>from_resource</span><span class=p>(</span><span class=s2>"circ6"</span><span class=p>))</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>((</span><span class=mi>2</span> <span class=o>*</span> <span class=mi>6</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=o>**</span> <span class=p>((</span><span class=mi>6</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span> <span class=o>*</span> <span class=mi>2</span> <span class=o>*</span> <span class=mi>6</span><span class=p>))</span>
<span class=go>6864377172744689378196133203444067624537070830997366604446306636401</span>
<span class=gp>>>> </span><span class=n>space</span><span class=o>.</span><span class=n>n_points</span><span class=p>()</span>
<span class=go>6864377172744689378196133203444067624537070830997366604446306636401</span>
<span class=gp>>>> </span><span class=n>space</span> <span class=o>=</span> <span class=n>GamePlanSpace</span><span class=p>(</span><span class=n>Instance</span><span class=o>.</span><span class=n>from_resource</span><span class=p>(</span><span class=s2>"circ4"</span><span class=p>))</span>
<span class=gp>>>> </span><span class=n>space</span><span class=o>.</span><span class=n>n_points</span><span class=p>()</span>
<span class=go>79766443076872509863361</span>
<span class=gp>>>> </span><span class=nb>print</span><span class=p>((</span><span class=mi>2</span> <span class=o>*</span> <span class=mi>4</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=o>**</span> <span class=p>((</span><span class=mi>4</span> <span class=o>-</span> <span class=mi>1</span><span class=p>)</span> <span class=o>*</span> <span class=mi>2</span> <span class=o>*</span> <span class=mi>4</span><span class=p>))</span>
<span class=go>79766443076872509863361</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.ttp.game_plan_space.GamePlanSpace.validate><span class="sig-name descname"><span class=pre>validate</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>x</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/game_plan_space.html#GamePlanSpace.validate><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.game_plan_space.GamePlanSpace.validate>¶</a><dd><p>Check if a game plan is an instance of the right object.</p> <p>This method performs a superficial feasibility check, as in the TTP, we try to find feasible game plans and may have infeasible ones. All we check here is that the object is of the right type and dimensions and that it does not contain some out-of-bounds value.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>x</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference internal"href=#moptipyapps.ttp.game_plan.GamePlan title=moptipyapps.ttp.game_plan.GamePlan><code class="xref py py-class docutils literal notranslate"><span class=pre>GamePlan</span></code></a></span>) – the game plan</p><dt class=field-even>Raises<span class=colon>:</span><dd class=field-even><ul class=simple><li><p><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/exceptions.html#TypeError><strong>TypeError</strong></a> – if any component of the game plan is of the wrong type<li><p><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/exceptions.html#ValueError><strong>ValueError</strong></a> – if the game plan is not feasible</ul><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl></dl></dl></section><section id=module-moptipyapps.ttp.instance><span id=moptipyapps-ttp-instance-module></span><h2>moptipyapps.ttp.instance module<a title="Link to this heading"class=headerlink href=#module-moptipyapps.ttp.instance>¶</a></h2><p>An instance of the Traveling Tournament Problem (TTP).<p>The Traveling Tournament Problem (TTP) describes the logistics of a sports league. In this league, <cite>n</cite> teams compete. In each time slot, each team plays against one other team. In each game, one team plays at home and one team plays away with the other team. In each round, every team plays once against every other team. The league may have multiple <a class="reference internal"href=#moptipyapps.ttp.instance.Instance.rounds title=moptipyapps.ttp.instance.Instance.rounds><code class="xref py py-attr docutils literal notranslate"><span class=pre>rounds</span></code></a>. If there are two rounds, then each team plays against each other team once at home and once abroad. If a team plays at home (or abroad) several times in a row, this is called a “streak”. There are minimum and maximum streak length constraints defined, for both at home and abroad. Additionally, if team A plays a team B in one time slot, then the exact inverse game cannot take place in the next time slot. A minimum number of games must take place in between for separation. There can also be a maximum separation length.<p>David Van Bulck of the Sports Scheduling Research group, part of the Faculty of Economics and Business Administration at Ghent University, Belgium, maintains “RobinX: An XML-driven Classification for Round-Robin Sports Timetabling”, a set of benchmark data instances and results of the TTP. We provide some of these instances as resources here. You can also download them directly at <<a class="reference external"href=https://robinxval.ugent.be/RobinX/travelRepo.php>https://robinxval.ugent.be/RobinX/travelRepo.php</a>>. Also, see <<a class="reference external"href=https://robinxval.ugent.be/>https://robinxval.ugent.be/</a>> for more information.<ol class="arabic simple"><li><p>David Van Bulck. Minimum Travel Objective Repository. <em>RobinX: An XML-driven Classification for Round-Robin Sports Timetabling.</em> Faculty of Economics and Business Administration at Ghent University, Belgium. <a class="reference external"href=https://robinxval.ugent.be/>https://robinxval.ugent.be/</a><li><p>Kelly Easton, George L. Nemhauser, and Michael K. Trick. The Traveling Tournament Problem Description and Benchmarks. In <em>Principles and Practice of Constraint Programming (CP’01),</em> November 26 - December 1, 2001, Paphos, Cyprus, pages 580-584, Berlin/Heidelberg, Germany: Springer. ISBN: 978-3-540-42863-3. <a class="reference external"href=https://doi.org/10.1007/3-540-45578-7_43>https://doi.org/10.1007/3-540-45578-7_43</a> <a class="reference external"href=https://www.researchgate.net/publication/220270875>https://www.researchgate.net/publication/220270875</a></ol><dl class="py class"><dt class="sig sig-object py"id=moptipyapps.ttp.instance.Instance><em class=property><span class=k><span class=pre>class</span></span><span class=w> </span></em><span class="sig-prename descclassname"><span class=pre>moptipyapps.ttp.instance.</span></span><span class="sig-name descname"><span class=pre>Instance</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>name</span></span><span class=p><span class=pre>:</span></span><span class=w> </span><span class=n><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><span class=pre>str</span></a></span></em>, <em class=sig-param><span class=n><span class=pre>matrix</span></span><span class=p><span class=pre>:</span></span><span class=w> </span><span class=n><a class="reference external"title="(in NumPy v2.2)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><span class=pre>ndarray</span></a></span></em>, <em class=sig-param><span class=n><span class=pre>teams</span></span><span class=p><span class=pre>:</span></span><span class=w> </span><span class=n><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/typing.html#typing.Iterable><span class=pre>Iterable</span></a><span class=p><span class=pre>[</span></span><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><span class=pre>str</span></a><span class=p><span class=pre>]</span></span></span></em>, <em class=sig-param><span class=n><span class=pre>rounds</span></span><span class=p><span class=pre>:</span></span><span class=w> </span><span class=n><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><span class=pre>int</span></a></span></em>, <em class=sig-param><span class=n><span class=pre>home_streak_min</span></span><span class=p><span class=pre>:</span></span><span class=w> </span><span class=n><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><span class=pre>int</span></a></span></em>, <em class=sig-param><span class=n><span class=pre>home_streak_max</span></span><span class=p><span class=pre>:</span></span><span class=w> </span><span class=n><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><span class=pre>int</span></a></span></em>, <em class=sig-param><span class=n><span class=pre>away_streak_min</span></span><span class=p><span class=pre>:</span></span><span class=w> </span><span class=n><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><span class=pre>int</span></a></span></em>, <em class=sig-param><span class=n><span class=pre>away_streak_max</span></span><span class=p><span class=pre>:</span></span><span class=w> </span><span class=n><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><span class=pre>int</span></a></span></em>, <em class=sig-param><span class=n><span class=pre>separation_min</span></span><span class=p><span class=pre>:</span></span><span class=w> </span><span class=n><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><span class=pre>int</span></a></span></em>, <em class=sig-param><span class=n><span class=pre>separation_max</span></span><span class=p><span class=pre>:</span></span><span class=w> </span><span class=n><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><span class=pre>int</span></a></span></em>, <em class=sig-param><span class=n><span class=pre>tour_length_lower_bound</span></span><span class=p><span class=pre>:</span></span><span class=w> </span><span class=n><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><span class=pre>int</span></a></span><span class=w> </span><span class=o><span class=pre>=</span></span><span class=w> </span><span class=default_value><span class=pre>0</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/instance.html#Instance><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.instance.Instance>¶</a><dd><p>Bases: <a class="reference internal"href=moptipyapps.tsp.html#moptipyapps.tsp.instance.Instance title=moptipyapps.tsp.instance.Instance><code class="xref py py-class docutils literal notranslate"><span class=pre>Instance</span></code></a></p> <p>An instance of Traveling Tournament Problem (TTP).</p> <dl class="py attribute"><dt class="sig sig-object py"id=moptipyapps.ttp.instance.Instance.away_streak_max><span class="sig-name descname"><span class=pre>away_streak_max</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></em><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.instance.Instance.away_streak_max>¶</a><dd><p>the maximum number of games that can be played away in a row</p></dl> <dl class="py attribute"><dt class="sig sig-object py"id=moptipyapps.ttp.instance.Instance.away_streak_min><span class="sig-name descname"><span class=pre>away_streak_min</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></em><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.instance.Instance.away_streak_min>¶</a><dd><p>the minimum number of games that can be played away in a row</p></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.ttp.instance.Instance.from_file><em class=property><span class=k><span class=pre>static</span></span><span class=w> </span></em><span class="sig-name descname"><span class=pre>from_file</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>path</span></span></em>, <em class=sig-param><span class=n><span class=pre>lower_bound_getter</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>None</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/instance.html#Instance.from_file><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.instance.Instance.from_file>¶</a><dd><p>Read a TTP instance from a <cite>robinX</cite> formatted XML file.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>path</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the path to the file<li><p><strong>lower_bound_getter</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/typing.html#typing.Optional><code class="xref py py-data docutils literal notranslate"><span class=pre>Optional</span></code></a>[<a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/typing.html#typing.Callable><code class="xref py py-data docutils literal notranslate"><span class=pre>Callable</span></code></a>[[<a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>], <a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a>]]</span>, default: <code class="docutils literal notranslate"><span class=pre>None</span></code>) – ignored</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference internal"href=#moptipyapps.ttp.instance.Instance title=moptipyapps.ttp.instance.Instance><code class="xref py py-class docutils literal notranslate"><span class=pre>Instance</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the instance</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>os.path</span><span class=w> </span><span class=kn>import</span> <span class=n>dirname</span>
<span class=gp>>>> </span><span class=n>inst</span> <span class=o>=</span> <span class=n>Instance</span><span class=o>.</span><span class=n>from_file</span><span class=p>(</span><span class=n>dirname</span><span class=p>(</span><span class=vm>__file__</span><span class=p>)</span> <span class=o>+</span> <span class=s2>"/robinx/con20.xml"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>inst</span><span class=o>.</span><span class=n>name</span>
<span class=go>'con20'</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.ttp.instance.Instance.from_resource><em class=property><span class=k><span class=pre>static</span></span><span class=w> </span></em><span class="sig-name descname"><span class=pre>from_resource</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>name</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/instance.html#Instance.from_resource><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.instance.Instance.from_resource>¶</a><dd><p>Load a TTP instance from a resource.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>name</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a></span>) – the name string</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference internal"href=#moptipyapps.ttp.instance.Instance title=moptipyapps.ttp.instance.Instance><code class="xref py py-class docutils literal notranslate"><span class=pre>Instance</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the instance</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>insta</span> <span class=o>=</span> <span class=n>Instance</span><span class=o>.</span><span class=n>from_resource</span><span class=p>(</span><span class=s2>"bra24"</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>insta</span><span class=o>.</span><span class=n>n_cities</span>
<span class=go>24</span>
<span class=gp>>>> </span><span class=n>insta</span><span class=o>.</span><span class=n>name</span>
<span class=go>'bra24'</span>
<span class=gp>>>> </span><span class=n>insta</span><span class=o>.</span><span class=n>teams</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
<span class=go>'Atl.Mineiro'</span>
<span class=gp>>>> </span><span class=n>insta</span><span class=o>.</span><span class=n>teams</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span>
<span class=go>'Atl.Paranaense'</span>
<span class=gp>>>> </span><span class=n>insta</span><span class=o>.</span><span class=n>rounds</span>
<span class=go>2</span>
<span class=gp>>>> </span><span class=n>insta</span><span class=o>.</span><span class=n>home_streak_min</span>
<span class=go>1</span>
<span class=gp>>>> </span><span class=n>insta</span><span class=o>.</span><span class=n>home_streak_max</span>
<span class=go>3</span>
<span class=gp>>>> </span><span class=n>insta</span><span class=o>.</span><span class=n>away_streak_min</span>
<span class=go>1</span>
<span class=gp>>>> </span><span class=n>insta</span><span class=o>.</span><span class=n>away_streak_max</span>
<span class=go>3</span>
<span class=gp>>>> </span><span class=n>insta</span><span class=o>.</span><span class=n>separation_min</span>
<span class=go>1</span>
<span class=gp>>>> </span><span class=n>insta</span><span class=o>.</span><span class=n>separation_max</span>
<span class=go>46</span>
</pre></div></div></dl> <dl class="py attribute"><dt class="sig sig-object py"id=moptipyapps.ttp.instance.Instance.game_plan_dtype><span class="sig-name descname"><span class=pre>game_plan_dtype</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in NumPy v2.2)"href=https://numpy.org/doc/stable/reference/generated/numpy.dtype.html#numpy.dtype><code class="xref py py-class docutils literal notranslate"><span class=pre>dtype</span></code></a></em><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.instance.Instance.game_plan_dtype>¶</a><dd><p>the data type to be used for plans</p></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.ttp.instance.Instance.get_optimal_plan_length_bounds><span class="sig-name descname"><span class=pre>get_optimal_plan_length_bounds</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/instance.html#Instance.get_optimal_plan_length_bounds><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.instance.Instance.get_optimal_plan_length_bounds>¶</a><dd><p>Get lower and upper bounds in which the <em>optimal</em> plan length resides.</p> <p>These are the bounds for the optimal tour length of <em>feasible</em> solutions. If we know the feasible solution with the smallest possible tour length, then the <a class="reference internal"href=#module-moptipyapps.ttp.game_plan title=moptipyapps.ttp.game_plan><code class="xref py py-class docutils literal notranslate"><span class=pre>game_plan</span></code></a> objective function would return a value within these limits for this solution. The limits for the RobinX instance have been taken from <a class="reference external"href=https://robinxval.ugent.be/RobinX/travelRepo.php>https://robinxval.ugent.be/RobinX/travelRepo.php</a> on 2024-05-10.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#tuple><code class="xref py py-class docutils literal notranslate"><span class=pre>tuple</span></code></a>[<a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a>, <a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a>]</span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p>a tuple of the lower and upper limit for the optimal plan length</p></dl></dl> <dl class="py attribute"><dt class="sig sig-object py"id=moptipyapps.ttp.instance.Instance.home_streak_max><span class="sig-name descname"><span class=pre>home_streak_max</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></em><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.instance.Instance.home_streak_max>¶</a><dd><p>the maximum number of games that can be played at home in a row</p></dl> <dl class="py attribute"><dt class="sig sig-object py"id=moptipyapps.ttp.instance.Instance.home_streak_min><span class="sig-name descname"><span class=pre>home_streak_min</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></em><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.instance.Instance.home_streak_min>¶</a><dd><p>the minimum number of games that can be played at home in a row</p></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.ttp.instance.Instance.list_resources><em class=property><span class=k><span class=pre>static</span></span><span class=w> </span></em><span class="sig-name descname"><span class=pre>list_resources</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>symmetric</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>True</span></span></em>, <em class=sig-param><span class=n><span class=pre>asymmetric</span></span><span class=o><span class=pre>=</span></span><span class=default_value><span class=pre>True</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/instance.html#Instance.list_resources><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.instance.Instance.list_resources>¶</a><dd><p>Get a tuple of all the TTP instances available as resource.</p> <p>All instances of the <cite>robinX</cite> set provided here are symmetric.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>symmetric</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>True</span></code>) – include the instances with symmetric distance matrices<li><p><strong>asymmetric</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span>, default: <code class="docutils literal notranslate"><span class=pre>True</span></code>) – include the asymmetric instances with asymmetric distance matrices</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#tuple><code class="xref py py-class docutils literal notranslate"><span class=pre>tuple</span></code></a>[<a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a>, <a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/constants.html#Ellipsis><code class="xref py py-data docutils literal notranslate"><span class=pre>...</span></code></a>]</span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the tuple with the instance names</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=nb>len</span><span class=p>(</span><span class=n>Instance</span><span class=o>.</span><span class=n>list_resources</span><span class=p>())</span>
<span class=go>118</span>
<span class=gp>>>> </span><span class=nb>len</span><span class=p>(</span><span class=n>Instance</span><span class=o>.</span><span class=n>list_resources</span><span class=p>(</span><span class=kc>False</span><span class=p>,</span> <span class=kc>True</span><span class=p>))</span>
<span class=go>0</span>
<span class=gp>>>> </span><span class=nb>len</span><span class=p>(</span><span class=n>Instance</span><span class=o>.</span><span class=n>list_resources</span><span class=p>(</span><span class=kc>True</span><span class=p>,</span> <span class=kc>False</span><span class=p>))</span>
<span class=go>118</span>
</pre></div></div></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.ttp.instance.Instance.log_parameters_to><span class="sig-name descname"><span class=pre>log_parameters_to</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>logger</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/instance.html#Instance.log_parameters_to><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.instance.Instance.log_parameters_to>¶</a><dd><p>Log the parameters of the instance to the given logger.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>logger</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in moptipy v0.9.148)"href=https://thomasweise.github.io/moptipy/moptipy.utils.html#moptipy.utils.logger.KeyValueLogSection><code class="xref py py-class docutils literal notranslate"><span class=pre>KeyValueLogSection</span></code></a></span>) – the logger for the parameters</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=kn>from</span><span class=w> </span><span class=nn>moptipy.utils.logger</span><span class=w> </span><span class=kn>import</span> <span class=n>InMemoryLogger</span>
<span class=gp>>>> </span><span class=k>with</span> <span class=n>InMemoryLogger</span><span class=p>()</span> <span class=k>as</span> <span class=n>l</span><span class=p>:</span>
<span class=gp>... </span>    <span class=k>with</span> <span class=n>l</span><span class=o>.</span><span class=n>key_values</span><span class=p>(</span><span class=s2>"I"</span><span class=p>)</span> <span class=k>as</span> <span class=n>kv</span><span class=p>:</span>
<span class=gp>... </span>        <span class=n>Instance</span><span class=o>.</span><span class=n>from_resource</span><span class=p>(</span><span class=s2>"gal4"</span><span class=p>)</span><span class=o>.</span><span class=n>log_parameters_to</span><span class=p>(</span><span class=n>kv</span><span class=p>)</span>
<span class=gp>... </span>    <span class=nb>print</span><span class=p>(</span><span class=nb>repr</span><span class=p>(</span><span class=s1>'@'</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=n>l</span><span class=o>.</span><span class=n>get_log</span><span class=p>())))</span>
<span class=go>'BEGIN_I@name: gal4@class: moptipyapps.ttp.instance.Instance@nCities: 4@tourLengthLowerBound: 67@tourLengthUpperBound: 160@symmetric: T@dtype: h@rounds: 2@homeStreakMin: 1@homeStreakMax: 3@awayStreakMin: 1@awayStreakMax: 3@separationMin: 1@separationMax: 6@gamePlanDtype: b@END_I'</span>
</pre></div></div></dl> <dl class="py attribute"><dt class="sig sig-object py"id=moptipyapps.ttp.instance.Instance.rounds><span class="sig-name descname"><span class=pre>rounds</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></em><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.instance.Instance.rounds>¶</a><dd><p>the number of rounds</p></dl> <dl class="py attribute"><dt class="sig sig-object py"id=moptipyapps.ttp.instance.Instance.separation_max><span class="sig-name descname"><span class=pre>separation_max</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></em><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.instance.Instance.separation_max>¶</a><dd><p>the maximum number of games between a repetition of a game setup</p></dl> <dl class="py attribute"><dt class="sig sig-object py"id=moptipyapps.ttp.instance.Instance.separation_min><span class="sig-name descname"><span class=pre>separation_min</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></em><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.instance.Instance.separation_min>¶</a><dd><p>the minimum number of games between a repetition of a game setup</p></dl> <dl class="py attribute"><dt class="sig sig-object py"id=moptipyapps.ttp.instance.Instance.teams><span class="sig-name descname"><span class=pre>teams</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#tuple><code class="xref py py-class docutils literal notranslate"><span class=pre>tuple</span></code></a><span class=pre>[</span><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/stdtypes.html#str><code class="xref py py-class docutils literal notranslate"><span class=pre>str</span></code></a><span class=pre>,</span> <a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/constants.html#Ellipsis><code class="xref py py-data docutils literal notranslate"><span class=pre>...</span></code></a><span class=pre>]</span></em><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.instance.Instance.teams>¶</a><dd><p>the names of the teams</p></dl></dl></section><section id=module-moptipyapps.ttp.plan_length><span id=moptipyapps-ttp-plan-length-module></span><h2>moptipyapps.ttp.plan_length module<a title="Link to this heading"class=headerlink href=#module-moptipyapps.ttp.plan_length>¶</a></h2><p>An objective computing the total travel length of all teams in a game plan.<p>This objective function takes a game plan as argument and computes the total travel length for all teams. A <a class="reference internal"href=#module-moptipyapps.ttp.game_plan title=moptipyapps.ttp.game_plan><code class="xref py py-mod docutils literal notranslate"><span class=pre>game_plan</span></code></a> is basically a matrix that, for each day (first dimension) stores against which each team (second dimension) plays. If a team plays at home (has a home game), its opponent is stored as a positive number. If the team has an away game, i.e., needs to visit the opponent, then this opponent is stored as a negative number. Team IDs go from <cite>1</cite> to <cite>n</cite>, i.e., a value in <cite>1..n</cite> indicates a home game and a value in <cite>-n..-1</cite> indicates an away game. The value <cite>0</cite> denotes a <cite>bye</cite>, i.e., that no game is scheduled for a team at the given day.<p>The total game plan length is computed as follows:<ol class="arabic simple"><li><p>the total length = 0<li><dl class=simple><dt>for each team,<dd><ol class="arabic simple"><li><p>start at the current location = home<li><dl class=simple><dt>for each day,<dd><ol class="arabic simple"><li><p>if the opponent number is negative, the next location is the opponent’s hometown;<li><p>else if the opponent number is positive, the next location is the own hometown;<li><p>else (if the opponent number is 0): add the <cite>bye penalty</cite> to the total length and jump to the next iteration<li><p>add the distance from the current to the next location to the total length<li><p>set the current location = the next location</ol></dl><li><p>if the current location != own hometown, add the travel distance back from the current location to the hometown to the total travel length.</ol></dl></ol><p>As penalty for the <cite>bye</cite> situation where no game is scheduled, we use twice the maximum distance between any two teams plus 1. The logic is that if a <cite>bye</cite> (i.e., a <cite>0</cite>) inserted into a game plan, it replaces one game. Since it replaces one game, it affects up to two travels, namely from the previous location to the game location and from the game location to the next location. So the optimization process could sneakily try to cut longer legs of the tournament by inserting a <cite>bye</cite>. The longest imaginable travel would be between the two cities that are farthest away from each other and back. By making the penalty for a <cite>bye</cite> exactly one distance unit longer than this longest imaginable distance, we ensure that the travel length can never be reduced by inserting a <cite>bye</cite>. Thus, having a <cite>bye</cite> is always more costly than any other travel it could replace.<dl class="py class"><dt class="sig sig-object py"id=moptipyapps.ttp.plan_length.GamePlanLength><em class=property><span class=k><span class=pre>class</span></span><span class=w> </span></em><span class="sig-prename descclassname"><span class=pre>moptipyapps.ttp.plan_length.</span></span><span class="sig-name descname"><span class=pre>GamePlanLength</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>instance</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/plan_length.html#GamePlanLength><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.plan_length.GamePlanLength>¶</a><dd><p>Bases: <a class="reference external"title="(in moptipy v0.9.148)"href=https://thomasweise.github.io/moptipy/moptipy.api.html#moptipy.api.objective.Objective><code class="xref py py-class docutils literal notranslate"><span class=pre>Objective</span></code></a></p> <p>Compute the total travel length of a game plan.</p> <p>This objective function sums up all the travel lengths over all teams. Days without game (<cite>bye</cite>) are penalized.</p> <dl class="py attribute"><dt class="sig sig-object py"id=moptipyapps.ttp.plan_length.GamePlanLength.bye_penalty><span class="sig-name descname"><span class=pre>bye_penalty</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><code class="xref py py-class docutils literal notranslate"><span class=pre>Final</span></code><span class=pre>[</span><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a><span class=pre>]</span></em><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.plan_length.GamePlanLength.bye_penalty>¶</a><dd><p>the bye penalty</p></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.ttp.plan_length.GamePlanLength.evaluate><span class="sig-name descname"><span class=pre>evaluate</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>x</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/plan_length.html#GamePlanLength.evaluate><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.plan_length.GamePlanLength.evaluate>¶</a><dd><p>Count the errors in a game plan as objective value.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>x</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference internal"href=#moptipyapps.ttp.game_plan.GamePlan title=moptipyapps.ttp.game_plan.GamePlan><code class="xref py py-class docutils literal notranslate"><span class=pre>GamePlan</span></code></a></span>) – the game plan</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the number of errors in the plan</p></dl></dl> <dl class="py attribute"><dt class="sig sig-object py"id=moptipyapps.ttp.plan_length.GamePlanLength.instance><span class="sig-name descname"><span class=pre>instance</span></span><em class=property><span class=p><span class=pre>:</span></span><span class=w> </span><code class="xref py py-class docutils literal notranslate"><span class=pre>Final</span></code><span class=pre>[</span><a class="reference internal"href=#moptipyapps.ttp.instance.Instance title=moptipyapps.ttp.instance.Instance><code class="xref py py-class docutils literal notranslate"><span class=pre>Instance</span></code></a><span class=pre>]</span></em><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.plan_length.GamePlanLength.instance>¶</a><dd><p>the TTP instance</p></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.ttp.plan_length.GamePlanLength.is_always_integer><span class="sig-name descname"><span class=pre>is_always_integer</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/plan_length.html#GamePlanLength.is_always_integer><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.plan_length.GamePlanLength.is_always_integer>¶</a><dd><p>State that this objective function is always integer-valued.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#bool><code class="xref py py-class docutils literal notranslate"><span class=pre>bool</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p><cite>True</cite></p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.ttp.plan_length.GamePlanLength.log_parameters_to><span class="sig-name descname"><span class=pre>log_parameters_to</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>logger</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/plan_length.html#GamePlanLength.log_parameters_to><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.plan_length.GamePlanLength.log_parameters_to>¶</a><dd><p>Log the parameters of the instance to the given logger.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><p><strong>logger</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in moptipy v0.9.148)"href=https://thomasweise.github.io/moptipy/moptipy.utils.html#moptipy.utils.logger.KeyValueLogSection><code class="xref py py-class docutils literal notranslate"><span class=pre>KeyValueLogSection</span></code></a></span>) – the logger for the parameters</p><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/constants.html#None><code class="xref py py-obj docutils literal notranslate"><span class=pre>None</span></code></a></span></p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.ttp.plan_length.GamePlanLength.lower_bound><span class="sig-name descname"><span class=pre>lower_bound</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/plan_length.html#GamePlanLength.lower_bound><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.plan_length.GamePlanLength.lower_bound>¶</a><dd><p>Obtain the lower bound for the travel length.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p><cite>0</cite></p></dl></dl> <dl class="py method"><dt class="sig sig-object py"id=moptipyapps.ttp.plan_length.GamePlanLength.upper_bound><span class="sig-name descname"><span class=pre>upper_bound</span></span><span class=sig-paren>(</span><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/plan_length.html#GamePlanLength.upper_bound><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.plan_length.GamePlanLength.upper_bound>¶</a><dd><p>Compute upper bound for the travel length: All <cite>n*days*bye_penalty</cite>.</p> <dl class="field-list simple"><dt class=field-odd>Return type<span class=colon>:</span><dd class=field-odd><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span></p><dt class=field-even>Returns<span class=colon>:</span><dd class=field-even><p><cite>n * days * self.bye_penalty</cite></p></dl></dl></dl><dl class="py function"><dt class="sig sig-object py"id=moptipyapps.ttp.plan_length.game_plan_length><span class="sig-prename descclassname"><span class=pre>moptipyapps.ttp.plan_length.</span></span><span class="sig-name descname"><span class=pre>game_plan_length</span></span><span class=sig-paren>(</span><em class=sig-param><span class=n><span class=pre>y</span></span></em>, <em class=sig-param><span class=n><span class=pre>distances</span></span></em>, <em class=sig-param><span class=n><span class=pre>bye_penalty</span></span></em><span class=sig-paren>)</span><a class="reference internal"href=_modules/moptipyapps/ttp/plan_length.html#game_plan_length><span class=viewcode-link><span class=pre>[source]</span></span></a><a title="Link to this definition"class=headerlink href=#moptipyapps.ttp.plan_length.game_plan_length>¶</a><dd><p>Compute the total travel length of a game plan.</p> <dl class="field-list simple"><dt class=field-odd>Parameters<span class=colon>:</span><dd class=field-odd><ul class=simple><li><p><strong>y</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.2)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – the game plan<li><p><strong>distances</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in NumPy v2.2)"href=https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray><code class="xref py py-class docutils literal notranslate"><span class=pre>ndarray</span></code></a></span>) – the distance matrix<li><p><strong>bye_penalty</strong> (<span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span>) – the penalty for <cite>bye = 0</cite> entries, i.e., days where no game is scheduled</ul><dt class=field-even>Return type<span class=colon>:</span><dd class=field-even><p><span class=sphinx_autodoc_typehints-type><a class="reference external"title="(in Python v3.13)"href=https://docs.python.org/3/library/functions.html#int><code class="xref py py-class docutils literal notranslate"><span class=pre>int</span></code></a></span></p><dt class=field-odd>Returns<span class=colon>:</span><dd class=field-odd><p>the total plan length</p></dl> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>yy</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([[</span> <span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span>  <span class=mi>4</span><span class=p>,</span> <span class=o>-</span><span class=mi>3</span><span class=p>],</span>
<span class=gp>... </span>               <span class=p>[</span><span class=o>-</span><span class=mi>2</span><span class=p>,</span>  <span class=mi>1</span><span class=p>,</span> <span class=o>-</span><span class=mi>4</span><span class=p>,</span>  <span class=mi>3</span><span class=p>],</span>
<span class=gp>... </span>               <span class=p>[</span> <span class=mi>3</span><span class=p>,</span>  <span class=mi>4</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=o>-</span><span class=mi>2</span><span class=p>],</span>
<span class=gp>... </span>               <span class=p>[</span><span class=o>-</span><span class=mi>3</span><span class=p>,</span> <span class=o>-</span><span class=mi>4</span><span class=p>,</span>  <span class=mi>1</span><span class=p>,</span>  <span class=mi>2</span><span class=p>],</span>
<span class=gp>... </span>               <span class=p>[</span> <span class=mi>4</span><span class=p>,</span>  <span class=mi>3</span><span class=p>,</span> <span class=o>-</span><span class=mi>2</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>],</span>
<span class=gp>... </span>               <span class=p>[</span><span class=o>-</span><span class=mi>4</span><span class=p>,</span> <span class=o>-</span><span class=mi>3</span><span class=p>,</span>  <span class=mi>2</span><span class=p>,</span>  <span class=mi>1</span><span class=p>]],</span> <span class=nb>int</span><span class=p>)</span>
<span class=gp>>>> </span><span class=n>dd</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([[</span> <span class=mi>0</span><span class=p>,</span>  <span class=mi>1</span><span class=p>,</span>  <span class=mi>2</span><span class=p>,</span>  <span class=mi>3</span><span class=p>],</span>
<span class=gp>... </span>               <span class=p>[</span> <span class=mi>7</span><span class=p>,</span>  <span class=mi>0</span><span class=p>,</span>  <span class=mi>4</span><span class=p>,</span>  <span class=mi>5</span><span class=p>],</span>
<span class=gp>... </span>               <span class=p>[</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span>  <span class=mi>0</span><span class=p>,</span>  <span class=mi>6</span><span class=p>],</span>
<span class=gp>... </span>               <span class=p>[</span> <span class=mi>9</span><span class=p>,</span> <span class=mi>11</span><span class=p>,</span> <span class=mi>12</span><span class=p>,</span>  <span class=mi>0</span><span class=p>]],</span> <span class=nb>int</span><span class=p>)</span>
<span class=gp>>>> </span><span class=mi>0</span> <span class=o>+</span> <span class=mi>1</span> <span class=o>+</span> <span class=mi>7</span> <span class=o>+</span> <span class=mi>2</span> <span class=o>+</span> <span class=mi>8</span> <span class=o>+</span> <span class=mi>3</span> <span class=o>+</span> <span class=mi>9</span>  <span class=c1># team 1</span>
<span class=go>30</span>
<span class=gp>>>> </span><span class=mi>7</span> <span class=o>+</span> <span class=mi>1</span> <span class=o>+</span> <span class=mi>0</span> <span class=o>+</span> <span class=mi>5</span> <span class=o>+</span> <span class=mi>11</span> <span class=o>+</span> <span class=mi>4</span> <span class=o>+</span> <span class=mi>10</span>  <span class=c1># team 2</span>
<span class=go>38</span>
<span class=gp>>>> </span><span class=mi>0</span> <span class=o>+</span> <span class=mi>6</span> <span class=o>+</span> <span class=mi>9</span> <span class=o>+</span> <span class=mi>2</span> <span class=o>+</span> <span class=mi>10</span> <span class=o>+</span> <span class=mi>4</span>  <span class=c1># team 3</span>
<span class=go>31</span>
<span class=gp>>>> </span><span class=mi>12</span> <span class=o>+</span> <span class=mi>6</span> <span class=o>+</span> <span class=mi>11</span> <span class=o>+</span> <span class=mi>5</span> <span class=o>+</span> <span class=mi>9</span> <span class=o>+</span> <span class=mi>3</span>  <span class=c1># team 4</span>
<span class=go>46</span>
<span class=gp>>>> </span><span class=mi>30</span> <span class=o>+</span> <span class=mi>38</span> <span class=o>+</span> <span class=mi>31</span> <span class=o>+</span> <span class=mi>46</span>  <span class=c1># total sum</span>
<span class=go>145</span>
<span class=gp>>>> </span><span class=n>game_plan_length</span><span class=p>(</span><span class=n>yy</span><span class=p>,</span> <span class=n>dd</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span>
<span class=go>145</span>
</pre></div></div> <div class="doctest highlight-default notranslate"><div class=highlight><pre><span></span><span class=gp>>>> </span><span class=n>yy</span><span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=mi>0</span>  <span class=c1># add a bye</span>
<span class=gp>>>> </span><span class=mi>0</span> <span class=o>+</span> <span class=mi>25</span> <span class=o>+</span> <span class=mi>0</span> <span class=o>+</span> <span class=mi>2</span> <span class=o>+</span> <span class=mi>8</span> <span class=o>+</span> <span class=mi>3</span> <span class=o>+</span> <span class=mi>9</span>  <span class=c1># team 1</span>
<span class=go>47</span>
<span class=gp>>>> </span><span class=n>game_plan_length</span><span class=p>(</span><span class=n>yy</span><span class=p>,</span> <span class=n>dd</span><span class=p>,</span> <span class=mi>2</span> <span class=o>*</span> <span class=mi>12</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span>
<span class=go>162</span>
</pre></div></div></dl></section></section><div class=clearer></div></div></div></div><div aria-label=Main class=sphinxsidebar role=navigation><div class=sphinxsidebarwrapper><div><h3><a href=index.html>Table of Contents</a></h3><ul><li><a class="reference internal"href=#>moptipyapps.ttp package</a><ul><li><a class="reference internal"href=#subpackages>Subpackages</a><li><a class="reference internal"href=#submodules>Submodules</a><li><a class="reference internal"href=#module-moptipyapps.ttp.errors>moptipyapps.ttp.errors module</a><ul><li><a class="reference internal"href=#moptipyapps.ttp.errors.Errors><code class="docutils literal notranslate"><span class=pre>Errors</span></code></a><ul><li><a class="reference internal"href=#moptipyapps.ttp.errors.Errors.evaluate><code class="docutils literal notranslate"><span class=pre>Errors.evaluate()</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.errors.Errors.instance><code class="docutils literal notranslate"><span class=pre>Errors.instance</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.errors.Errors.is_always_integer><code class="docutils literal notranslate"><span class=pre>Errors.is_always_integer()</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.errors.Errors.lower_bound><code class="docutils literal notranslate"><span class=pre>Errors.lower_bound()</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.errors.Errors.upper_bound><code class="docutils literal notranslate"><span class=pre>Errors.upper_bound()</span></code></a></ul><li><a class="reference internal"href=#moptipyapps.ttp.errors.count_errors><code class="docutils literal notranslate"><span class=pre>count_errors()</span></code></a></ul><li><a class="reference internal"href=#module-moptipyapps.ttp.game_encoding>moptipyapps.ttp.game_encoding module</a><ul><li><a class="reference internal"href=#moptipyapps.ttp.game_encoding.GameEncoding><code class="docutils literal notranslate"><span class=pre>GameEncoding</span></code></a><ul><li><a class="reference internal"href=#moptipyapps.ttp.game_encoding.GameEncoding.instance><code class="docutils literal notranslate"><span class=pre>GameEncoding.instance</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.game_encoding.GameEncoding.search_space><code class="docutils literal notranslate"><span class=pre>GameEncoding.search_space()</span></code></a></ul><li><a class="reference internal"href=#moptipyapps.ttp.game_encoding.game_to_id><code class="docutils literal notranslate"><span class=pre>game_to_id()</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.game_encoding.map_games><code class="docutils literal notranslate"><span class=pre>map_games()</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.game_encoding.re_encode><code class="docutils literal notranslate"><span class=pre>re_encode()</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.game_encoding.search_space_for_n_and_rounds><code class="docutils literal notranslate"><span class=pre>search_space_for_n_and_rounds()</span></code></a></ul><li><a class="reference internal"href=#module-moptipyapps.ttp.game_encoding_2>moptipyapps.ttp.game_encoding_2 module</a><ul><li><a class="reference internal"href=#moptipyapps.ttp.game_encoding_2.GameEncoding2><code class="docutils literal notranslate"><span class=pre>GameEncoding2</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.game_encoding_2.map_games_2><code class="docutils literal notranslate"><span class=pre>map_games_2()</span></code></a></ul><li><a class="reference internal"href=#module-moptipyapps.ttp.game_plan>moptipyapps.ttp.game_plan module</a><ul><li><a class="reference internal"href=#moptipyapps.ttp.game_plan.GamePlan><code class="docutils literal notranslate"><span class=pre>GamePlan</span></code></a><ul><li><a class="reference internal"href=#moptipyapps.ttp.game_plan.GamePlan.instance><code class="docutils literal notranslate"><span class=pre>GamePlan.instance</span></code></a></ul></ul><li><a class="reference internal"href=#module-moptipyapps.ttp.game_plan_space>moptipyapps.ttp.game_plan_space module</a><ul><li><a class="reference internal"href=#moptipyapps.ttp.game_plan_space.GamePlanSpace><code class="docutils literal notranslate"><span class=pre>GamePlanSpace</span></code></a><ul><li><a class="reference internal"href=#moptipyapps.ttp.game_plan_space.GamePlanSpace.create><code class="docutils literal notranslate"><span class=pre>GamePlanSpace.create()</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.game_plan_space.GamePlanSpace.from_str><code class="docutils literal notranslate"><span class=pre>GamePlanSpace.from_str()</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.game_plan_space.GamePlanSpace.instance><code class="docutils literal notranslate"><span class=pre>GamePlanSpace.instance</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.game_plan_space.GamePlanSpace.is_equal><code class="docutils literal notranslate"><span class=pre>GamePlanSpace.is_equal()</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.game_plan_space.GamePlanSpace.log_parameters_to><code class="docutils literal notranslate"><span class=pre>GamePlanSpace.log_parameters_to()</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.game_plan_space.GamePlanSpace.n_points><code class="docutils literal notranslate"><span class=pre>GamePlanSpace.n_points()</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.game_plan_space.GamePlanSpace.validate><code class="docutils literal notranslate"><span class=pre>GamePlanSpace.validate()</span></code></a></ul></ul><li><a class="reference internal"href=#module-moptipyapps.ttp.instance>moptipyapps.ttp.instance module</a><ul><li><a class="reference internal"href=#moptipyapps.ttp.instance.Instance><code class="docutils literal notranslate"><span class=pre>Instance</span></code></a><ul><li><a class="reference internal"href=#moptipyapps.ttp.instance.Instance.away_streak_max><code class="docutils literal notranslate"><span class=pre>Instance.away_streak_max</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.instance.Instance.away_streak_min><code class="docutils literal notranslate"><span class=pre>Instance.away_streak_min</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.instance.Instance.from_file><code class="docutils literal notranslate"><span class=pre>Instance.from_file()</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.instance.Instance.from_resource><code class="docutils literal notranslate"><span class=pre>Instance.from_resource()</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.instance.Instance.game_plan_dtype><code class="docutils literal notranslate"><span class=pre>Instance.game_plan_dtype</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.instance.Instance.get_optimal_plan_length_bounds><code class="docutils literal notranslate"><span class=pre>Instance.get_optimal_plan_length_bounds()</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.instance.Instance.home_streak_max><code class="docutils literal notranslate"><span class=pre>Instance.home_streak_max</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.instance.Instance.home_streak_min><code class="docutils literal notranslate"><span class=pre>Instance.home_streak_min</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.instance.Instance.list_resources><code class="docutils literal notranslate"><span class=pre>Instance.list_resources()</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.instance.Instance.log_parameters_to><code class="docutils literal notranslate"><span class=pre>Instance.log_parameters_to()</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.instance.Instance.rounds><code class="docutils literal notranslate"><span class=pre>Instance.rounds</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.instance.Instance.separation_max><code class="docutils literal notranslate"><span class=pre>Instance.separation_max</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.instance.Instance.separation_min><code class="docutils literal notranslate"><span class=pre>Instance.separation_min</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.instance.Instance.teams><code class="docutils literal notranslate"><span class=pre>Instance.teams</span></code></a></ul></ul><li><a class="reference internal"href=#module-moptipyapps.ttp.plan_length>moptipyapps.ttp.plan_length module</a><ul><li><a class="reference internal"href=#moptipyapps.ttp.plan_length.GamePlanLength><code class="docutils literal notranslate"><span class=pre>GamePlanLength</span></code></a><ul><li><a class="reference internal"href=#moptipyapps.ttp.plan_length.GamePlanLength.bye_penalty><code class="docutils literal notranslate"><span class=pre>GamePlanLength.bye_penalty</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.plan_length.GamePlanLength.evaluate><code class="docutils literal notranslate"><span class=pre>GamePlanLength.evaluate()</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.plan_length.GamePlanLength.instance><code class="docutils literal notranslate"><span class=pre>GamePlanLength.instance</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.plan_length.GamePlanLength.is_always_integer><code class="docutils literal notranslate"><span class=pre>GamePlanLength.is_always_integer()</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.plan_length.GamePlanLength.log_parameters_to><code class="docutils literal notranslate"><span class=pre>GamePlanLength.log_parameters_to()</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.plan_length.GamePlanLength.lower_bound><code class="docutils literal notranslate"><span class=pre>GamePlanLength.lower_bound()</span></code></a><li><a class="reference internal"href=#moptipyapps.ttp.plan_length.GamePlanLength.upper_bound><code class="docutils literal notranslate"><span class=pre>GamePlanLength.upper_bound()</span></code></a></ul><li><a class="reference internal"href=#moptipyapps.ttp.plan_length.game_plan_length><code class="docutils literal notranslate"><span class=pre>game_plan_length()</span></code></a></ul></ul></ul></div><div><h4>Previous topic</h4><p class=topless><a title="previous chapter"href=moptipyapps.tsp.tsplib.html>moptipyapps.tsp.tsplib package</a></div><div><h4>Next topic</h4><p class=topless><a title="next chapter"href=moptipyapps.ttp.robinx.html>moptipyapps.ttp.robinx package</a></div><div aria-label="source link"role=note><h3>This Page</h3><ul class=this-page-menu><li><a href=_sources/moptipyapps.ttp.rst.txt rel=nofollow>Show Source</a></ul></div><search id=searchbox role=search style=display:none> <h3 id=searchlabel>Quick search</h3> <div class=searchformwrapper><form action=search.html class=search><input aria-labelledby=searchlabel autocapitalize=off autocomplete=off autocorrect=off name=q spellcheck=false><input type=submit value=Go></form></div> </search><script>document.getElementById(`searchbox`).style.display=`block`</script></div></div><div class=clearer></div></div><div aria-label=Related class=related role=navigation><h3>Navigation</h3><ul><li class=right style=margin-right:10px><a title="General Index"href=genindex.html>index</a><li class=right><a title="Python Module Index"href=py-modindex.html>modules</a> |<li class=right><a title="moptipyapps.ttp.robinx package"href=moptipyapps.ttp.robinx.html>next</a> |<li class=right><a title="moptipyapps.tsp.tsplib package"href=moptipyapps.tsp.tsplib.html>previous</a> |<li class="nav-item nav-item-0"><a href=index.html>moptipyapps 0.8.68 documentation</a> »<li class="nav-item nav-item-1"><a href=modules.html>moptipyapps</a> »<li class="nav-item nav-item-2"><a href=moptipyapps.html>moptipyapps package</a> »<li class="nav-item nav-item-this"><a href>moptipyapps.ttp package</a></ul></div><div class=footer role=contentinfo>© Copyright 2023-2025, Thomas Weise.</div>
